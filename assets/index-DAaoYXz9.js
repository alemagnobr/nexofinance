(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q2={exports:{}},kg={},H2={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.element"),W3=Symbol.for("react.portal"),K3=Symbol.for("react.fragment"),Y3=Symbol.for("react.strict_mode"),J3=Symbol.for("react.profiler"),X3=Symbol.for("react.provider"),Q3=Symbol.for("react.context"),Z3=Symbol.for("react.forward_ref"),e5=Symbol.for("react.suspense"),t5=Symbol.for("react.memo"),n5=Symbol.for("react.lazy"),m1=Symbol.iterator;function r5(t){return t===null||typeof t!="object"?null:(t=m1&&t[m1]||t["@@iterator"],typeof t=="function"?t:null)}var W2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K2=Object.assign,Y2={};function iu(t,e,n){this.props=t,this.context=e,this.refs=Y2,this.updater=n||W2}iu.prototype.isReactComponent={};iu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};iu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function J2(){}J2.prototype=iu.prototype;function Z_(t,e,n){this.props=t,this.context=e,this.refs=Y2,this.updater=n||W2}var ew=Z_.prototype=new J2;ew.constructor=Z_;K2(ew,iu.prototype);ew.isPureReactComponent=!0;var g1=Array.isArray,X2=Object.prototype.hasOwnProperty,tw={current:null},Q2={key:!0,ref:!0,__self:!0,__source:!0};function Z2(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)X2.call(e,r)&&!Q2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hf,type:t,key:o,ref:s,props:i,_owner:tw.current}}function i5(t,e){return{$$typeof:hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nw(t){return typeof t=="object"&&t!==null&&t.$$typeof===hf}function o5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var y1=/\/+/g;function _v(t,e){return typeof t=="object"&&t!==null&&t.key!=null?o5(""+t.key):e.toString(36)}function Zh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case hf:case W3:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+_v(s,0):r,g1(i)?(n="",t!=null&&(n=t.replace(y1,"$&/")+"/"),Zh(i,e,n,"",function(u){return u})):i!=null&&(nw(i)&&(i=i5(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(y1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",g1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+_v(o,a);s+=Zh(o,e,n,l,i)}else if(l=r5(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+_v(o,a++),s+=Zh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ch(t,e,n){if(t==null)return t;var r=[],i=0;return Zh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function s5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},ep={transition:null},a5={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:ep,ReactCurrentOwner:tw};function eO(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:ch,forEach:function(t,e,n){ch(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ch(t,function(){e++}),e},toArray:function(t){return ch(t,function(e){return e})||[]},only:function(t){if(!nw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=iu;Me.Fragment=K3;Me.Profiler=J3;Me.PureComponent=Z_;Me.StrictMode=Y3;Me.Suspense=e5;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a5;Me.act=eO;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K2({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=tw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)X2.call(e,l)&&!Q2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:hf,type:t.type,key:i,ref:o,props:r,_owner:s}};Me.createContext=function(t){return t={$$typeof:Q3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X3,_context:t},t.Consumer=t};Me.createElement=Z2;Me.createFactory=function(t){var e=Z2.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:Z3,render:t}};Me.isValidElement=nw;Me.lazy=function(t){return{$$typeof:n5,_payload:{_status:-1,_result:t},_init:s5}};Me.memo=function(t,e){return{$$typeof:t5,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=ep.transition;ep.transition={};try{t()}finally{ep.transition=e}};Me.unstable_act=eO;Me.useCallback=function(t,e){return In.current.useCallback(t,e)};Me.useContext=function(t){return In.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return In.current.useDeferredValue(t)};Me.useEffect=function(t,e){return In.current.useEffect(t,e)};Me.useId=function(){return In.current.useId()};Me.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return In.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};Me.useRef=function(t){return In.current.useRef(t)};Me.useState=function(t){return In.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return In.current.useTransition()};Me.version="18.3.1";H2.exports=Me;var B=H2.exports;const U=Ke(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l5=B,u5=Symbol.for("react.element"),c5=Symbol.for("react.fragment"),d5=Object.prototype.hasOwnProperty,f5=l5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h5={key:!0,ref:!0,__self:!0,__source:!0};function tO(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)d5.call(e,r)&&!h5.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:u5,type:t,key:o,ref:s,props:i,_owner:f5.current}}kg.Fragment=c5;kg.jsx=tO;kg.jsxs=tO;q2.exports=kg;var f=q2.exports,V0={},nO={exports:{}},Jn={},rO={exports:{}},iO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var q=$.length;$.push(G);e:for(;0<q;){var Y=q-1>>>1,H=$[Y];if(0<i(H,G))$[Y]=G,$[q]=H,q=Y;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],q=$.pop();if(q!==G){$[0]=q;e:for(var Y=0,H=$.length,ne=H>>>1;Y<ne;){var he=2*(Y+1)-1,W=$[he],le=he+1,ce=$[le];if(0>i(W,q))le<H&&0>i(ce,W)?($[Y]=ce,$[le]=q,Y=le):($[Y]=W,$[he]=q,Y=he);else if(le<H&&0>i(ce,q))$[Y]=ce,$[le]=q,Y=le;else break e}}return G}function i($,G){var q=$.sortIndex-G.sortIndex;return q!==0?q:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,y=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=$)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function P($){if(b=!1,E($),!v)if(n(l)!==null)v=!0,V(S);else{var G=n(u);G!==null&&z(P,G.startTime-$)}}function S($,G){v=!1,b&&(b=!1,w(T),T=-1),y=!0;var q=h;try{for(E(G),d=n(l);d!==null&&(!(d.expirationTime>G)||$&&!M());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var H=Y(d.expirationTime<=G);G=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),E(G)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var he=n(u);he!==null&&z(P,he.startTime-G),ne=!1}return ne}finally{d=null,h=q,y=!1}}var k=!1,C=null,T=-1,I=5,N=-1;function M(){return!(t.unstable_now()-N<I)}function D(){if(C!==null){var $=t.unstable_now();N=$;var G=!0;try{G=C(!0,$)}finally{G?R():(k=!1,C=null)}}else k=!1}var R;if(typeof _=="function")R=function(){_(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,F=j.port2;j.port1.onmessage=D,R=function(){F.postMessage(null)}}else R=function(){x(D,0)};function V($){C=$,k||(k=!0,R())}function z($,G){T=x(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,V(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var q=h;h=G;try{return $()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=h;h=$;try{return G()}finally{h=q}},t.unstable_scheduleCallback=function($,G,q){var Y=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=q+H,$={id:c++,callback:G,priorityLevel:$,startTime:q,expirationTime:H,sortIndex:-1},q>Y?($.sortIndex=q,e(u,$),n(l)===null&&$===n(u)&&(b?(w(T),T=-1):b=!0,z(P,q-Y))):($.sortIndex=H,e(l,$),v||y||(v=!0,V(S))),$},t.unstable_shouldYield=M,t.unstable_wrapCallback=function($){var G=h;return function(){var q=h;h=G;try{return $.apply(this,arguments)}finally{h=q}}}})(iO);rO.exports=iO;var p5=rO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5=B,Yn=p5;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oO=new Set,Yc={};function oa(t,e){ml(t,e),ml(t+"Capture",e)}function ml(t,e){for(Yc[t]=e,t=0;t<e.length;t++)oO.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F0=Object.prototype.hasOwnProperty,g5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v1={},x1={};function y5(t){return F0.call(x1,t)?!0:F0.call(v1,t)?!1:g5.test(t)?x1[t]=!0:(v1[t]=!0,!1)}function v5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x5(t,e,n,r){if(e===null||typeof e>"u"||v5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var rw=/[\-:]([a-z])/g;function iw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rw,iw);en[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rw,iw);en[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rw,iw);en[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ow(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x5(e,n,i,r)&&(n=null),r||i===null?y5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hi=m5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),Ra=Symbol.for("react.portal"),Oa=Symbol.for("react.fragment"),sw=Symbol.for("react.strict_mode"),U0=Symbol.for("react.profiler"),sO=Symbol.for("react.provider"),aO=Symbol.for("react.context"),aw=Symbol.for("react.forward_ref"),B0=Symbol.for("react.suspense"),G0=Symbol.for("react.suspense_list"),lw=Symbol.for("react.memo"),lo=Symbol.for("react.lazy"),lO=Symbol.for("react.offscreen"),b1=Symbol.iterator;function Yu(t){return t===null||typeof t!="object"?null:(t=b1&&t[b1]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,wv;function gc(t){if(wv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wv=e&&e[1]||""}return`
`+wv+t}var Ev=!1;function Tv(t,e){if(!t||Ev)return"";Ev=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ev=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gc(t):""}function b5(t){switch(t.tag){case 5:return gc(t.type);case 16:return gc("Lazy");case 13:return gc("Suspense");case 19:return gc("SuspenseList");case 0:case 2:case 15:return t=Tv(t.type,!1),t;case 11:return t=Tv(t.type.render,!1),t;case 1:return t=Tv(t.type,!0),t;default:return""}}function z0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oa:return"Fragment";case Ra:return"Portal";case U0:return"Profiler";case sw:return"StrictMode";case B0:return"Suspense";case G0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aO:return(t.displayName||"Context")+".Consumer";case sO:return(t._context.displayName||"Context")+".Provider";case aw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lw:return e=t.displayName||null,e!==null?e:z0(t.type)||"Memo";case lo:e=t._payload,t=t._init;try{return z0(t(e))}catch{}}return null}function _5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z0(e);case 8:return e===sw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function w5(t){var e=uO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fh(t){t._valueTracker||(t._valueTracker=w5(t))}function cO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function q0(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dO(t,e){e=e.checked,e!=null&&ow(t,"checked",e,!1)}function H0(t,e){dO(t,e);var n=Fo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?W0(t,e.type,n):e.hasOwnProperty("defaultValue")&&W0(t,e.type,Fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function w1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function W0(t,e,n){(e!=="number"||Tp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yc=Array.isArray;function el(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function K0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(yc(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fo(n)}}function fO(t,e){var n=Fo(e.value),r=Fo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function T1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hh,pO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E5=["Webkit","ms","Moz","O"];Object.keys(Ic).forEach(function(t){E5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ic[e]=Ic[t]})});function mO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ic.hasOwnProperty(t)&&Ic[t]?(""+e).trim():e+"px"}function gO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var T5=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function J0(t,e){if(e){if(T5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function X0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q0=null;function uw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Z0=null,tl=null,nl=null;function S1(t){if(t=gf(t)){if(typeof Z0!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Mg(e),Z0(t.stateNode,t.type,e))}}function yO(t){tl?nl?nl.push(t):nl=[t]:tl=t}function vO(){if(tl){var t=tl,e=nl;if(nl=tl=null,S1(t),e)for(t=0;t<e.length;t++)S1(e[t])}}function xO(t,e){return t(e)}function bO(){}var Sv=!1;function _O(t,e,n){if(Sv)return t(e,n);Sv=!0;try{return xO(t,e,n)}finally{Sv=!1,(tl!==null||nl!==null)&&(bO(),vO())}}function Xc(t,e){var n=t.stateNode;if(n===null)return null;var r=Mg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var ex=!1;if(Pi)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){ex=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{ex=!1}function S5(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Cc=!1,Sp=null,Ap=!1,tx=null,A5={onError:function(t){Cc=!0,Sp=t}};function I5(t,e,n,r,i,o,s,a,l){Cc=!1,Sp=null,S5.apply(A5,arguments)}function C5(t,e,n,r,i,o,s,a,l){if(I5.apply(this,arguments),Cc){if(Cc){var u=Sp;Cc=!1,Sp=null}else throw Error(se(198));Ap||(Ap=!0,tx=u)}}function sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A1(t){if(sa(t)!==t)throw Error(se(188))}function k5(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return A1(i),t;if(o===r)return A1(i),e;o=o.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function EO(t){return t=k5(t),t!==null?TO(t):null}function TO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=TO(t);if(e!==null)return e;t=t.sibling}return null}var SO=Yn.unstable_scheduleCallback,I1=Yn.unstable_cancelCallback,P5=Yn.unstable_shouldYield,N5=Yn.unstable_requestPaint,Tt=Yn.unstable_now,R5=Yn.unstable_getCurrentPriorityLevel,cw=Yn.unstable_ImmediatePriority,AO=Yn.unstable_UserBlockingPriority,Ip=Yn.unstable_NormalPriority,O5=Yn.unstable_LowPriority,IO=Yn.unstable_IdlePriority,Pg=null,Hr=null;function M5(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Pg,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:L5,D5=Math.log,j5=Math.LN2;function L5(t){return t>>>=0,t===0?32:31-(D5(t)/j5|0)|0}var ph=64,mh=4194304;function vc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=vc(a):(o&=s,o!==0&&(r=vc(o)))}else s=n&~i,s!==0?r=vc(s):o!==0&&(r=vc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function $5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ir(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=$5(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function nx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CO(){var t=ph;return ph<<=1,!(ph&4194240)&&(ph=64),t}function Av(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function F5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function dw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function kO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PO,fw,NO,RO,OO,rx=!1,gh=[],So=null,Ao=null,Io=null,Qc=new Map,Zc=new Map,fo=[],U5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C1(t,e){switch(t){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":Qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(e.pointerId)}}function Xu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gf(e),e!==null&&fw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function B5(t,e,n,r,i){switch(e){case"focusin":return So=Xu(So,t,e,n,r,i),!0;case"dragenter":return Ao=Xu(Ao,t,e,n,r,i),!0;case"mouseover":return Io=Xu(Io,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qc.set(o,Xu(Qc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Zc.set(o,Xu(Zc.get(o)||null,t,e,n,r,i)),!0}return!1}function MO(t){var e=Es(t.target);if(e!==null){var n=sa(e);if(n!==null){if(e=n.tag,e===13){if(e=wO(n),e!==null){t.blockedOn=e,OO(t.priority,function(){NO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ix(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Q0=r,n.target.dispatchEvent(r),Q0=null}else return e=gf(n),e!==null&&fw(e),t.blockedOn=n,!1;e.shift()}return!0}function k1(t,e,n){tp(t)&&n.delete(e)}function G5(){rx=!1,So!==null&&tp(So)&&(So=null),Ao!==null&&tp(Ao)&&(Ao=null),Io!==null&&tp(Io)&&(Io=null),Qc.forEach(k1),Zc.forEach(k1)}function Qu(t,e){t.blockedOn===e&&(t.blockedOn=null,rx||(rx=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,G5)))}function ed(t){function e(i){return Qu(i,t)}if(0<gh.length){Qu(gh[0],t);for(var n=1;n<gh.length;n++){var r=gh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(So!==null&&Qu(So,t),Ao!==null&&Qu(Ao,t),Io!==null&&Qu(Io,t),Qc.forEach(e),Zc.forEach(e),n=0;n<fo.length;n++)r=fo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fo.length&&(n=fo[0],n.blockedOn===null);)MO(n),n.blockedOn===null&&fo.shift()}var rl=Hi.ReactCurrentBatchConfig,kp=!0;function z5(t,e,n,r){var i=Je,o=rl.transition;rl.transition=null;try{Je=1,hw(t,e,n,r)}finally{Je=i,rl.transition=o}}function q5(t,e,n,r){var i=Je,o=rl.transition;rl.transition=null;try{Je=4,hw(t,e,n,r)}finally{Je=i,rl.transition=o}}function hw(t,e,n,r){if(kp){var i=ix(t,e,n,r);if(i===null)jv(t,e,r,Pp,n),C1(t,r);else if(B5(i,t,e,n,r))r.stopPropagation();else if(C1(t,r),e&4&&-1<U5.indexOf(t)){for(;i!==null;){var o=gf(i);if(o!==null&&PO(o),o=ix(t,e,n,r),o===null&&jv(t,e,r,Pp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else jv(t,e,r,null,n)}}var Pp=null;function ix(t,e,n,r){if(Pp=null,t=uw(r),t=Es(t),t!==null)if(e=sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pp=t,null}function DO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R5()){case cw:return 1;case AO:return 4;case Ip:case O5:return 16;case IO:return 536870912;default:return 16}default:return 16}}var xo=null,pw=null,np=null;function jO(){if(np)return np;var t,e=pw,n=e.length,r,i="value"in xo?xo.value:xo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return np=i.slice(t,1<r?1-r:void 0)}function rp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yh(){return!0}function P1(){return!1}function Xn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yh:P1,this.isPropagationStopped=P1,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yh)},persist:function(){},isPersistent:yh}),e}var ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mw=Xn(ou),mf=gt({},ou,{view:0,detail:0}),H5=Xn(mf),Iv,Cv,Zu,Ng=gt({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zu&&(Zu&&t.type==="mousemove"?(Iv=t.screenX-Zu.screenX,Cv=t.screenY-Zu.screenY):Cv=Iv=0,Zu=t),Iv)},movementY:function(t){return"movementY"in t?t.movementY:Cv}}),N1=Xn(Ng),W5=gt({},Ng,{dataTransfer:0}),K5=Xn(W5),Y5=gt({},mf,{relatedTarget:0}),kv=Xn(Y5),J5=gt({},ou,{animationName:0,elapsedTime:0,pseudoElement:0}),X5=Xn(J5),Q5=gt({},ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z5=Xn(Q5),eU=gt({},ou,{data:0}),R1=Xn(eU),tU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rU[t])?!!e[t]:!1}function gw(){return iU}var oU=gt({},mf,{key:function(t){if(t.key){var e=tU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gw,charCode:function(t){return t.type==="keypress"?rp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sU=Xn(oU),aU=gt({},Ng,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O1=Xn(aU),lU=gt({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gw}),uU=Xn(lU),cU=gt({},ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),dU=Xn(cU),fU=gt({},Ng,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hU=Xn(fU),pU=[9,13,27,32],yw=Pi&&"CompositionEvent"in window,kc=null;Pi&&"documentMode"in document&&(kc=document.documentMode);var mU=Pi&&"TextEvent"in window&&!kc,LO=Pi&&(!yw||kc&&8<kc&&11>=kc),M1=" ",D1=!1;function $O(t,e){switch(t){case"keyup":return pU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function gU(t,e){switch(t){case"compositionend":return VO(e);case"keypress":return e.which!==32?null:(D1=!0,M1);case"textInput":return t=e.data,t===M1&&D1?null:t;default:return null}}function yU(t,e){if(Ma)return t==="compositionend"||!yw&&$O(t,e)?(t=jO(),np=pw=xo=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LO&&e.locale!=="ko"?null:e.data;default:return null}}var vU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vU[t.type]:e==="textarea"}function FO(t,e,n,r){yO(r),e=Np(e,"onChange"),0<e.length&&(n=new mw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pc=null,td=null;function xU(t){XO(t,0)}function Rg(t){var e=La(t);if(cO(e))return t}function bU(t,e){if(t==="change")return e}var UO=!1;if(Pi){var Pv;if(Pi){var Nv="oninput"in document;if(!Nv){var L1=document.createElement("div");L1.setAttribute("oninput","return;"),Nv=typeof L1.oninput=="function"}Pv=Nv}else Pv=!1;UO=Pv&&(!document.documentMode||9<document.documentMode)}function $1(){Pc&&(Pc.detachEvent("onpropertychange",BO),td=Pc=null)}function BO(t){if(t.propertyName==="value"&&Rg(td)){var e=[];FO(e,td,t,uw(t)),_O(xU,e)}}function _U(t,e,n){t==="focusin"?($1(),Pc=e,td=n,Pc.attachEvent("onpropertychange",BO)):t==="focusout"&&$1()}function wU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rg(td)}function EU(t,e){if(t==="click")return Rg(e)}function TU(t,e){if(t==="input"||t==="change")return Rg(e)}function SU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mr=typeof Object.is=="function"?Object.is:SU;function nd(t,e){if(Mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!F0.call(e,i)||!Mr(t[i],e[i]))return!1}return!0}function V1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F1(t,e){var n=V1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V1(n)}}function GO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zO(){for(var t=window,e=Tp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tp(t.document)}return e}function vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AU(t){var e=zO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GO(n.ownerDocument.documentElement,n)){if(r!==null&&vw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=F1(n,o);var s=F1(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IU=Pi&&"documentMode"in document&&11>=document.documentMode,Da=null,ox=null,Nc=null,sx=!1;function U1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sx||Da==null||Da!==Tp(r)||(r=Da,"selectionStart"in r&&vw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nc&&nd(Nc,r)||(Nc=r,r=Np(ox,"onSelect"),0<r.length&&(e=new mw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Da)))}function vh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ja={animationend:vh("Animation","AnimationEnd"),animationiteration:vh("Animation","AnimationIteration"),animationstart:vh("Animation","AnimationStart"),transitionend:vh("Transition","TransitionEnd")},Rv={},qO={};Pi&&(qO=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Og(t){if(Rv[t])return Rv[t];if(!ja[t])return t;var e=ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qO)return Rv[t]=e[n];return t}var HO=Og("animationend"),WO=Og("animationiteration"),KO=Og("animationstart"),YO=Og("transitionend"),JO=new Map,B1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(t,e){JO.set(t,e),oa(e,[t])}for(var Ov=0;Ov<B1.length;Ov++){var Mv=B1[Ov],CU=Mv.toLowerCase(),kU=Mv[0].toUpperCase()+Mv.slice(1);Wo(CU,"on"+kU)}Wo(HO,"onAnimationEnd");Wo(WO,"onAnimationIteration");Wo(KO,"onAnimationStart");Wo("dblclick","onDoubleClick");Wo("focusin","onFocus");Wo("focusout","onBlur");Wo(YO,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PU=new Set("cancel close invalid load scroll toggle".split(" ").concat(xc));function G1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,C5(r,e,void 0,t),t.currentTarget=null}function XO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;G1(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;G1(i,a,u),o=l}}}if(Ap)throw t=tx,Ap=!1,tx=null,t}function st(t,e){var n=e[dx];n===void 0&&(n=e[dx]=new Set);var r=t+"__bubble";n.has(r)||(QO(e,t,2,!1),n.add(r))}function Dv(t,e,n){var r=0;e&&(r|=4),QO(n,t,r,e)}var xh="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[xh]){t[xh]=!0,oO.forEach(function(n){n!=="selectionchange"&&(PU.has(n)||Dv(n,!1,t),Dv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xh]||(e[xh]=!0,Dv("selectionchange",!1,e))}}function QO(t,e,n,r){switch(DO(e)){case 1:var i=z5;break;case 4:i=q5;break;default:i=hw}n=i.bind(null,e,n,t),i=void 0,!ex||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Es(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}_O(function(){var u=o,c=uw(n),d=[];e:{var h=JO.get(t);if(h!==void 0){var y=mw,v=t;switch(t){case"keypress":if(rp(n)===0)break e;case"keydown":case"keyup":y=sU;break;case"focusin":v="focus",y=kv;break;case"focusout":v="blur",y=kv;break;case"beforeblur":case"afterblur":y=kv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=N1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=K5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=uU;break;case HO:case WO:case KO:y=X5;break;case YO:y=dU;break;case"scroll":y=H5;break;case"wheel":y=hU;break;case"copy":case"cut":case"paste":y=Z5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=O1}var b=(e&4)!==0,x=!b&&t==="scroll",w=b?h!==null?h+"Capture":null:h;b=[];for(var _=u,E;_!==null;){E=_;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,w!==null&&(P=Xc(_,w),P!=null&&b.push(id(_,P,E)))),x)break;_=_.return}0<b.length&&(h=new y(h,v,null,n,c),d.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Q0&&(v=n.relatedTarget||n.fromElement)&&(Es(v)||v[Ni]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Es(v):null,v!==null&&(x=sa(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=N1,P="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=O1,P="onPointerLeave",w="onPointerEnter",_="pointer"),x=y==null?h:La(y),E=v==null?h:La(v),h=new b(P,_+"leave",y,n,c),h.target=x,h.relatedTarget=E,P=null,Es(c)===u&&(b=new b(w,_+"enter",v,n,c),b.target=E,b.relatedTarget=x,P=b),x=P,y&&v)t:{for(b=y,w=v,_=0,E=b;E;E=wa(E))_++;for(E=0,P=w;P;P=wa(P))E++;for(;0<_-E;)b=wa(b),_--;for(;0<E-_;)w=wa(w),E--;for(;_--;){if(b===w||w!==null&&b===w.alternate)break t;b=wa(b),w=wa(w)}b=null}else b=null;y!==null&&z1(d,h,y,b,!1),v!==null&&x!==null&&z1(d,x,v,b,!0)}}e:{if(h=u?La(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var S=bU;else if(j1(h))if(UO)S=TU;else{S=wU;var k=_U}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=EU);if(S&&(S=S(t,u))){FO(d,S,n,c);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&W0(h,"number",h.value)}switch(k=u?La(u):window,t){case"focusin":(j1(k)||k.contentEditable==="true")&&(Da=k,ox=u,Nc=null);break;case"focusout":Nc=ox=Da=null;break;case"mousedown":sx=!0;break;case"contextmenu":case"mouseup":case"dragend":sx=!1,U1(d,n,c);break;case"selectionchange":if(IU)break;case"keydown":case"keyup":U1(d,n,c)}var C;if(yw)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ma?$O(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(LO&&n.locale!=="ko"&&(Ma||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ma&&(C=jO()):(xo=c,pw="value"in xo?xo.value:xo.textContent,Ma=!0)),k=Np(u,T),0<k.length&&(T=new R1(T,t,null,n,c),d.push({event:T,listeners:k}),C?T.data=C:(C=VO(n),C!==null&&(T.data=C)))),(C=mU?gU(t,n):yU(t,n))&&(u=Np(u,"onBeforeInput"),0<u.length&&(c=new R1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}XO(d,e)})}function id(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Np(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xc(t,n),o!=null&&r.unshift(id(t,o,i)),o=Xc(t,e),o!=null&&r.push(id(t,o,i))),t=t.return}return r}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z1(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xc(n,o),l!=null&&s.unshift(id(n,l,a))):i||(l=Xc(n,o),l!=null&&s.push(id(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var NU=/\r\n?/g,RU=/\u0000|\uFFFD/g;function q1(t){return(typeof t=="string"?t:""+t).replace(NU,`
`).replace(RU,"")}function bh(t,e,n){if(e=q1(e),q1(t)!==e&&n)throw Error(se(425))}function Rp(){}var ax=null,lx=null;function ux(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cx=typeof setTimeout=="function"?setTimeout:void 0,OU=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,MU=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(t){return H1.resolve(null).then(t).catch(DU)}:cx;function DU(t){setTimeout(function(){throw t})}function Lv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ed(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ed(e)}function Co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var su=Math.random().toString(36).slice(2),Gr="__reactFiber$"+su,od="__reactProps$"+su,Ni="__reactContainer$"+su,dx="__reactEvents$"+su,jU="__reactListeners$"+su,LU="__reactHandles$"+su;function Es(t){var e=t[Gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ni]||n[Gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W1(t);t!==null;){if(n=t[Gr])return n;t=W1(t)}return e}t=n,n=t.parentNode}return null}function gf(t){return t=t[Gr]||t[Ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function La(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Mg(t){return t[od]||null}var fx=[],$a=-1;function Ko(t){return{current:t}}function ut(t){0>$a||(t.current=fx[$a],fx[$a]=null,$a--)}function it(t,e){$a++,fx[$a]=t.current,t.current=e}var Uo={},pn=Ko(Uo),On=Ko(!1),Fs=Uo;function gl(t,e){var n=t.type.contextTypes;if(!n)return Uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mn(t){return t=t.childContextTypes,t!=null}function Op(){ut(On),ut(pn)}function K1(t,e,n){if(pn.current!==Uo)throw Error(se(168));it(pn,e),it(On,n)}function ZO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,_5(t)||"Unknown",i));return gt({},n,r)}function Mp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Uo,Fs=pn.current,it(pn,t),it(On,On.current),!0}function Y1(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=ZO(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,ut(On),ut(pn),it(pn,t)):ut(On),it(On,n)}var pi=null,Dg=!1,$v=!1;function eM(t){pi===null?pi=[t]:pi.push(t)}function $U(t){Dg=!0,eM(t)}function Yo(){if(!$v&&pi!==null){$v=!0;var t=0,e=Je;try{var n=pi;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pi=null,Dg=!1}catch(i){throw pi!==null&&(pi=pi.slice(t+1)),SO(cw,Yo),i}finally{Je=e,$v=!1}}return null}var Va=[],Fa=0,Dp=null,jp=0,tr=[],nr=0,Us=null,yi=1,vi="";function ps(t,e){Va[Fa++]=jp,Va[Fa++]=Dp,Dp=t,jp=e}function tM(t,e,n){tr[nr++]=yi,tr[nr++]=vi,tr[nr++]=Us,Us=t;var r=yi;t=vi;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var o=32-Ir(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,yi=1<<32-Ir(e)+i|n<<i|r,vi=o+t}else yi=1<<o|n<<i|r,vi=t}function xw(t){t.return!==null&&(ps(t,1),tM(t,1,0))}function bw(t){for(;t===Dp;)Dp=Va[--Fa],Va[Fa]=null,jp=Va[--Fa],Va[Fa]=null;for(;t===Us;)Us=tr[--nr],tr[nr]=null,vi=tr[--nr],tr[nr]=null,yi=tr[--nr],tr[nr]=null}var qn=null,Gn=null,ct=!1,Tr=null;function nM(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,Gn=Co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,Gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Us!==null?{id:yi,overflow:vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qn=t,Gn=null,!0):!1;default:return!1}}function hx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function px(t){if(ct){var e=Gn;if(e){var n=e;if(!J1(t,e)){if(hx(t))throw Error(se(418));e=Co(n.nextSibling);var r=qn;e&&J1(t,e)?nM(r,n):(t.flags=t.flags&-4097|2,ct=!1,qn=t)}}else{if(hx(t))throw Error(se(418));t.flags=t.flags&-4097|2,ct=!1,qn=t}}}function X1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function _h(t){if(t!==qn)return!1;if(!ct)return X1(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ux(t.type,t.memoizedProps)),e&&(e=Gn)){if(hx(t))throw rM(),Error(se(418));for(;e;)nM(t,e),e=Co(e.nextSibling)}if(X1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gn=Co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gn=null}}else Gn=qn?Co(t.stateNode.nextSibling):null;return!0}function rM(){for(var t=Gn;t;)t=Co(t.nextSibling)}function yl(){Gn=qn=null,ct=!1}function _w(t){Tr===null?Tr=[t]:Tr.push(t)}var VU=Hi.ReactCurrentBatchConfig;function ec(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function wh(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q1(t){var e=t._init;return e(t._payload)}function iM(t){function e(w,_){if(t){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Ro(w,_),w.index=0,w.sibling=null,w}function o(w,_,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,E,P){return _===null||_.tag!==6?(_=qv(E,w.mode,P),_.return=w,_):(_=i(_,E),_.return=w,_)}function l(w,_,E,P){var S=E.type;return S===Oa?c(w,_,E.props.children,P,E.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===lo&&Q1(S)===_.type)?(P=i(_,E.props),P.ref=ec(w,_,E),P.return=w,P):(P=cp(E.type,E.key,E.props,null,w.mode,P),P.ref=ec(w,_,E),P.return=w,P)}function u(w,_,E,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Hv(E,w.mode,P),_.return=w,_):(_=i(_,E.children||[]),_.return=w,_)}function c(w,_,E,P,S){return _===null||_.tag!==7?(_=Ms(E,w.mode,P,S),_.return=w,_):(_=i(_,E),_.return=w,_)}function d(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=qv(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dh:return E=cp(_.type,_.key,_.props,null,w.mode,E),E.ref=ec(w,null,_),E.return=w,E;case Ra:return _=Hv(_,w.mode,E),_.return=w,_;case lo:var P=_._init;return d(w,P(_._payload),E)}if(yc(_)||Yu(_))return _=Ms(_,w.mode,E,null),_.return=w,_;wh(w,_)}return null}function h(w,_,E,P){var S=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return S!==null?null:a(w,_,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case dh:return E.key===S?l(w,_,E,P):null;case Ra:return E.key===S?u(w,_,E,P):null;case lo:return S=E._init,h(w,_,S(E._payload),P)}if(yc(E)||Yu(E))return S!==null?null:c(w,_,E,P,null);wh(w,E)}return null}function y(w,_,E,P,S){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(E)||null,a(_,w,""+P,S);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case dh:return w=w.get(P.key===null?E:P.key)||null,l(_,w,P,S);case Ra:return w=w.get(P.key===null?E:P.key)||null,u(_,w,P,S);case lo:var k=P._init;return y(w,_,E,k(P._payload),S)}if(yc(P)||Yu(P))return w=w.get(E)||null,c(_,w,P,S,null);wh(_,P)}return null}function v(w,_,E,P){for(var S=null,k=null,C=_,T=_=0,I=null;C!==null&&T<E.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var N=h(w,C,E[T],P);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(w,C),_=o(N,_,T),k===null?S=N:k.sibling=N,k=N,C=I}if(T===E.length)return n(w,C),ct&&ps(w,T),S;if(C===null){for(;T<E.length;T++)C=d(w,E[T],P),C!==null&&(_=o(C,_,T),k===null?S=C:k.sibling=C,k=C);return ct&&ps(w,T),S}for(C=r(w,C);T<E.length;T++)I=y(C,w,T,E[T],P),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),_=o(I,_,T),k===null?S=I:k.sibling=I,k=I);return t&&C.forEach(function(M){return e(w,M)}),ct&&ps(w,T),S}function b(w,_,E,P){var S=Yu(E);if(typeof S!="function")throw Error(se(150));if(E=S.call(E),E==null)throw Error(se(151));for(var k=S=null,C=_,T=_=0,I=null,N=E.next();C!==null&&!N.done;T++,N=E.next()){C.index>T?(I=C,C=null):I=C.sibling;var M=h(w,C,N.value,P);if(M===null){C===null&&(C=I);break}t&&C&&M.alternate===null&&e(w,C),_=o(M,_,T),k===null?S=M:k.sibling=M,k=M,C=I}if(N.done)return n(w,C),ct&&ps(w,T),S;if(C===null){for(;!N.done;T++,N=E.next())N=d(w,N.value,P),N!==null&&(_=o(N,_,T),k===null?S=N:k.sibling=N,k=N);return ct&&ps(w,T),S}for(C=r(w,C);!N.done;T++,N=E.next())N=y(C,w,T,N.value,P),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?T:N.key),_=o(N,_,T),k===null?S=N:k.sibling=N,k=N);return t&&C.forEach(function(D){return e(w,D)}),ct&&ps(w,T),S}function x(w,_,E,P){if(typeof E=="object"&&E!==null&&E.type===Oa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case dh:e:{for(var S=E.key,k=_;k!==null;){if(k.key===S){if(S=E.type,S===Oa){if(k.tag===7){n(w,k.sibling),_=i(k,E.props.children),_.return=w,w=_;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===lo&&Q1(S)===k.type){n(w,k.sibling),_=i(k,E.props),_.ref=ec(w,k,E),_.return=w,w=_;break e}n(w,k);break}else e(w,k);k=k.sibling}E.type===Oa?(_=Ms(E.props.children,w.mode,P,E.key),_.return=w,w=_):(P=cp(E.type,E.key,E.props,null,w.mode,P),P.ref=ec(w,_,E),P.return=w,w=P)}return s(w);case Ra:e:{for(k=E.key;_!==null;){if(_.key===k)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(w,_.sibling),_=i(_,E.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=Hv(E,w.mode,P),_.return=w,w=_}return s(w);case lo:return k=E._init,x(w,_,k(E._payload),P)}if(yc(E))return v(w,_,E,P);if(Yu(E))return b(w,_,E,P);wh(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,E),_.return=w,w=_):(n(w,_),_=qv(E,w.mode,P),_.return=w,w=_),s(w)):n(w,_)}return x}var vl=iM(!0),oM=iM(!1),Lp=Ko(null),$p=null,Ua=null,ww=null;function Ew(){ww=Ua=$p=null}function Tw(t){var e=Lp.current;ut(Lp),t._currentValue=e}function mx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function il(t,e){$p=t,ww=Ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function ur(t){var e=t._currentValue;if(ww!==t)if(t={context:t,memoizedValue:e,next:null},Ua===null){if($p===null)throw Error(se(308));Ua=t,$p.dependencies={lanes:0,firstContext:t}}else Ua=Ua.next=t;return e}var Ts=null;function Sw(t){Ts===null?Ts=[t]:Ts.push(t)}function sM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Sw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ri(t,r)}function Ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var uo=!1;function Aw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ko(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ri(t,n)}return i=r.interleaved,i===null?(e.next=e,Sw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ri(t,n)}function ip(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dw(t,n)}}function Z1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vp(t,e,n,r){var i=t.updateQueue;uo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(h=e,y=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){d=v.call(y,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(y,d,h):v,h==null)break e;d=gt({},d,h);break e;case 2:uo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=d):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Gs|=s,t.lanes=s,t.memoizedState=d}}function eA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var yf={},Wr=Ko(yf),sd=Ko(yf),ad=Ko(yf);function Ss(t){if(t===yf)throw Error(se(174));return t}function Iw(t,e){switch(it(ad,e),it(sd,t),it(Wr,yf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Y0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Y0(e,t)}ut(Wr),it(Wr,e)}function xl(){ut(Wr),ut(sd),ut(ad)}function lM(t){Ss(ad.current);var e=Ss(Wr.current),n=Y0(e,t.type);e!==n&&(it(sd,t),it(Wr,n))}function Cw(t){sd.current===t&&(ut(Wr),ut(sd))}var ft=Ko(0);function Fp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vv=[];function kw(){for(var t=0;t<Vv.length;t++)Vv[t]._workInProgressVersionPrimary=null;Vv.length=0}var op=Hi.ReactCurrentDispatcher,Fv=Hi.ReactCurrentBatchConfig,Bs=0,mt=null,Rt=null,Ft=null,Up=!1,Rc=!1,ld=0,FU=0;function sn(){throw Error(se(321))}function Pw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mr(t[n],e[n]))return!1;return!0}function Nw(t,e,n,r,i,o){if(Bs=o,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,op.current=t===null||t.memoizedState===null?zU:qU,t=n(r,i),Rc){o=0;do{if(Rc=!1,ld=0,25<=o)throw Error(se(301));o+=1,Ft=Rt=null,e.updateQueue=null,op.current=HU,t=n(r,i)}while(Rc)}if(op.current=Bp,e=Rt!==null&&Rt.next!==null,Bs=0,Ft=Rt=mt=null,Up=!1,e)throw Error(se(300));return t}function Rw(){var t=ld!==0;return ld=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?mt.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function cr(){if(Rt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Ft===null?mt.memoizedState:Ft.next;if(e!==null)Ft=e,Rt=t;else{if(t===null)throw Error(se(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ft===null?mt.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function ud(t,e){return typeof e=="function"?e(t):e}function Uv(t){var e=cr(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Bs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,mt.lanes|=c,Gs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Mr(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,mt.lanes|=o,Gs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bv(t){var e=cr(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Mr(o,e.memoizedState)||(Nn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function uM(){}function cM(t,e){var n=mt,r=cr(),i=e(),o=!Mr(r.memoizedState,i);if(o&&(r.memoizedState=i,Nn=!0),r=r.queue,Ow(hM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,cd(9,fM.bind(null,n,r,i,e),void 0,null),Gt===null)throw Error(se(349));Bs&30||dM(n,e,i)}return i}function dM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fM(t,e,n,r){e.value=n,e.getSnapshot=r,pM(e)&&mM(t)}function hM(t,e,n){return n(function(){pM(e)&&mM(t)})}function pM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mr(t,n)}catch{return!0}}function mM(t){var e=Ri(t,1);e!==null&&Cr(e,t,1,-1)}function tA(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:t},e.queue=t,t=t.dispatch=GU.bind(null,mt,t),[e.memoizedState,t]}function cd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gM(){return cr().memoizedState}function sp(t,e,n,r){var i=Br();mt.flags|=t,i.memoizedState=cd(1|e,n,void 0,r===void 0?null:r)}function jg(t,e,n,r){var i=cr();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var s=Rt.memoizedState;if(o=s.destroy,r!==null&&Pw(r,s.deps)){i.memoizedState=cd(e,n,o,r);return}}mt.flags|=t,i.memoizedState=cd(1|e,n,o,r)}function nA(t,e){return sp(8390656,8,t,e)}function Ow(t,e){return jg(2048,8,t,e)}function yM(t,e){return jg(4,2,t,e)}function vM(t,e){return jg(4,4,t,e)}function xM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bM(t,e,n){return n=n!=null?n.concat([t]):null,jg(4,4,xM.bind(null,e,t),n)}function Mw(){}function _M(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wM(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function EM(t,e,n){return Bs&21?(Mr(n,e)||(n=CO(),mt.lanes|=n,Gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function UU(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=Fv.transition;Fv.transition={};try{t(!1),e()}finally{Je=n,Fv.transition=r}}function TM(){return cr().memoizedState}function BU(t,e,n){var r=No(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SM(t))AM(e,n);else if(n=sM(t,e,n,r),n!==null){var i=Sn();Cr(n,t,r,i),IM(n,e,r)}}function GU(t,e,n){var r=No(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SM(t))AM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Mr(a,s)){var l=e.interleaved;l===null?(i.next=i,Sw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=sM(t,e,i,r),n!==null&&(i=Sn(),Cr(n,t,r,i),IM(n,e,r))}}function SM(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function AM(t,e){Rc=Up=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function IM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dw(t,n)}}var Bp={readContext:ur,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},zU={readContext:ur,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:ur,useEffect:nA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sp(4194308,4,xM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sp(4194308,4,t,e)},useInsertionEffect:function(t,e){return sp(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BU.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:tA,useDebugValue:Mw,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=tA(!1),e=t[0];return t=UU.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,i=Br();if(ct){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),Gt===null)throw Error(se(349));Bs&30||dM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,nA(hM.bind(null,r,o,t),[t]),r.flags|=2048,cd(9,fM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Br(),e=Gt.identifierPrefix;if(ct){var n=vi,r=yi;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ld++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qU={readContext:ur,useCallback:_M,useContext:ur,useEffect:Ow,useImperativeHandle:bM,useInsertionEffect:yM,useLayoutEffect:vM,useMemo:wM,useReducer:Uv,useRef:gM,useState:function(){return Uv(ud)},useDebugValue:Mw,useDeferredValue:function(t){var e=cr();return EM(e,Rt.memoizedState,t)},useTransition:function(){var t=Uv(ud)[0],e=cr().memoizedState;return[t,e]},useMutableSource:uM,useSyncExternalStore:cM,useId:TM,unstable_isNewReconciler:!1},HU={readContext:ur,useCallback:_M,useContext:ur,useEffect:Ow,useImperativeHandle:bM,useInsertionEffect:yM,useLayoutEffect:vM,useMemo:wM,useReducer:Bv,useRef:gM,useState:function(){return Bv(ud)},useDebugValue:Mw,useDeferredValue:function(t){var e=cr();return Rt===null?e.memoizedState=t:EM(e,Rt.memoizedState,t)},useTransition:function(){var t=Bv(ud)[0],e=cr().memoizedState;return[t,e]},useMutableSource:uM,useSyncExternalStore:cM,useId:TM,unstable_isNewReconciler:!1};function br(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lg={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=No(t),o=Si(r,i);o.payload=e,n!=null&&(o.callback=n),e=ko(t,o,i),e!==null&&(Cr(e,t,i,r),ip(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=No(t),o=Si(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ko(t,o,i),e!==null&&(Cr(e,t,i,r),ip(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=No(t),i=Si(n,r);i.tag=2,e!=null&&(i.callback=e),e=ko(t,i,r),e!==null&&(Cr(e,t,r,n),ip(e,t,r))}};function rA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!nd(n,r)||!nd(i,o):!0}function CM(t,e,n){var r=!1,i=Uo,o=e.contextType;return typeof o=="object"&&o!==null?o=ur(o):(i=Mn(e)?Fs:pn.current,r=e.contextTypes,o=(r=r!=null)?gl(t,i):Uo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function iA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lg.enqueueReplaceState(e,e.state,null)}function yx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Aw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ur(o):(o=Mn(e)?Fs:pn.current,i.context=gl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lg.enqueueReplaceState(i,i.state,null),Vp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bl(t,e){try{var n="",r=e;do n+=b5(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Gv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WU=typeof WeakMap=="function"?WeakMap:Map;function kM(t,e,n){n=Si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zp||(zp=!0,Cx=r),vx(t,e)},n}function PM(t,e,n){n=Si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vx(t,e),typeof r!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function oA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=aB.bind(null,t,e,n),e.then(t,t))}function sA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Si(-1,1),e.tag=2,ko(n,e,1))),n.lanes|=1),t)}var KU=Hi.ReactCurrentOwner,Nn=!1;function bn(t,e,n,r){e.child=t===null?oM(e,null,n,r):vl(e,t.child,n,r)}function lA(t,e,n,r,i){n=n.render;var o=e.ref;return il(e,i),r=Nw(t,e,n,r,o,i),n=Rw(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(ct&&n&&xw(e),e.flags|=1,bn(t,e,r,i),e.child)}function uA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Bw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,NM(t,e,o,r,i)):(t=cp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:nd,n(s,r)&&t.ref===e.ref)return Oi(t,e,i)}return e.flags|=1,t=Ro(o,r),t.ref=e.ref,t.return=e,e.child=t}function NM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(nd(o,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,Oi(t,e,i)}return xx(t,e,n,r,i)}function RM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Ga,Fn),Fn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(Ga,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,it(Ga,Fn),Fn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,it(Ga,Fn),Fn|=r;return bn(t,e,i,n),e.child}function OM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xx(t,e,n,r,i){var o=Mn(n)?Fs:pn.current;return o=gl(e,o),il(e,i),n=Nw(t,e,n,r,o,i),r=Rw(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(ct&&r&&xw(e),e.flags|=1,bn(t,e,n,i),e.child)}function cA(t,e,n,r,i){if(Mn(n)){var o=!0;Mp(e)}else o=!1;if(il(e,i),e.stateNode===null)ap(t,e),CM(e,n,r),yx(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ur(u):(u=Mn(n)?Fs:pn.current,u=gl(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&iA(e,s,r,u),uo=!1;var h=e.memoizedState;s.state=h,Vp(e,r,s,i),l=e.memoizedState,a!==r||h!==l||On.current||uo?(typeof c=="function"&&(gx(e,n,c,r),l=e.memoizedState),(a=uo||rA(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,aM(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:br(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=Mn(n)?Fs:pn.current,l=gl(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&iA(e,s,r,l),uo=!1,h=e.memoizedState,s.state=h,Vp(e,r,s,i);var v=e.memoizedState;a!==d||h!==v||On.current||uo?(typeof y=="function"&&(gx(e,n,y,r),v=e.memoizedState),(u=uo||rA(e,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return bx(t,e,n,r,o,i)}function bx(t,e,n,r,i,o){OM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Y1(e,n,!1),Oi(t,e,o);r=e.stateNode,KU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=vl(e,t.child,null,o),e.child=vl(e,null,a,o)):bn(t,e,a,o),e.memoizedState=r.state,i&&Y1(e,n,!0),e.child}function MM(t){var e=t.stateNode;e.pendingContext?K1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&K1(t,e.context,!1),Iw(t,e.containerInfo)}function dA(t,e,n,r,i){return yl(),_w(i),e.flags|=256,bn(t,e,n,r),e.child}var _x={dehydrated:null,treeContext:null,retryLane:0};function wx(t){return{baseLanes:t,cachePool:null,transitions:null}}function DM(t,e,n){var r=e.pendingProps,i=ft.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),it(ft,i&1),t===null)return px(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Fg(s,r,0,null),t=Ms(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=wx(n),e.memoizedState=_x,t):Dw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return YU(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ro(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ro(a,o):(o=Ms(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?wx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=_x,r}return o=t.child,t=o.sibling,r=Ro(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dw(t,e){return e=Fg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eh(t,e,n,r){return r!==null&&_w(r),vl(e,t.child,null,n),t=Dw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YU(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Gv(Error(se(422))),Eh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Fg({mode:"visible",children:r.children},i,0,null),o=Ms(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&vl(e,t.child,null,s),e.child.memoizedState=wx(s),e.memoizedState=_x,o);if(!(e.mode&1))return Eh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(se(419)),r=Gv(o,r,void 0),Eh(t,e,s,r)}if(a=(s&t.childLanes)!==0,Nn||a){if(r=Gt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ri(t,i),Cr(r,t,i,-1))}return Uw(),r=Gv(Error(se(421))),Eh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lB.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Gn=Co(i.nextSibling),qn=e,ct=!0,Tr=null,t!==null&&(tr[nr++]=yi,tr[nr++]=vi,tr[nr++]=Us,yi=t.id,vi=t.overflow,Us=e),e=Dw(e,r.children),e.flags|=4096,e)}function fA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mx(t.return,e,n)}function zv(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(bn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fA(t,n,e);else if(t.tag===19)fA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(it(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zv(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zv(e,!0,n,null,o);break;case"together":zv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ap(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=Ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JU(t,e,n){switch(e.tag){case 3:MM(e),yl();break;case 5:lM(e);break;case 1:Mn(e.type)&&Mp(e);break;case 4:Iw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;it(Lp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(it(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?DM(t,e,n):(it(ft,ft.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);it(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,RM(t,e,n)}return Oi(t,e,n)}var LM,Ex,$M,VM;LM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ex=function(){};$M=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ss(Wr.current);var o=null;switch(n){case"input":i=q0(t,i),r=q0(t,r),o=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),o=[];break;case"textarea":i=K0(t,i),r=K0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rp)}J0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};VM=function(t,e,n,r){n!==r&&(e.flags|=4)};function tc(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XU(t,e,n){var r=e.pendingProps;switch(bw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return Mn(e.type)&&Op(),an(e),null;case 3:return r=e.stateNode,xl(),ut(On),ut(pn),kw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_h(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tr!==null&&(Nx(Tr),Tr=null))),Ex(t,e),an(e),null;case 5:Cw(e);var i=Ss(ad.current);if(n=e.type,t!==null&&e.stateNode!=null)$M(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return an(e),null}if(t=Ss(Wr.current),_h(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Gr]=e,r[od]=o,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<xc.length;i++)st(xc[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":_1(r,o),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},st("invalid",r);break;case"textarea":E1(r,o),st("invalid",r)}J0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&bh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&bh(r.textContent,a,t),i=["children",""+a]):Yc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&st("scroll",r)}switch(n){case"input":fh(r),w1(r,o,!0);break;case"textarea":fh(r),T1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Rp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Gr]=e,t[od]=r,LM(t,e,!1,!1),e.stateNode=t;e:{switch(s=X0(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<xc.length;i++)st(xc[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":_1(t,r),i=q0(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),st("invalid",t);break;case"textarea":E1(t,r),i=K0(t,r),st("invalid",t);break;default:i=r}J0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?gO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pO(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jc(t,l):typeof l=="number"&&Jc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&st("scroll",t):l!=null&&ow(t,o,l,s))}switch(n){case"input":fh(t),w1(t,r,!1);break;case"textarea":fh(t),T1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?el(t,!!r.multiple,o,!1):r.defaultValue!=null&&el(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)VM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=Ss(ad.current),Ss(Wr.current),_h(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gr]=e,(o=r.nodeValue!==n)&&(t=qn,t!==null))switch(t.tag){case 3:bh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gr]=e,e.stateNode=r}return an(e),null;case 13:if(ut(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Gn!==null&&e.mode&1&&!(e.flags&128))rM(),yl(),e.flags|=98560,o=!1;else if(o=_h(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(se(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[Gr]=e}else yl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),o=!1}else Tr!==null&&(Nx(Tr),Tr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Mt===0&&(Mt=3):Uw())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return xl(),Ex(t,e),t===null&&rd(e.stateNode.containerInfo),an(e),null;case 10:return Tw(e.type._context),an(e),null;case 17:return Mn(e.type)&&Op(),an(e),null;case 19:if(ut(ft),o=e.memoizedState,o===null)return an(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)tc(o,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Fp(t),s!==null){for(e.flags|=128,tc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return it(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&Tt()>_l&&(e.flags|=128,r=!0,tc(o,!1),e.lanes=4194304)}else{if(!r)if(t=Fp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ct)return an(e),null}else 2*Tt()-o.renderingStartTime>_l&&n!==1073741824&&(e.flags|=128,r=!0,tc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Tt(),e.sibling=null,n=ft.current,it(ft,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return Fw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function QU(t,e){switch(bw(e),e.tag){case 1:return Mn(e.type)&&Op(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xl(),ut(On),ut(pn),kw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cw(e),null;case 13:if(ut(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));yl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(ft),null;case 4:return xl(),null;case 10:return Tw(e.type._context),null;case 22:case 23:return Fw(),null;case 24:return null;default:return null}}var Th=!1,cn=!1,ZU=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ba(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function Tx(t,e,n){try{n()}catch(r){bt(t,e,r)}}var hA=!1;function eB(t,e){if(ax=kp,t=zO(),vw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lx={focusedElem:t,selectionRange:n},kp=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:br(e.type,b),x);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(P){bt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return v=hA,hA=!1,v}function Oc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Tx(e,n,o)}i=i.next}while(i!==r)}}function $g(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FM(t){var e=t.alternate;e!==null&&(t.alternate=null,FM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gr],delete e[od],delete e[dx],delete e[jU],delete e[LU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UM(t){return t.tag===5||t.tag===3||t.tag===4}function pA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ax(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rp));else if(r!==4&&(t=t.child,t!==null))for(Ax(t,e,n),t=t.sibling;t!==null;)Ax(t,e,n),t=t.sibling}function Ix(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ix(t,e,n),t=t.sibling;t!==null;)Ix(t,e,n),t=t.sibling}var Kt=null,_r=!1;function oo(t,e,n){for(n=n.child;n!==null;)BM(t,e,n),n=n.sibling}function BM(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Pg,n)}catch{}switch(n.tag){case 5:cn||Ba(n,e);case 6:var r=Kt,i=_r;Kt=null,oo(t,e,n),Kt=r,_r=i,Kt!==null&&(_r?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(_r?(t=Kt,n=n.stateNode,t.nodeType===8?Lv(t.parentNode,n):t.nodeType===1&&Lv(t,n),ed(t)):Lv(Kt,n.stateNode));break;case 4:r=Kt,i=_r,Kt=n.stateNode.containerInfo,_r=!0,oo(t,e,n),Kt=r,_r=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Tx(n,e,s),i=i.next}while(i!==r)}oo(t,e,n);break;case 1:if(!cn&&(Ba(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bt(n,e,a)}oo(t,e,n);break;case 21:oo(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,oo(t,e,n),cn=r):oo(t,e,n);break;default:oo(t,e,n)}}function mA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZU),e.forEach(function(r){var i=uB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,_r=!1;break e;case 3:Kt=a.stateNode.containerInfo,_r=!0;break e;case 4:Kt=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if(Kt===null)throw Error(se(160));BM(o,s,i),Kt=null,_r=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GM(e,t),e=e.sibling}function GM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),Ur(t),r&4){try{Oc(3,t,t.return),$g(3,t)}catch(b){bt(t,t.return,b)}try{Oc(5,t,t.return)}catch(b){bt(t,t.return,b)}}break;case 1:vr(e,t),Ur(t),r&512&&n!==null&&Ba(n,n.return);break;case 5:if(vr(e,t),Ur(t),r&512&&n!==null&&Ba(n,n.return),t.flags&32){var i=t.stateNode;try{Jc(i,"")}catch(b){bt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&dO(i,o),X0(a,s);var u=X0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?gO(i,d):c==="dangerouslySetInnerHTML"?pO(i,d):c==="children"?Jc(i,d):ow(i,c,d,u)}switch(a){case"input":H0(i,o);break;case"textarea":fO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?el(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?el(i,!!o.multiple,o.defaultValue,!0):el(i,!!o.multiple,o.multiple?[]:"",!1))}i[od]=o}catch(b){bt(t,t.return,b)}}break;case 6:if(vr(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){bt(t,t.return,b)}}break;case 3:if(vr(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ed(e.containerInfo)}catch(b){bt(t,t.return,b)}break;case 4:vr(e,t),Ur(t);break;case 13:vr(e,t),Ur(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||($w=Tt())),r&4&&mA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(u=cn)||c,vr(e,t),cn=u):vr(e,t),Ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(pe=t,c=t.child;c!==null;){for(d=pe=c;pe!==null;){switch(h=pe,y=h.child,h.tag){case 0:case 11:case 14:case 15:Oc(4,h,h.return);break;case 1:Ba(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){bt(r,n,b)}}break;case 5:Ba(h,h.return);break;case 22:if(h.memoizedState!==null){yA(d);continue}}y!==null?(y.return=h,pe=y):yA(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mO("display",s))}catch(b){bt(t,t.return,b)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){bt(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vr(e,t),Ur(t),r&4&&mA(t);break;case 21:break;default:vr(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UM(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jc(i,""),r.flags&=-33);var o=pA(t);Ix(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=pA(t);Ax(t,a,s);break;default:throw Error(se(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tB(t,e,n){pe=t,zM(t)}function zM(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Th;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||cn;a=Th;var u=cn;if(Th=s,(cn=l)&&!u)for(pe=i;pe!==null;)s=pe,l=s.child,s.tag===22&&s.memoizedState!==null?vA(i):l!==null?(l.return=s,pe=l):vA(i);for(;o!==null;)pe=o,zM(o),o=o.sibling;pe=i,Th=a,cn=u}gA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):gA(t)}}function gA(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||$g(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&eA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}eA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ed(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}cn||e.flags&512&&Sx(e)}catch(h){bt(e,e.return,h)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function yA(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function vA(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$g(4,e)}catch(l){bt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bt(e,i,l)}}var o=e.return;try{Sx(e)}catch(l){bt(e,o,l)}break;case 5:var s=e.return;try{Sx(e)}catch(l){bt(e,s,l)}}}catch(l){bt(e,e.return,l)}if(e===t){pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pe=a;break}pe=e.return}}var nB=Math.ceil,Gp=Hi.ReactCurrentDispatcher,jw=Hi.ReactCurrentOwner,sr=Hi.ReactCurrentBatchConfig,Fe=0,Gt=null,It=null,Qt=0,Fn=0,Ga=Ko(0),Mt=0,dd=null,Gs=0,Vg=0,Lw=0,Mc=null,Pn=null,$w=0,_l=1/0,fi=null,zp=!1,Cx=null,Po=null,Sh=!1,bo=null,qp=0,Dc=0,kx=null,lp=-1,up=0;function Sn(){return Fe&6?Tt():lp!==-1?lp:lp=Tt()}function No(t){return t.mode&1?Fe&2&&Qt!==0?Qt&-Qt:VU.transition!==null?(up===0&&(up=CO()),up):(t=Je,t!==0||(t=window.event,t=t===void 0?16:DO(t.type)),t):1}function Cr(t,e,n,r){if(50<Dc)throw Dc=0,kx=null,Error(se(185));pf(t,n,r),(!(Fe&2)||t!==Gt)&&(t===Gt&&(!(Fe&2)&&(Vg|=n),Mt===4&&ho(t,Qt)),Dn(t,r),n===1&&Fe===0&&!(e.mode&1)&&(_l=Tt()+500,Dg&&Yo()))}function Dn(t,e){var n=t.callbackNode;V5(t,e);var r=Cp(t,t===Gt?Qt:0);if(r===0)n!==null&&I1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&I1(n),e===1)t.tag===0?$U(xA.bind(null,t)):eM(xA.bind(null,t)),MU(function(){!(Fe&6)&&Yo()}),n=null;else{switch(kO(r)){case 1:n=cw;break;case 4:n=AO;break;case 16:n=Ip;break;case 536870912:n=IO;break;default:n=Ip}n=QM(n,qM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qM(t,e){if(lp=-1,up=0,Fe&6)throw Error(se(327));var n=t.callbackNode;if(ol()&&t.callbackNode!==n)return null;var r=Cp(t,t===Gt?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hp(t,r);else{e=r;var i=Fe;Fe|=2;var o=WM();(Gt!==t||Qt!==e)&&(fi=null,_l=Tt()+500,Os(t,e));do try{oB();break}catch(a){HM(t,a)}while(!0);Ew(),Gp.current=o,Fe=i,It!==null?e=0:(Gt=null,Qt=0,e=Mt)}if(e!==0){if(e===2&&(i=nx(t),i!==0&&(r=i,e=Px(t,i))),e===1)throw n=dd,Os(t,0),ho(t,r),Dn(t,Tt()),n;if(e===6)ho(t,r);else{if(i=t.current.alternate,!(r&30)&&!rB(i)&&(e=Hp(t,r),e===2&&(o=nx(t),o!==0&&(r=o,e=Px(t,o))),e===1))throw n=dd,Os(t,0),ho(t,r),Dn(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:ms(t,Pn,fi);break;case 3:if(ho(t,r),(r&130023424)===r&&(e=$w+500-Tt(),10<e)){if(Cp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cx(ms.bind(null,t,Pn,fi),e);break}ms(t,Pn,fi);break;case 4:if(ho(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ir(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nB(r/1960))-r,10<r){t.timeoutHandle=cx(ms.bind(null,t,Pn,fi),r);break}ms(t,Pn,fi);break;case 5:ms(t,Pn,fi);break;default:throw Error(se(329))}}}return Dn(t,Tt()),t.callbackNode===n?qM.bind(null,t):null}function Px(t,e){var n=Mc;return t.current.memoizedState.isDehydrated&&(Os(t,e).flags|=256),t=Hp(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&Nx(e)),t}function Nx(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function rB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ho(t,e){for(e&=~Lw,e&=~Vg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function xA(t){if(Fe&6)throw Error(se(327));ol();var e=Cp(t,0);if(!(e&1))return Dn(t,Tt()),null;var n=Hp(t,e);if(t.tag!==0&&n===2){var r=nx(t);r!==0&&(e=r,n=Px(t,r))}if(n===1)throw n=dd,Os(t,0),ho(t,e),Dn(t,Tt()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ms(t,Pn,fi),Dn(t,Tt()),null}function Vw(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(_l=Tt()+500,Dg&&Yo())}}function zs(t){bo!==null&&bo.tag===0&&!(Fe&6)&&ol();var e=Fe;Fe|=1;var n=sr.transition,r=Je;try{if(sr.transition=null,Je=1,t)return t()}finally{Je=r,sr.transition=n,Fe=e,!(Fe&6)&&Yo()}}function Fw(){Fn=Ga.current,ut(Ga)}function Os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OU(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(bw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Op();break;case 3:xl(),ut(On),ut(pn),kw();break;case 5:Cw(r);break;case 4:xl();break;case 13:ut(ft);break;case 19:ut(ft);break;case 10:Tw(r.type._context);break;case 22:case 23:Fw()}n=n.return}if(Gt=t,It=t=Ro(t.current,null),Qt=Fn=e,Mt=0,dd=null,Lw=Vg=Gs=0,Pn=Mc=null,Ts!==null){for(e=0;e<Ts.length;e++)if(n=Ts[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ts=null}return t}function HM(t,e){do{var n=It;try{if(Ew(),op.current=Bp,Up){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Up=!1}if(Bs=0,Ft=Rt=mt=null,Rc=!1,ld=0,jw.current=null,n===null||n.return===null){Mt=1,dd=e,It=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=sA(s);if(y!==null){y.flags&=-257,aA(y,s,a,o,e),y.mode&1&&oA(o,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){oA(o,u,e),Uw();break e}l=Error(se(426))}}else if(ct&&a.mode&1){var x=sA(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),aA(x,s,a,o,e),_w(bl(l,a));break e}}o=l=bl(l,a),Mt!==4&&(Mt=2),Mc===null?Mc=[o]:Mc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=kM(o,l,e);Z1(o,w);break e;case 1:a=l;var _=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Po===null||!Po.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=PM(o,a,e);Z1(o,P);break e}}o=o.return}while(o!==null)}YM(n)}catch(S){e=S,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function WM(){var t=Gp.current;return Gp.current=Bp,t===null?Bp:t}function Uw(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Gt===null||!(Gs&268435455)&&!(Vg&268435455)||ho(Gt,Qt)}function Hp(t,e){var n=Fe;Fe|=2;var r=WM();(Gt!==t||Qt!==e)&&(fi=null,Os(t,e));do try{iB();break}catch(i){HM(t,i)}while(!0);if(Ew(),Fe=n,Gp.current=r,It!==null)throw Error(se(261));return Gt=null,Qt=0,Mt}function iB(){for(;It!==null;)KM(It)}function oB(){for(;It!==null&&!P5();)KM(It)}function KM(t){var e=XM(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?YM(t):It=e,jw.current=null}function YM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QU(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,It=null;return}}else if(n=XU(n,e,Fn),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Mt===0&&(Mt=5)}function ms(t,e,n){var r=Je,i=sr.transition;try{sr.transition=null,Je=1,sB(t,e,n,r)}finally{sr.transition=i,Je=r}return null}function sB(t,e,n,r){do ol();while(bo!==null);if(Fe&6)throw Error(se(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(F5(t,o),t===Gt&&(It=Gt=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sh||(Sh=!0,QM(Ip,function(){return ol(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sr.transition,sr.transition=null;var s=Je;Je=1;var a=Fe;Fe|=4,jw.current=null,eB(t,n),GM(n,t),AU(lx),kp=!!ax,lx=ax=null,t.current=n,tB(n),N5(),Fe=a,Je=s,sr.transition=o}else t.current=n;if(Sh&&(Sh=!1,bo=t,qp=i),o=t.pendingLanes,o===0&&(Po=null),M5(n.stateNode),Dn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zp)throw zp=!1,t=Cx,Cx=null,t;return qp&1&&t.tag!==0&&ol(),o=t.pendingLanes,o&1?t===kx?Dc++:(Dc=0,kx=t):Dc=0,Yo(),null}function ol(){if(bo!==null){var t=kO(qp),e=sr.transition,n=Je;try{if(sr.transition=null,Je=16>t?16:t,bo===null)var r=!1;else{if(t=bo,bo=null,qp=0,Fe&6)throw Error(se(331));var i=Fe;for(Fe|=4,pe=t.current;pe!==null;){var o=pe,s=o.child;if(pe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(pe=u;pe!==null;){var c=pe;switch(c.tag){case 0:case 11:case 15:Oc(8,c,o)}var d=c.child;if(d!==null)d.return=c,pe=d;else for(;pe!==null;){c=pe;var h=c.sibling,y=c.return;if(FM(c),c===u){pe=null;break}if(h!==null){h.return=y,pe=h;break}pe=y}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,pe=s;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oc(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,pe=w;break e}pe=o.return}}var _=t.current;for(pe=_;pe!==null;){s=pe;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,pe=E;else e:for(s=_;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$g(9,a)}}catch(S){bt(a,a.return,S)}if(a===s){pe=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,pe=P;break e}pe=a.return}}if(Fe=i,Yo(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Pg,t)}catch{}r=!0}return r}finally{Je=n,sr.transition=e}}return!1}function bA(t,e,n){e=bl(n,e),e=kM(t,e,1),t=ko(t,e,1),e=Sn(),t!==null&&(pf(t,1,e),Dn(t,e))}function bt(t,e,n){if(t.tag===3)bA(t,t,n);else for(;e!==null;){if(e.tag===3){bA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Po===null||!Po.has(r))){t=bl(n,t),t=PM(e,t,1),e=ko(e,t,1),t=Sn(),e!==null&&(pf(e,1,t),Dn(e,t));break}}e=e.return}}function aB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(Qt&n)===n&&(Mt===4||Mt===3&&(Qt&130023424)===Qt&&500>Tt()-$w?Os(t,0):Lw|=n),Dn(t,e)}function JM(t,e){e===0&&(t.mode&1?(e=mh,mh<<=1,!(mh&130023424)&&(mh=4194304)):e=1);var n=Sn();t=Ri(t,e),t!==null&&(pf(t,e,n),Dn(t,n))}function lB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JM(t,n)}function uB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),JM(t,n)}var XM;XM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,JU(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,ct&&e.flags&1048576&&tM(e,jp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ap(t,e),t=e.pendingProps;var i=gl(e,pn.current);il(e,n),i=Nw(null,e,r,t,i,n);var o=Rw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mn(r)?(o=!0,Mp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Aw(e),i.updater=Lg,e.stateNode=i,i._reactInternals=e,yx(e,r,t,n),e=bx(null,e,r,!0,o,n)):(e.tag=0,ct&&o&&xw(e),bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ap(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dB(r),t=br(r,t),i){case 0:e=xx(null,e,r,t,n);break e;case 1:e=cA(null,e,r,t,n);break e;case 11:e=lA(null,e,r,t,n);break e;case 14:e=uA(null,e,r,br(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),xx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),cA(t,e,r,i,n);case 3:e:{if(MM(e),t===null)throw Error(se(387));r=e.pendingProps,o=e.memoizedState,i=o.element,aM(t,e),Vp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=bl(Error(se(423)),e),e=dA(t,e,r,n,i);break e}else if(r!==i){i=bl(Error(se(424)),e),e=dA(t,e,r,n,i);break e}else for(Gn=Co(e.stateNode.containerInfo.firstChild),qn=e,ct=!0,Tr=null,n=oM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yl(),r===i){e=Oi(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return lM(e),t===null&&px(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ux(r,i)?s=null:o!==null&&ux(r,o)&&(e.flags|=32),OM(t,e),bn(t,e,s,n),e.child;case 6:return t===null&&px(e),null;case 13:return DM(t,e,n);case 4:return Iw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vl(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),lA(t,e,r,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,it(Lp,r._currentValue),r._currentValue=s,o!==null)if(Mr(o.value,s)){if(o.children===i.children&&!On.current){e=Oi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Si(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),mx(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(se(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),mx(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,il(e,n),i=ur(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),uA(t,e,r,i,n);case 15:return NM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),ap(t,e),e.tag=1,Mn(r)?(t=!0,Mp(e)):t=!1,il(e,n),CM(e,r,i),yx(e,r,i,n),bx(null,e,r,!0,t,n);case 19:return jM(t,e,n);case 22:return RM(t,e,n)}throw Error(se(156,e.tag))};function QM(t,e){return SO(t,e)}function cB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new cB(t,e,n,r)}function Bw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dB(t){if(typeof t=="function")return Bw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aw)return 11;if(t===lw)return 14}return 2}function Ro(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cp(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Bw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Oa:return Ms(n.children,i,o,e);case sw:s=8,i|=8;break;case U0:return t=ir(12,n,e,i|2),t.elementType=U0,t.lanes=o,t;case B0:return t=ir(13,n,e,i),t.elementType=B0,t.lanes=o,t;case G0:return t=ir(19,n,e,i),t.elementType=G0,t.lanes=o,t;case lO:return Fg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sO:s=10;break e;case aO:s=9;break e;case aw:s=11;break e;case lw:s=14;break e;case lo:s=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=ir(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ms(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function Fg(t,e,n,r){return t=ir(22,t,r,e),t.elementType=lO,t.lanes=n,t.stateNode={isHidden:!1},t}function qv(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function Hv(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Av(0),this.expirationTimes=Av(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Av(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gw(t,e,n,r,i,o,s,a,l){return t=new fB(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aw(o),t}function hB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ra,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZM(t){if(!t)return Uo;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(Mn(n))return ZO(t,n,e)}return e}function eD(t,e,n,r,i,o,s,a,l){return t=Gw(n,r,!0,t,i,o,s,a,l),t.context=ZM(null),n=t.current,r=Sn(),i=No(n),o=Si(r,i),o.callback=e??null,ko(n,o,i),t.current.lanes=i,pf(t,i,r),Dn(t,r),t}function Ug(t,e,n,r){var i=e.current,o=Sn(),s=No(i);return n=ZM(n),e.context===null?e.context=n:e.pendingContext=n,e=Si(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ko(i,e,s),t!==null&&(Cr(t,i,s,o),ip(t,i,s)),s}function Wp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _A(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zw(t,e){_A(t,e),(t=t.alternate)&&_A(t,e)}function pB(){return null}var tD=typeof reportError=="function"?reportError:function(t){console.error(t)};function qw(t){this._internalRoot=t}Bg.prototype.render=qw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));Ug(t,e,null,null)};Bg.prototype.unmount=qw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){Ug(null,t,null,null)}),e[Ni]=null}};function Bg(t){this._internalRoot=t}Bg.prototype.unstable_scheduleHydration=function(t){if(t){var e=RO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fo.length&&e!==0&&e<fo[n].priority;n++);fo.splice(n,0,t),n===0&&MO(t)}};function Hw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wA(){}function mB(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Wp(s);o.call(u)}}var s=eD(e,r,t,0,null,!1,!1,"",wA);return t._reactRootContainer=s,t[Ni]=s.current,rd(t.nodeType===8?t.parentNode:t),zs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Wp(l);a.call(u)}}var l=Gw(t,0,!1,null,null,!1,!1,"",wA);return t._reactRootContainer=l,t[Ni]=l.current,rd(t.nodeType===8?t.parentNode:t),zs(function(){Ug(e,l,n,r)}),l}function zg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Wp(s);a.call(l)}}Ug(e,s,t,i)}else s=mB(n,e,t,i,r);return Wp(s)}PO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vc(e.pendingLanes);n!==0&&(dw(e,n|1),Dn(e,Tt()),!(Fe&6)&&(_l=Tt()+500,Yo()))}break;case 13:zs(function(){var r=Ri(t,1);if(r!==null){var i=Sn();Cr(r,t,1,i)}}),zw(t,1)}};fw=function(t){if(t.tag===13){var e=Ri(t,134217728);if(e!==null){var n=Sn();Cr(e,t,134217728,n)}zw(t,134217728)}};NO=function(t){if(t.tag===13){var e=No(t),n=Ri(t,e);if(n!==null){var r=Sn();Cr(n,t,e,r)}zw(t,e)}};RO=function(){return Je};OO=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Z0=function(t,e,n){switch(e){case"input":if(H0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mg(r);if(!i)throw Error(se(90));cO(r),H0(r,i)}}}break;case"textarea":fO(t,n);break;case"select":e=n.value,e!=null&&el(t,!!n.multiple,e,!1)}};xO=Vw;bO=zs;var gB={usingClientEntryPoint:!1,Events:[gf,La,Mg,yO,vO,Vw]},nc={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yB={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=EO(t),t===null?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||pB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Pg=Ah.inject(yB),Hr=Ah}catch{}}Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gB;Jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hw(e))throw Error(se(200));return hB(t,e,null,n)};Jn.createRoot=function(t,e){if(!Hw(t))throw Error(se(299));var n=!1,r="",i=tD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gw(t,1,!1,null,null,n,!1,r,i),t[Ni]=e.current,rd(t.nodeType===8?t.parentNode:t),new qw(e)};Jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=EO(e),t=t===null?null:t.stateNode,t};Jn.flushSync=function(t){return zs(t)};Jn.hydrate=function(t,e,n){if(!Gg(e))throw Error(se(200));return zg(null,t,e,!0,n)};Jn.hydrateRoot=function(t,e,n){if(!Hw(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=tD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=eD(e,null,t,1,n??null,i,!1,o,s),t[Ni]=e.current,rd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bg(e)};Jn.render=function(t,e,n){if(!Gg(e))throw Error(se(200));return zg(null,t,e,!1,n)};Jn.unmountComponentAtNode=function(t){if(!Gg(t))throw Error(se(40));return t._reactRootContainer?(zs(function(){zg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ni]=null})}),!0):!1};Jn.unstable_batchedUpdates=Vw;Jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gg(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return zg(t,e,n,!1,r)};Jn.version="18.3.1-next-f1338f8080-20240426";function nD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nD)}catch(t){console.error(t)}}nD(),nO.exports=Jn;var vB=nO.exports,EA=vB;V0.createRoot=EA.createRoot,V0.hydrateRoot=EA.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(t,e)=>{const n=B.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>B.createElement("svg",{ref:c,...xB,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${bB(t)}`,a].join(" "),...u},[...e.map(([d,h])=>B.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=re("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=re("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=re("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=re("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=re("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=re("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=re("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=re("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=re("BadgeAlert",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=re("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=re("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=re("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=re("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=re("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=re("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=re("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=re("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=re("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=re("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=re("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=re("HardDriveUpload",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=re("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=re("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=re("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=re("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=re("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=re("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=re("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=re("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=re("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=re("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=re("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=re("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=re("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=re("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=re("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=re("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=re("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=re("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=re("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=re("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=re("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=re("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=re("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=re("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=re("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var De=(t=>(t.DASHBOARD="DASHBOARD",t.TRANSACTIONS="TRANSACTIONS",t.INVESTMENTS="INVESTMENTS",t.BUDGETS="BUDGETS",t.SUBSCRIPTIONS="SUBSCRIPTIONS",t.CALENDAR="CALENDAR",t.AI_ASSISTANT="AI_ASSISTANT",t.DEBTS="DEBTS",t.SHOPPING_LIST="SHOPPING_LIST",t.WEALTH_PLANNER="WEALTH_PLANNER",t))(De||{}),NA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[d],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new h6;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class h6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p6=function(t){const e=yD(t);return vD.encodeByteArray(e,!0)},xD=function(t){return p6(t).replace(/\./g,"")},bD=function(t){try{return vD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=()=>m6().__FIREBASE_DEFAULTS__,y6=()=>{if(typeof process>"u"||typeof NA>"u")return;const t=NA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bD(t[1]);return e&&JSON.parse(e)},Wg=()=>{try{return g6()||y6()||v6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x6=t=>{var e,n;return(n=(e=Wg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_D=()=>{var t;return(t=Wg())===null||t===void 0?void 0:t.config},wD=t=>{var e;return(e=Wg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function w6(){var t;const e=(t=Wg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A6(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I6(){return!w6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C6(){try{return typeof indexedDB=="object"}catch{return!1}}function k6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="FirebaseError";class Wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=P6,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vf.prototype.create)}}class vf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?N6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wi(i,a,r)}}function N6(t,e){return t.replace(R6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const R6=/\{\$([^}]+)}/g;function O6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(RA(o)&&RA(s)){if(!gd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M6(t,e){const n=new D6(t,e);return n.subscribe.bind(n)}class D6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");j6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yv),i.error===void 0&&(i.error=Yv),i.complete===void 0&&(i.complete=Yv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V6(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $6(t){return t===gs?void 0:t}function V6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const U6={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},B6=Le.INFO,G6={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},z6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=G6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xw{constructor(e){this.name=e,this._logLevel=B6,this._logHandler=z6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const q6=(t,e)=>e.some(n=>t instanceof n);let OA,MA;function H6(){return OA||(OA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W6(){return MA||(MA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ED=new WeakMap,$x=new WeakMap,TD=new WeakMap,Jv=new WeakMap,Qw=new WeakMap;function K6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Mo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ED.set(n,t)}).catch(()=>{}),Qw.set(e,t),e}function Y6(t){if($x.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$x.set(t,e)}let Vx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $x.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J6(t){Vx=t(Vx)}function X6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xv(this),e,...n);return TD.set(r,e.sort?e.sort():[e]),Mo(r)}:W6().includes(t)?function(...e){return t.apply(Xv(this),e),Mo(ED.get(this))}:function(...e){return Mo(t.apply(Xv(this),e))}}function Q6(t){return typeof t=="function"?X6(t):(t instanceof IDBTransaction&&Y6(t),q6(t,H6())?new Proxy(t,Vx):t)}function Mo(t){if(t instanceof IDBRequest)return K6(t);if(Jv.has(t))return Jv.get(t);const e=Q6(t);return e!==t&&(Jv.set(t,e),Qw.set(e,t)),e}const Xv=t=>Qw.get(t);function Z6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Mo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Mo(s.result),l.oldVersion,l.newVersion,Mo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const e8=["get","getKey","getAll","getAllKeys","count"],t8=["put","add","delete","clear"],Qv=new Map;function DA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qv.get(e))return Qv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=t8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e8.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qv.set(e,o),o}J6(t=>({...t,get:(e,n,r)=>DA(e,n)||t.get(e,n,r),has:(e,n)=>!!DA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fx="@firebase/app",jA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Xw("@firebase/app"),i8="@firebase/app-compat",o8="@firebase/analytics-compat",s8="@firebase/analytics",a8="@firebase/app-check-compat",l8="@firebase/app-check",u8="@firebase/auth",c8="@firebase/auth-compat",d8="@firebase/database",f8="@firebase/data-connect",h8="@firebase/database-compat",p8="@firebase/functions",m8="@firebase/functions-compat",g8="@firebase/installations",y8="@firebase/installations-compat",v8="@firebase/messaging",x8="@firebase/messaging-compat",b8="@firebase/performance",_8="@firebase/performance-compat",w8="@firebase/remote-config",E8="@firebase/remote-config-compat",T8="@firebase/storage",S8="@firebase/storage-compat",A8="@firebase/firestore",I8="@firebase/vertexai-preview",C8="@firebase/firestore-compat",k8="firebase",P8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="[DEFAULT]",N8={[Fx]:"fire-core",[i8]:"fire-core-compat",[s8]:"fire-analytics",[o8]:"fire-analytics-compat",[l8]:"fire-app-check",[a8]:"fire-app-check-compat",[u8]:"fire-auth",[c8]:"fire-auth-compat",[d8]:"fire-rtdb",[f8]:"fire-data-connect",[h8]:"fire-rtdb-compat",[p8]:"fire-fn",[m8]:"fire-fn-compat",[g8]:"fire-iid",[y8]:"fire-iid-compat",[v8]:"fire-fcm",[x8]:"fire-fcm-compat",[b8]:"fire-perf",[_8]:"fire-perf-compat",[w8]:"fire-rc",[E8]:"fire-rc-compat",[T8]:"fire-gcs",[S8]:"fire-gcs-compat",[A8]:"fire-fst",[C8]:"fire-fst-compat",[I8]:"fire-vertex","fire-js":"fire-js",[k8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Map,R8=new Map,Bx=new Map;function LA(t,e){try{t.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wl(t){const e=t.name;if(Bx.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Bx.set(e,t);for(const n of em.values())LA(n,t);for(const n of R8.values())LA(n,t);return!0}function Zw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ar(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Do=new vf("app","Firebase",O8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=P8;function SD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ux,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Do.create("bad-app-name",{appName:String(i)});if(n||(n=_D()),!n)throw Do.create("no-options");const o=em.get(i);if(o){if(gd(n,o.options)&&gd(r,o.config))return o;throw Do.create("duplicate-app",{appName:i})}const s=new F6(i);for(const l of Bx.values())s.addComponent(l);const a=new M8(n,r,s);return em.set(i,a),a}function D8(t=Ux){const e=em.get(t);if(!e&&t===Ux&&_D())return SD();if(!e)throw Do.create("no-app",{appName:t});return e}function jo(t,e,n){var r;let i=(r=N8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(a.join(" "));return}wl(new Hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8="firebase-heartbeat-database",L8=1,yd="firebase-heartbeat-store";let Zv=null;function AD(){return Zv||(Zv=Z6(j8,L8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Do.create("idb-open",{originalErrorMessage:t.message})})),Zv}async function $8(t){try{const n=(await AD()).transaction(yd),r=await n.objectStore(yd).get(ID(t));return await n.done,r}catch(e){if(e instanceof Wi)ji.warn(e.message);else{const n=Do.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(n.message)}}}async function $A(t,e){try{const r=(await AD()).transaction(yd,"readwrite");await r.objectStore(yd).put(e,ID(t)),await r.done}catch(n){if(n instanceof Wi)ji.warn(n.message);else{const r=Do.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(r.message)}}}function ID(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=1024,F8=30*24*60*60*1e3;class U8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=F8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VA(),{heartbeatsToSend:r,unsentEntries:i}=B8(this._heartbeatsCache.heartbeats),o=xD(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ji.warn(n),""}}}function VA(){return new Date().toISOString().substring(0,10)}function B8(t,e=V8){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),FA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C6()?k6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $A(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $A(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function FA(t){return xD(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t){wl(new Hs("platform-logger",e=>new n8(e),"PRIVATE")),wl(new Hs("heartbeat",e=>new U8(e),"PRIVATE")),jo(Fx,jA,t),jo(Fx,jA,"esm2017"),jo("fire-js","")}z8("");var q8="firebase",H8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo(q8,H8,"app");function eE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W8=CD,kD=new vf("auth","Firebase",CD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Xw("@firebase/auth");function K8(t,...e){tm.logLevel<=Le.WARN&&tm.warn(`Auth (${lu}): ${t}`,...e)}function fp(t,...e){tm.logLevel<=Le.ERROR&&tm.error(`Auth (${lu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw nE(t,...e)}function kr(t,...e){return nE(t,...e)}function tE(t,e,n){const r=Object.assign(Object.assign({},W8()),{[e]:n});return new vf("auth","Firebase",r).create(e,{appName:t.name})}function Ai(t){return tE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&dr(t,"argument-error"),tE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kD.create(t,...e)}function Se(t,e,...n){if(!t)throw nE(e,...n)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fp(e),new Error(e)}function Li(t,e){t||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function J8(){return UA()==="http:"||UA()==="https:"}function UA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J8()||T6()||"connection"in navigator)?navigator.onLine:!0}function Q8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=_6()||S6()}get(){return X8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t,e){Li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=new bf(3e4,6e4);function Jo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xo(t,e,n,r,i={}){return ND(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=xf(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return E6()||(u.referrerPolicy="no-referrer"),PD.fetch()(RD(t,t.config.apiHost,n,a),u)})}async function ND(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Z8),e);try{const i=new n7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ch(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ch(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ch(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tE(t,c,u);dr(t,c)}}catch(i){if(i instanceof Wi)throw i;dr(t,"network-request-failed",{message:String(i)})}}async function _f(t,e,n,r,i={}){const o=await Xo(t,e,n,r,i);return"mfaPendingCredential"in o&&dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function RD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?rE(t.config,i):`${t.config.apiScheme}://${i}`}function t7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class n7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),e7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ch(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kr(t,e,r);return i.customData._tokenResponse=n,i}function BA(t){return t!==void 0&&t.enterprise!==void 0}class r7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return t7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function i7(t,e){return Xo(t,"GET","/v2/recaptchaConfig",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(t,e){return Xo(t,"POST","/v1/accounts:delete",e)}async function OD(t,e){return Xo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s7(t,e=!1){const n=wt(t),r=await n.getIdToken(e),i=iE(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:jc(e0(i.auth_time)),issuedAtTime:jc(e0(i.iat)),expirationTime:jc(e0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function e0(t){return Number(t)*1e3}function iE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fp("JWT malformed, contained fewer than 3 sections"),null;try{const i=bD(n);return i?JSON.parse(i):(fp("Failed to decode base64 JWT payload"),null)}catch(i){return fp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function GA(t){const e=iE(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wi&&a7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vd(t,OD(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?MD(o.providerUserInfo):[],a=c7(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zx(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function u7(t){const e=wt(t);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MD(t){return t.map(e=>{var{providerId:n}=e,r=eE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d7(t,e){const n=await ND(t,{},async()=>{const r=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=RD(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",PD.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f7(t,e){return Xo(t,"POST","/v2/accounts:revokeToken",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=GA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await d7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new sl;return r&&(Se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=eE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await vd(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s7(this,e)}reload(){return u7(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await vd(this,o7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:P,isAnonymous:S,providerData:k,stsTokenManager:C}=n;Se(E&&C,e,"internal-error");const T=sl.fromJSON(this.name,C);Se(typeof E=="string",e,"internal-error"),so(d,e.name),so(h,e.name),Se(typeof P=="boolean",e,"internal-error"),Se(typeof S=="boolean",e,"internal-error"),so(y,e.name),so(v,e.name),so(b,e.name),so(x,e.name),so(w,e.name),so(_,e.name);const I=new bi({uid:E,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:S,photoURL:v,phoneNumber:y,tenantId:b,stsTokenManager:T,createdAt:w,lastLoginAt:_});return k&&Array.isArray(k)&&(I.providerData=k.map(N=>Object.assign({},N))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new sl;i.updateFromServerResponse(n);const o=new bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?MD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new sl;a.updateFromIdToken(r);const l=new bi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Map;function _i(t){Li(t instanceof Function,"Expected a class definition");let e=zA.get(t);return e?(Li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DD.type="NONE";const qA=DD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e,n){return`firebase:${t}:${e}:${n}`}class al{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=hp(this.userKey,i.apiKey,o),this.fullPersistenceKey=hp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new al(_i(qA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||_i(qA);const s=hp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=bi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new al(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new al(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UD(e))return"Blackberry";if(BD(e))return"Webos";if(LD(e))return"Safari";if((e.includes("chrome/")||$D(e))&&!e.includes("edge/"))return"Chrome";if(FD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jD(t=mn()){return/firefox\//i.test(t)}function LD(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $D(t=mn()){return/crios\//i.test(t)}function VD(t=mn()){return/iemobile/i.test(t)}function FD(t=mn()){return/android/i.test(t)}function UD(t=mn()){return/blackberry/i.test(t)}function BD(t=mn()){return/webos/i.test(t)}function oE(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h7(t=mn()){var e;return oE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p7(){return A6()&&document.documentMode===10}function GD(t=mn()){return oE(t)||FD(t)||BD(t)||UD(t)||/windows phone/i.test(t)||VD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e=[]){let n;switch(t){case"Browser":n=HA(mn());break;case"Worker":n=`${HA(mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g7(t,e={}){return Xo(t,"GET","/v2/passwordPolicy",Jo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=6;class v7{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:y7,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WA(this),this.idTokenSubscription=new WA(this),this.beforeStateQueue=new m7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await OD(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ar(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ar(this.app))return Promise.reject(Ai(this));const n=e?wt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ar(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await g7(this),n=new v7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&K8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qo(t){return wt(t)}class WA{constructor(e){this.auth=e,this.observer=null,this.addObserver=M6(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b7(t){Kg=t}function qD(t){return Kg.loadJS(t)}function _7(){return Kg.recaptchaEnterpriseScript}function w7(){return Kg.gapiScript}function E7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const T7="recaptcha-enterprise",S7="NO_RECAPTCHA";class A7{constructor(e){this.type=T7,this.auth=Qo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{i7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new r7(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;BA(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(S7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&BA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_7();l.length!==0&&(l+=a),qD(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function KA(t,e,n,r=!1){const i=new A7(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function qx(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await KA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await KA(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t,e){const n=Zw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(gd(o,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function C7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k7(t,e,n){const r=Qo(t);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=HD(e),{host:s,port:a}=P7(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),N7()}function HD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P7(t){const e=HD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:YA(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:YA(s)}}}function YA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function N7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function R7(t,e){return Xo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(t,e){return _f(t,"POST","/v1/accounts:signInWithPassword",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M7(t,e){return _f(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}async function D7(t,e){return _f(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends sE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qx(e,n,"signInWithPassword",O7);case"emailLink":return M7(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qx(e,r,"signUpPassword",R7);case"emailLink":return D7(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t,e){return _f(t,"POST","/v1/accounts:signInWithIdp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7="http://localhost";class Ws extends sE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=eE(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ws(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ll(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ll(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ll(e,n)}buildRequest(){const e={requestUri:j7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $7(t){const e=bc(_c(t)).link,n=e?bc(_c(e)).deep_link_id:null,r=bc(_c(t)).deep_link_id;return(r?bc(_c(r)).link:null)||r||n||e||t}class aE{constructor(e){var n,r,i,o,s,a;const l=bc(_c(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=L7((i=l.mode)!==null&&i!==void 0?i:null);Se(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$7(e);try{return new aE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.providerId=uu.PROVIDER_ID}static credential(e,n){return xd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=aE.parseLink(n);return Se(r,"argument-error"),xd._fromEmailAndCode(e,r.code,r.tenantId)}}uu.PROVIDER_ID="password";uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends lE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends wf{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends wf{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends wf{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return go.credential(n,r)}catch{return null}}}go.TWITTER_SIGN_IN_METHOD="twitter.com";go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V7(t,e){return _f(t,"POST","/v1/accounts:signUp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await bi._fromIdTokenResponse(e,r,i),s=JA(r);return new Ks({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=JA(r);return new Ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function JA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends Wi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rm(e,n,r,i)}}function WD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,o,e,r):o})}async function F7(t,e,n=!1){const r=await vd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ks._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U7(t,e,n=!1){const{auth:r}=t;if(Ar(r.app))return Promise.reject(Ai(r));const i="reauthenticate";try{const o=await vd(t,WD(r,i,e,t),n);Se(o.idToken,r,"internal-error");const s=iE(o.idToken);Se(s,r,"internal-error");const{sub:a}=s;return Se(t.uid===a,r,"user-mismatch"),Ks._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e,n=!1){if(Ar(t.app))return Promise.reject(Ai(t));const r="signIn",i=await WD(t,r,e),o=await Ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function B7(t,e){return KD(Qo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t){const e=Qo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function G7(t,e,n){if(Ar(t.app))return Promise.reject(Ai(t));const r=Qo(t),s=await qx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&YD(t),l}),a=await Ks._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function z7(t,e,n){return Ar(t.app)?Promise.reject(Ai(t)):B7(wt(t),uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YD(t),r})}function q7(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function H7(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function W7(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function K7(t){return wt(t).signOut()}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=1e3,J7=10;class XD extends JD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);p7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,J7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Y7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XD.type="LOCAL";const X7=XD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD extends JD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QD.type="SESSION";const ZD=QD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Q7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=uE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function e9(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function t9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r9(){return ej()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="firebaseLocalStorageDb",i9=1,om="firebaseLocalStorage",nj="fbase_key";class Ef{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jg(t,e){return t.transaction([om],e?"readwrite":"readonly").objectStore(om)}function o9(){const t=indexedDB.deleteDatabase(tj);return new Ef(t).toPromise()}function Hx(){const t=indexedDB.open(tj,i9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(om,{keyPath:nj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(om)?e(r):(r.close(),await o9(),e(await Hx()))})})}async function XA(t,e,n){const r=Jg(t,!0).put({[nj]:e,value:n});return new Ef(r).toPromise()}async function s9(t,e){const n=Jg(t,!1).get(e),r=await new Ef(n).toPromise();return r===void 0?null:r.value}function QA(t,e){const n=Jg(t,!0).delete(e);return new Ef(n).toPromise()}const a9=800,l9=3;class rj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ej()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yg._getInstance(r9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t9(),!this.activeServiceWorker)return;this.sender=new Z7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hx();return await XA(e,im,"1"),await QA(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>XA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Jg(i,!1).getAll();return new Ef(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rj.type="LOCAL";const u9=rj;new bf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e){return e?_i(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends sE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c9(t){return KD(t.auth,new cE(t),t.bypassAuthState)}function d9(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),U7(n,new cE(t),t.bypassAuthState)}async function f9(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),F7(n,new cE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c9;case"linkViaPopup":case"linkViaRedirect":return f9;case"reauthViaPopup":case"reauthViaRedirect":return d9;default:dr(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=new bf(2e3,1e4);async function p9(t,e,n){if(Ar(t.app))return Promise.reject(kr(t,"operation-not-supported-in-this-environment"));const r=Qo(t);Y8(t,e,lE);const i=ij(r,n);return new As(r,"signInViaPopup",e,i).executeNotNull()}class As extends oj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=uE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h9.get())};e()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="pendingRedirect",pp=new Map;class g9 extends oj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pp.get(this.auth._key());if(!e){try{const r=await y9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pp.set(this.auth._key(),e)}return this.bypassAuthState||pp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y9(t,e){const n=b9(e),r=x9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function v9(t,e){pp.set(t._key(),e)}function x9(t){return _i(t._redirectPersistence)}function b9(t){return hp(m9,t.config.apiKey,t.name)}async function _9(t,e,n=!1){if(Ar(t.app))return Promise.reject(Ai(t));const r=Qo(t),i=ij(r,e),s=await new g9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=10*60*1e3;class E9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w9&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZA(e))}saveEventToCache(e){this.cachedEventUids.add(ZA(e)),this.lastProcessedEventTime=Date.now()}}function ZA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e={}){return Xo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I9=/^https?/;async function C9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S9(t);for(const n of e)try{if(k9(n))return}catch{}dr(t,"unauthorized-domain")}function k9(t){const e=Gx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!I9.test(n))return!1;if(A9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new bf(3e4,6e4);function eI(){const t=Kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N9(t){return new Promise((e,n)=>{var r,i,o;function s(){eI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eI(),n(kr(t,"network-request-failed"))},timeout:P9.get()})}if(!((i=(r=Kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Kr().gapi)===null||o===void 0)&&o.load)s();else{const a=E7("iframefcb");return Kr()[a]=()=>{gapi.load?s():n(kr(t,"network-request-failed"))},qD(`${w7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mp=null,e})}let mp=null;function R9(t){return mp=mp||N9(t),mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=new bf(5e3,15e3),M9="__/auth/iframe",D9="emulator/auth/iframe",j9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $9(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rE(e,D9):`https://${t.config.authDomain}/${M9}`,r={apiKey:e.apiKey,appName:t.name,v:lu},i=L9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xf(r).slice(1)}`}async function V9(t){const e=await R9(t),n=Kr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:$9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=kr(t,"network-request-failed"),a=Kr().setTimeout(()=>{o(s)},O9.get());function l(){Kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U9=500,B9=600,G9="_blank",z9="http://localhost";class tI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q9(t,e,n,r=U9,i=B9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},F9),{width:r.toString(),height:i.toString(),top:o,left:s}),u=mn().toLowerCase();n&&(a=$D(u)?G9:n),jD(u)&&(e=e||z9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,v])=>`${h}${y}=${v},`,"");if(h7(u)&&a!=="_self")return H9(e||"",a),new tI(null);const d=window.open(e||"",a,c);Se(d,t,"popup-blocked");try{d.focus()}catch{}return new tI(d)}function H9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="__/auth/handler",K9="emulator/auth/handler",Y9=encodeURIComponent("fac");async function nI(t,e,n,r,i,o){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lu,eventId:i};if(e instanceof lE){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",O6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof wf){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Y9}=${encodeURIComponent(l)}`:"";return`${J9(t)}?${xf(a).slice(1)}${u}`}function J9({config:t}){return t.emulator?rE(t,K9):`https://${t.authDomain}/${W9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="webStorageSupport";class X9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZD,this._completeRedirectFn=_9,this._overrideRedirectResult=v9}async _openPopup(e,n,r,i){var o;Li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await nI(e,n,r,Gx(),i);return q9(e,s,uE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await nI(e,n,r,Gx(),i);return e9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Li(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V9(e),r=new E9(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(t0,{type:t0},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[t0];s!==void 0&&n(!!s),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GD()||LD()||oE()}}const Q9=X9;var rI="@firebase/auth",iI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tG(t){wl(new Hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zD(t)},u=new x7(r,i,o,l);return C7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wl(new Hs("auth-internal",e=>{const n=Qo(e.getProvider("auth").getImmediate());return(r=>new Z9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jo(rI,iI,eG(t)),jo(rI,iI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=5*60,rG=wD("authIdTokenMaxAge")||nG;let oI=null;const iG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rG)return;const i=n==null?void 0:n.token;oI!==i&&(oI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oG(t=D8()){const e=Zw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=I7(t,{popupRedirectResolver:Q9,persistence:[u9,X7,ZD]}),r=wD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=iG(o.toString());H7(n,s,()=>s(n.currentUser)),q7(n,a=>s(a))}}const i=x6("auth");return i&&k7(n,`http://${i}`),n}function sG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}b7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=kr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",sG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tG("Browser");var sI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,aj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function I(){}I.prototype=T.prototype,C.D=T.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(N,M,D){for(var R=Array(arguments.length-2),j=2;j<arguments.length;j++)R[j-2]=arguments[j];return T.prototype[M].apply(N,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,T,I){I||(I=0);var N=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)N[M]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(M=0;16>M;++M)N[M]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=C.g[0],I=C.g[1],M=C.g[2];var D=C.g[3],R=T+(D^I&(M^D))+N[0]+3614090360&4294967295;T=I+(R<<7&4294967295|R>>>25),R=D+(M^T&(I^M))+N[1]+3905402710&4294967295,D=T+(R<<12&4294967295|R>>>20),R=M+(I^D&(T^I))+N[2]+606105819&4294967295,M=D+(R<<17&4294967295|R>>>15),R=I+(T^M&(D^T))+N[3]+3250441966&4294967295,I=M+(R<<22&4294967295|R>>>10),R=T+(D^I&(M^D))+N[4]+4118548399&4294967295,T=I+(R<<7&4294967295|R>>>25),R=D+(M^T&(I^M))+N[5]+1200080426&4294967295,D=T+(R<<12&4294967295|R>>>20),R=M+(I^D&(T^I))+N[6]+2821735955&4294967295,M=D+(R<<17&4294967295|R>>>15),R=I+(T^M&(D^T))+N[7]+4249261313&4294967295,I=M+(R<<22&4294967295|R>>>10),R=T+(D^I&(M^D))+N[8]+1770035416&4294967295,T=I+(R<<7&4294967295|R>>>25),R=D+(M^T&(I^M))+N[9]+2336552879&4294967295,D=T+(R<<12&4294967295|R>>>20),R=M+(I^D&(T^I))+N[10]+4294925233&4294967295,M=D+(R<<17&4294967295|R>>>15),R=I+(T^M&(D^T))+N[11]+2304563134&4294967295,I=M+(R<<22&4294967295|R>>>10),R=T+(D^I&(M^D))+N[12]+1804603682&4294967295,T=I+(R<<7&4294967295|R>>>25),R=D+(M^T&(I^M))+N[13]+4254626195&4294967295,D=T+(R<<12&4294967295|R>>>20),R=M+(I^D&(T^I))+N[14]+2792965006&4294967295,M=D+(R<<17&4294967295|R>>>15),R=I+(T^M&(D^T))+N[15]+1236535329&4294967295,I=M+(R<<22&4294967295|R>>>10),R=T+(M^D&(I^M))+N[1]+4129170786&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^M&(T^I))+N[6]+3225465664&4294967295,D=T+(R<<9&4294967295|R>>>23),R=M+(T^I&(D^T))+N[11]+643717713&4294967295,M=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(M^D))+N[0]+3921069994&4294967295,I=M+(R<<20&4294967295|R>>>12),R=T+(M^D&(I^M))+N[5]+3593408605&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^M&(T^I))+N[10]+38016083&4294967295,D=T+(R<<9&4294967295|R>>>23),R=M+(T^I&(D^T))+N[15]+3634488961&4294967295,M=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(M^D))+N[4]+3889429448&4294967295,I=M+(R<<20&4294967295|R>>>12),R=T+(M^D&(I^M))+N[9]+568446438&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^M&(T^I))+N[14]+3275163606&4294967295,D=T+(R<<9&4294967295|R>>>23),R=M+(T^I&(D^T))+N[3]+4107603335&4294967295,M=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(M^D))+N[8]+1163531501&4294967295,I=M+(R<<20&4294967295|R>>>12),R=T+(M^D&(I^M))+N[13]+2850285829&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^M&(T^I))+N[2]+4243563512&4294967295,D=T+(R<<9&4294967295|R>>>23),R=M+(T^I&(D^T))+N[7]+1735328473&4294967295,M=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(M^D))+N[12]+2368359562&4294967295,I=M+(R<<20&4294967295|R>>>12),R=T+(I^M^D)+N[5]+4294588738&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^M)+N[8]+2272392833&4294967295,D=T+(R<<11&4294967295|R>>>21),R=M+(D^T^I)+N[11]+1839030562&4294967295,M=D+(R<<16&4294967295|R>>>16),R=I+(M^D^T)+N[14]+4259657740&4294967295,I=M+(R<<23&4294967295|R>>>9),R=T+(I^M^D)+N[1]+2763975236&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^M)+N[4]+1272893353&4294967295,D=T+(R<<11&4294967295|R>>>21),R=M+(D^T^I)+N[7]+4139469664&4294967295,M=D+(R<<16&4294967295|R>>>16),R=I+(M^D^T)+N[10]+3200236656&4294967295,I=M+(R<<23&4294967295|R>>>9),R=T+(I^M^D)+N[13]+681279174&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^M)+N[0]+3936430074&4294967295,D=T+(R<<11&4294967295|R>>>21),R=M+(D^T^I)+N[3]+3572445317&4294967295,M=D+(R<<16&4294967295|R>>>16),R=I+(M^D^T)+N[6]+76029189&4294967295,I=M+(R<<23&4294967295|R>>>9),R=T+(I^M^D)+N[9]+3654602809&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^M)+N[12]+3873151461&4294967295,D=T+(R<<11&4294967295|R>>>21),R=M+(D^T^I)+N[15]+530742520&4294967295,M=D+(R<<16&4294967295|R>>>16),R=I+(M^D^T)+N[2]+3299628645&4294967295,I=M+(R<<23&4294967295|R>>>9),R=T+(M^(I|~D))+N[0]+4096336452&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~M))+N[7]+1126891415&4294967295,D=T+(R<<10&4294967295|R>>>22),R=M+(T^(D|~I))+N[14]+2878612391&4294967295,M=D+(R<<15&4294967295|R>>>17),R=I+(D^(M|~T))+N[5]+4237533241&4294967295,I=M+(R<<21&4294967295|R>>>11),R=T+(M^(I|~D))+N[12]+1700485571&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~M))+N[3]+2399980690&4294967295,D=T+(R<<10&4294967295|R>>>22),R=M+(T^(D|~I))+N[10]+4293915773&4294967295,M=D+(R<<15&4294967295|R>>>17),R=I+(D^(M|~T))+N[1]+2240044497&4294967295,I=M+(R<<21&4294967295|R>>>11),R=T+(M^(I|~D))+N[8]+1873313359&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~M))+N[15]+4264355552&4294967295,D=T+(R<<10&4294967295|R>>>22),R=M+(T^(D|~I))+N[6]+2734768916&4294967295,M=D+(R<<15&4294967295|R>>>17),R=I+(D^(M|~T))+N[13]+1309151649&4294967295,I=M+(R<<21&4294967295|R>>>11),R=T+(M^(I|~D))+N[4]+4149444226&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~M))+N[11]+3174756917&4294967295,D=T+(R<<10&4294967295|R>>>22),R=M+(T^(D|~I))+N[2]+718787259&4294967295,M=D+(R<<15&4294967295|R>>>17),R=I+(D^(M|~T))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var I=T-this.blockSize,N=this.B,M=this.h,D=0;D<T;){if(M==0)for(;D<=I;)i(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<T;)if(N[M++]=C.charCodeAt(D++),M==this.blockSize){i(this,N),M=0;break}}else for(;D<T;)if(N[M++]=C[D++],M==this.blockSize){i(this,N),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var I=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.u(C),C=Array(16),T=I=0;4>T;++T)for(var N=0;32>N;N+=8)C[I++]=this.g[T]>>>N&255;return C};function o(C,T){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=T(C)}function s(C,T){this.h=T;for(var I=[],N=!0,M=C.length-1;0<=M;M--){var D=C[M]|0;N&&D==T||(I[M]=D,N=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?o(C,function(T){return new s([T|0],0>T?-1:0)}):new s([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return x(u(-C));for(var T=[],I=1,N=0;C>=I;N++)T[N]=C/I|0,I*=4294967296;return new s(T,0)}function c(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return x(c(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(T,8)),N=d,M=0;M<C.length;M+=8){var D=Math.min(8,C.length-M),R=parseInt(C.substring(M,M+D),T);8>D?(D=u(Math.pow(T,D)),N=N.j(D).add(u(R))):(N=N.j(I),N=N.add(u(R)))}return N}var d=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var C=0,T=1,I=0;I<this.g.length;I++){var N=this.i(I);C+=(0<=N?N:4294967296+N)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(b(this))return"-"+x(this).toString(C);for(var T=u(Math.pow(C,6)),I=this,N="";;){var M=P(I,T).g;I=w(I,M.j(T));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=M,v(I))return D+N;for(;6>D.length;)D="0"+D;N=D+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function b(C){return C.h==-1}t.l=function(C){return C=w(this,C),b(C)?-1:v(C)?0:1};function x(C){for(var T=C.g.length,I=[],N=0;N<T;N++)I[N]=~C.g[N];return new s(I,~C.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],N=0,M=0;M<=T;M++){var D=N+(this.i(M)&65535)+(C.i(M)&65535),R=(D>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);N=R>>>16,D&=65535,R&=65535,I[M]=R<<16|D}return new s(I,I[I.length-1]&-2147483648?-1:0)};function w(C,T){return C.add(x(T))}t.j=function(C){if(v(this)||v(C))return d;if(b(this))return b(C)?x(this).j(x(C)):x(x(this).j(C));if(b(C))return x(this.j(x(C)));if(0>this.l(y)&&0>C.l(y))return u(this.m()*C.m());for(var T=this.g.length+C.g.length,I=[],N=0;N<2*T;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<C.g.length;M++){var D=this.i(N)>>>16,R=this.i(N)&65535,j=C.i(M)>>>16,F=C.i(M)&65535;I[2*N+2*M]+=R*F,_(I,2*N+2*M),I[2*N+2*M+1]+=D*F,_(I,2*N+2*M+1),I[2*N+2*M+1]+=R*j,_(I,2*N+2*M+1),I[2*N+2*M+2]+=D*j,_(I,2*N+2*M+2)}for(N=0;N<T;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=T;N<2*T;N++)I[N]=0;return new s(I,0)};function _(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function E(C,T){this.g=C,this.h=T}function P(C,T){if(v(T))throw Error("division by zero");if(v(C))return new E(d,d);if(b(C))return T=P(x(C),T),new E(x(T.g),x(T.h));if(b(T))return T=P(C,x(T)),new E(x(T.g),T.h);if(30<C.g.length){if(b(C)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var I=h,N=T;0>=N.l(C);)I=S(I),N=S(N);var M=k(I,1),D=k(N,1);for(N=k(N,2),I=k(I,2);!v(N);){var R=D.add(N);0>=R.l(C)&&(M=M.add(I),D=R),N=k(N,1),I=k(I,1)}return T=w(C,M.j(T)),new E(M,T)}for(M=d;0<=C.l(T);){for(I=Math.max(1,Math.floor(C.m()/T.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),D=u(I),R=D.j(T);b(R)||0<R.l(C);)I-=N,D=u(I),R=D.j(T);v(D)&&(D=h),M=M.add(D),C=w(C,R)}return new E(M,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)&C.i(N);return new s(I,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)|C.i(N);return new s(I,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)^C.i(N);return new s(I,this.h^C.h)};function S(C){for(var T=C.g.length+1,I=[],N=0;N<T;N++)I[N]=C.i(N)<<1|C.i(N-1)>>>31;return new s(I,C.h)}function k(C,T){var I=T>>5;T%=32;for(var N=C.g.length-I,M=[],D=0;D<N;D++)M[D]=0<T?C.i(D+I)>>>T|C.i(D+I+1)<<32-T:C.i(D+I);return new s(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aj=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,js=s}).apply(typeof sI<"u"?sI:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lj,wc,uj,gp,Wx,cj,dj,fj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,O){return m==Array.prototype||m==Object.prototype||(m[A]=O.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var A=0;A<m.length;++A){var O=m[A];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(m,A){if(A)e:{var O=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var K=m[L];if(!(K in O))break e;O=O[K]}m=m[m.length-1],L=O[m],A=A(L),A!=L&&A!=null&&e(O,m,{configurable:!0,writable:!0,value:A})}}function o(m,A){m instanceof String&&(m+="");var O=0,L=!1,K={next:function(){if(!L&&O<m.length){var Z=O++;return{value:A(Z,m[Z]),done:!1}}return L=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(m){return m||function(){return o(this,function(A,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function u(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function c(m,A,O){return m.call.apply(m.bind,arguments)}function d(m,A,O){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,L),m.apply(A,K)}}return function(){return m.apply(A,arguments)}}function h(m,A,O){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function y(m,A){var O=Array.prototype.slice.call(arguments,1);return function(){var L=O.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function v(m,A){function O(){}O.prototype=A.prototype,m.aa=A.prototype,m.prototype=new O,m.prototype.constructor=m,m.Qb=function(L,K,Z){for(var ue=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ue[Ze-2]=arguments[Ze];return A.prototype[K].apply(L,ue)}}function b(m){const A=m.length;if(0<A){const O=Array(A);for(let L=0;L<A;L++)O[L]=m[L];return O}return[]}function x(m,A){for(let O=1;O<arguments.length;O++){const L=arguments[O];if(l(L)){const K=m.length||0,Z=L.length||0;m.length=K+Z;for(let ue=0;ue<Z;ue++)m[K+ue]=L[ue]}else m.push(L)}}class w{constructor(A,O){this.i=A,this.j=O,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function _(m){return/^[\s\xa0]*$/.test(m)}function E(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function P(m){return P[" "](m),m}P[" "]=function(){};var S=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function k(m,A,O){for(const L in m)A.call(O,m[L],L,m)}function C(m,A){for(const O in m)A.call(void 0,m[O],O,m)}function T(m){const A={};for(const O in m)A[O]=m[O];return A}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(m,A){let O,L;for(let K=1;K<arguments.length;K++){L=arguments[K];for(O in L)m[O]=L[O];for(let Z=0;Z<I.length;Z++)O=I[Z],Object.prototype.hasOwnProperty.call(L,O)&&(m[O]=L[O])}}function M(m){var A=1;m=m.split(":");const O=[];for(;0<A&&m.length;)O.push(m.shift()),A--;return m.length&&O.push(m.join(":")),O}function D(m){a.setTimeout(()=>{throw m},0)}function R(){var m=G;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class j{constructor(){this.h=this.g=null}add(A,O){const L=F.get();L.set(A,O),this.h?this.h.next=L:this.g=L,this.h=L}}var F=new w(()=>new V,m=>m.reset());class V{constructor(){this.next=this.g=this.h=null}set(A,O){this.h=A,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let z,$=!1,G=new j,q=()=>{const m=a.Promise.resolve(void 0);z=()=>{m.then(Y)}};var Y=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(O){D(O)}var A=F;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}$=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};a.addEventListener("test",O,A),a.removeEventListener("test",O,A)}catch{}return m}();function W(m,A){if(ne.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var O=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(S){e:{try{P(A.nodeName);var K=!0;break e}catch{}K=!1}K||(A=null)}}else O=="mouseover"?A=m.fromElement:O=="mouseout"&&(A=m.toElement);this.relatedTarget=A,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:le[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&W.aa.h.call(this)}}v(W,ne);var le={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function ae(m,A,O,L,K){this.listener=m,this.proxy=null,this.src=A,this.type=O,this.capture=!!L,this.ha=K,this.key=++Ne,this.da=this.fa=!1}function J(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Q(m){this.src=m,this.g={},this.h=0}Q.prototype.add=function(m,A,O,L,K){var Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);var ue=ve(m,A,L,K);return-1<ue?(A=m[ue],O||(A.fa=!1)):(A=new ae(A,this.src,Z,!!L,K),A.fa=O,m.push(A)),A};function X(m,A){var O=A.type;if(O in m.g){var L=m.g[O],K=Array.prototype.indexOf.call(L,A,void 0),Z;(Z=0<=K)&&Array.prototype.splice.call(L,K,1),Z&&(J(A),m.g[O].length==0&&(delete m.g[O],m.h--))}}function ve(m,A,O,L){for(var K=0;K<m.length;++K){var Z=m[K];if(!Z.da&&Z.listener==A&&Z.capture==!!O&&Z.ha==L)return K}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Ce={};function Ve(m,A,O,L,K){if(Array.isArray(A)){for(var Z=0;Z<A.length;Z++)Ve(m,A[Z],O,L,K);return null}return O=Du(O),m&&m[ce]?m.K(A,O,u(L)?!!L.capture:!1,K):vt(m,A,O,!1,L,K)}function vt(m,A,O,L,K,Z){if(!A)throw Error("Invalid event type");var ue=u(K)?!!K.capture:!!K,Ze=ss(m);if(Ze||(m[_e]=Ze=new Q(m)),O=Ze.add(A,O,L,ue,Z),O.proxy)return O;if(L=Vr(),O.proxy=L,L.src=m,L.listener=O,m.addEventListener)he||(K=ue),K===void 0&&(K=!1),m.addEventListener(A.toString(),L,K);else if(m.attachEvent)m.attachEvent(Fr(A.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Vr(){function m(O){return A.call(m.src,m.listener,O)}const A=li;return m}function ai(m,A,O,L,K){if(Array.isArray(A))for(var Z=0;Z<A.length;Z++)ai(m,A[Z],O,L,K);else L=u(L)?!!L.capture:!!L,O=Du(O),m&&m[ce]?(m=m.i,A=String(A).toString(),A in m.g&&(Z=m.g[A],O=ve(Z,O,L,K),-1<O&&(J(Z[O]),Array.prototype.splice.call(Z,O,1),Z.length==0&&(delete m.g[A],m.h--)))):m&&(m=ss(m))&&(A=m.g[A.toString()],m=-1,A&&(m=ve(A,O,L,K)),(O=-1<m?A[m]:null)&&to(O))}function to(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[ce])X(A.i,m);else{var O=m.type,L=m.proxy;A.removeEventListener?A.removeEventListener(O,L,m.capture):A.detachEvent?A.detachEvent(Fr(O),L):A.addListener&&A.removeListener&&A.removeListener(L),(O=ss(A))?(X(O,m),O.h==0&&(O.src=null,A[_e]=null)):J(m)}}}function Fr(m){return m in Ce?Ce[m]:Ce[m]="on"+m}function li(m,A){if(m.da)m=!0;else{A=new W(A,this);var O=m.listener,L=m.ha||m.src;m.fa&&to(m),m=O.call(L,A)}return m}function ss(m){return m=m[_e],m instanceof Q?m:null}var ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(m){return typeof m=="function"?m:(m[ya]||(m[ya]=function(A){return m.handleEvent(A)}),m[ya])}function nn(){H.call(this),this.i=new Q(this),this.M=this,this.F=null}v(nn,H),nn.prototype[ce]=!0,nn.prototype.removeEventListener=function(m,A,O,L){ai(this,m,A,O,L)};function gn(m,A){var O,L=m.F;if(L)for(O=[];L;L=L.F)O.push(L);if(m=m.M,L=A.type||A,typeof A=="string")A=new ne(A,m);else if(A instanceof ne)A.target=A.target||m;else{var K=A;A=new ne(L,m),N(A,K)}if(K=!0,O)for(var Z=O.length-1;0<=Z;Z--){var ue=A.g=O[Z];K=Wf(ue,L,!0,A)&&K}if(ue=A.g=m,K=Wf(ue,L,!0,A)&&K,K=Wf(ue,L,!1,A)&&K,O)for(Z=0;Z<O.length;Z++)ue=A.g=O[Z],K=Wf(ue,L,!1,A)&&K}nn.prototype.N=function(){if(nn.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var O=m.g[A],L=0;L<O.length;L++)J(O[L]);delete m.g[A],m.h--}}this.F=null},nn.prototype.K=function(m,A,O,L){return this.i.add(String(m),A,!1,O,L)},nn.prototype.L=function(m,A,O,L){return this.i.add(String(m),A,!0,O,L)};function Wf(m,A,O,L){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var K=!0,Z=0;Z<A.length;++Z){var ue=A[Z];if(ue&&!ue.da&&ue.capture==O){var Ze=ue.listener,Ht=ue.ha||ue.src;ue.fa&&X(m.i,ue),K=Ze.call(Ht,L)!==!1&&K}}return K&&!L.defaultPrevented}function bS(m,A,O){if(typeof m=="function")O&&(m=h(m,O));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(m,A||0)}function _S(m){m.g=bS(()=>{m.g=null,m.i&&(m.i=!1,_S(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class _3 extends H{constructor(A,O){super(),this.m=A,this.l=O,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:_S(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ju(m){H.call(this),this.h=m,this.g={}}v(ju,H);var wS=[];function ES(m){k(m.g,function(A,O){this.g.hasOwnProperty(O)&&to(A)},m),m.g={}}ju.prototype.N=function(){ju.aa.N.call(this),ES(this)},ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ov=a.JSON.stringify,w3=a.JSON.parse,E3=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function sv(){}sv.prototype.h=null;function TS(m){return m.h||(m.h=m.i())}function SS(){}var Lu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function av(){ne.call(this,"d")}v(av,ne);function lv(){ne.call(this,"c")}v(lv,ne);var as={},AS=null;function Kf(){return AS=AS||new nn}as.La="serverreachability";function IS(m){ne.call(this,as.La,m)}v(IS,ne);function $u(m){const A=Kf();gn(A,new IS(A))}as.STAT_EVENT="statevent";function CS(m,A){ne.call(this,as.STAT_EVENT,m),this.stat=A}v(CS,ne);function yn(m){const A=Kf();gn(A,new CS(A,m))}as.Ma="timingevent";function kS(m,A){ne.call(this,as.Ma,m),this.size=A}v(kS,ne);function Vu(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},A)}function Fu(){this.g=!0}Fu.prototype.xa=function(){this.g=!1};function T3(m,A,O,L,K,Z){m.info(function(){if(m.g)if(Z)for(var ue="",Ze=Z.split("&"),Ht=0;Ht<Ze.length;Ht++){var Be=Ze[Ht].split("=");if(1<Be.length){var rn=Be[0];Be=Be[1];var on=rn.split("_");ue=2<=on.length&&on[1]=="type"?ue+(rn+"="+Be+"&"):ue+(rn+"=redacted&")}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+L+") [attempt "+K+"]: "+A+`
`+O+`
`+ue})}function S3(m,A,O,L,K,Z,ue){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+K+"]: "+A+`
`+O+`
`+Z+" "+ue})}function va(m,A,O,L){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+I3(m,O)+(L?" "+L:"")})}function A3(m,A){m.info(function(){return"TIMEOUT: "+A})}Fu.prototype.info=function(){};function I3(m,A){if(!m.g)return A;if(!A)return null;try{var O=JSON.parse(A);if(O){for(m=0;m<O.length;m++)if(Array.isArray(O[m])){var L=O[m];if(!(2>L.length)){var K=L[1];if(Array.isArray(K)&&!(1>K.length)){var Z=K[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ue=1;ue<K.length;ue++)K[ue]=""}}}}return ov(O)}catch{return A}}var Yf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},PS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uv;function Jf(){}v(Jf,sv),Jf.prototype.g=function(){return new XMLHttpRequest},Jf.prototype.i=function(){return{}},uv=new Jf;function no(m,A,O,L){this.j=m,this.i=A,this.l=O,this.R=L||1,this.U=new ju(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new NS}function NS(){this.i=null,this.g="",this.h=!1}var RS={},cv={};function dv(m,A,O){m.L=1,m.v=eh(ui(A)),m.m=O,m.P=!0,OS(m,null)}function OS(m,A){m.F=Date.now(),Xf(m),m.A=ui(m.v);var O=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),WS(O.i,"t",L),m.C=0,O=m.j.J,m.h=new NS,m.g=d1(m.j,O?A:null,!m.m),0<m.O&&(m.M=new _3(h(m.Y,m,m.g),m.O)),A=m.U,O=m.g,L=m.ca;var K="readystatechange";Array.isArray(K)||(K&&(wS[0]=K.toString()),K=wS);for(var Z=0;Z<K.length;Z++){var ue=Ve(O,K[Z],L||A.handleEvent,!1,A.h||A);if(!ue)break;A.g[ue.key]=ue}A=m.H?T(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),$u(),T3(m.i,m.u,m.A,m.l,m.R,m.m)}no.prototype.ca=function(m){m=m.target;const A=this.M;A&&ci(m)==3?A.j():this.Y(m)},no.prototype.Y=function(m){try{if(m==this.g)e:{const on=ci(this.g);var A=this.g.Ba();const _a=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||e1(this.g)))){this.J||on!=4||A==7||(A==8||0>=_a?$u(3):$u(2)),fv(this);var O=this.g.Z();this.X=O;t:if(MS(this)){var L=e1(this.g);m="";var K=L.length,Z=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),Uu(this);var ue="";break t}this.h.i=new a.TextDecoder}for(A=0;A<K;A++)this.h.h=!0,m+=this.h.i.decode(L[A],{stream:!(Z&&A==K-1)});L.length=0,this.h.g+=m,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=O==200,S3(this.i,this.u,this.A,this.l,this.R,on,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Ht=this.g;if((Ze=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ze)){var Be=Ze;break t}}Be=null}if(O=Be)va(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hv(this,O);else{this.o=!1,this.s=3,yn(12),ls(this),Uu(this);break e}}if(this.P){O=!0;let yr;for(;!this.J&&this.C<ue.length;)if(yr=C3(this,ue),yr==cv){on==4&&(this.s=4,yn(14),O=!1),va(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==RS){this.s=4,yn(15),va(this.i,this.l,ue,"[Invalid Chunk]"),O=!1;break}else va(this.i,this.l,yr,null),hv(this,yr);if(MS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ue.length!=0||this.h.h||(this.s=1,yn(16),O=!1),this.o=this.o&&O,!O)va(this.i,this.l,ue,"[Invalid Chunked Response]"),ls(this),Uu(this);else if(0<ue.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),xv(rn),rn.M=!0,yn(11))}}else va(this.i,this.l,ue,null),hv(this,ue);on==4&&ls(this),this.o&&!this.J&&(on==4?a1(this.j,this):(this.o=!1,Xf(this)))}else q3(this.g),O==400&&0<ue.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),ls(this),Uu(this)}}}catch{}finally{}};function MS(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function C3(m,A){var O=m.C,L=A.indexOf(`
`,O);return L==-1?cv:(O=Number(A.substring(O,L)),isNaN(O)?RS:(L+=1,L+O>A.length?cv:(A=A.slice(L,L+O),m.C=L+O,A)))}no.prototype.cancel=function(){this.J=!0,ls(this)};function Xf(m){m.S=Date.now()+m.I,DS(m,m.I)}function DS(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Vu(h(m.ba,m),A)}function fv(m){m.B&&(a.clearTimeout(m.B),m.B=null)}no.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(A3(this.i,this.A),this.L!=2&&($u(),yn(17)),ls(this),this.s=2,Uu(this)):DS(this,this.S-m)};function Uu(m){m.j.G==0||m.J||a1(m.j,m)}function ls(m){fv(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,ES(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function hv(m,A){try{var O=m.j;if(O.G!=0&&(O.g==m||pv(O.h,m))){if(!m.K&&pv(O.h,m)&&O.G==3){try{var L=O.Da.g.parse(A)}catch{L=null}if(Array.isArray(L)&&L.length==3){var K=L;if(K[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<m.F)sh(O),ih(O);else break e;vv(O),yn(18)}}else O.za=K[1],0<O.za-O.T&&37500>K[2]&&O.F&&O.v==0&&!O.C&&(O.C=Vu(h(O.Za,O),6e3));if(1>=$S(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else cs(O,11)}else if((m.K||O.g==m)&&sh(O),!_(A))for(K=O.Da.g.parse(A),A=0;A<K.length;A++){let Be=K[A];if(O.T=Be[0],Be=Be[1],O.G==2)if(Be[0]=="c"){O.K=Be[1],O.ia=Be[2];const rn=Be[3];rn!=null&&(O.la=rn,O.j.info("VER="+O.la));const on=Be[4];on!=null&&(O.Aa=on,O.j.info("SVER="+O.Aa));const _a=Be[5];_a!=null&&typeof _a=="number"&&0<_a&&(L=1.5*_a,O.L=L,O.j.info("backChannelRequestTimeoutMs_="+L)),L=O;const yr=m.g;if(yr){const lh=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lh){var Z=L.h;Z.g||lh.indexOf("spdy")==-1&&lh.indexOf("quic")==-1&&lh.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(mv(Z,Z.h),Z.h=null))}if(L.D){const bv=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;bv&&(L.ya=bv,ot(L.I,L.D,bv))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-m.F,O.j.info("Handshake RTT: "+O.R+"ms")),L=O;var ue=m;if(L.qa=c1(L,L.J?L.ia:null,L.W),ue.K){VS(L.h,ue);var Ze=ue,Ht=L.L;Ht&&(Ze.I=Ht),Ze.B&&(fv(Ze),Xf(Ze)),L.g=ue}else o1(L);0<O.i.length&&oh(O)}else Be[0]!="stop"&&Be[0]!="close"||cs(O,7);else O.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?cs(O,7):yv(O):Be[0]!="noop"&&O.l&&O.l.ta(Be),O.v=0)}}$u(4)}catch{}}var k3=class{constructor(m,A){this.g=m,this.map=A}};function jS(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function $S(m){return m.h?1:m.g?m.g.size:0}function pv(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function mv(m,A){m.g?m.g.add(A):m.h=A}function VS(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}jS.prototype.cancel=function(){if(this.i=FS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function FS(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const O of m.g.values())A=A.concat(O.D);return A}return b(m.i)}function P3(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var A=[],O=m.length,L=0;L<O;L++)A.push(m[L]);return A}A=[],O=0;for(L in m)A[O++]=m[L];return A}function N3(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var A=[];m=m.length;for(var O=0;O<m;O++)A.push(O);return A}A=[],O=0;for(const L in m)A[O++]=L;return A}}}function US(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var O=N3(m),L=P3(m),K=L.length,Z=0;Z<K;Z++)A.call(void 0,L[Z],O&&O[Z],m)}var BS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R3(m,A){if(m){m=m.split("&");for(var O=0;O<m.length;O++){var L=m[O].indexOf("="),K=null;if(0<=L){var Z=m[O].substring(0,L);K=m[O].substring(L+1)}else Z=m[O];A(Z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function us(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof us){this.h=m.h,Qf(this,m.j),this.o=m.o,this.g=m.g,Zf(this,m.s),this.l=m.l;var A=m.i,O=new zu;O.i=A.i,A.g&&(O.g=new Map(A.g),O.h=A.h),GS(this,O),this.m=m.m}else m&&(A=String(m).match(BS))?(this.h=!1,Qf(this,A[1]||"",!0),this.o=Bu(A[2]||""),this.g=Bu(A[3]||"",!0),Zf(this,A[4]),this.l=Bu(A[5]||"",!0),GS(this,A[6]||"",!0),this.m=Bu(A[7]||"")):(this.h=!1,this.i=new zu(null,this.h))}us.prototype.toString=function(){var m=[],A=this.j;A&&m.push(Gu(A,zS,!0),":");var O=this.g;return(O||A=="file")&&(m.push("//"),(A=this.o)&&m.push(Gu(A,zS,!0),"@"),m.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&m.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(Gu(O,O.charAt(0)=="/"?D3:M3,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",Gu(O,L3)),m.join("")};function ui(m){return new us(m)}function Qf(m,A,O){m.j=O?Bu(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function Zf(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function GS(m,A,O){A instanceof zu?(m.i=A,$3(m.i,m.h)):(O||(A=Gu(A,j3)),m.i=new zu(A,m.h))}function ot(m,A,O){m.i.set(A,O)}function eh(m){return ot(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Bu(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Gu(m,A,O){return typeof m=="string"?(m=encodeURI(m).replace(A,O3),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function O3(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var zS=/[#\/\?@]/g,M3=/[#\?:]/g,D3=/[#\?]/g,j3=/[#\?@]/g,L3=/#/g;function zu(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function ro(m){m.g||(m.g=new Map,m.h=0,m.i&&R3(m.i,function(A,O){m.add(decodeURIComponent(A.replace(/\+/g," ")),O)}))}t=zu.prototype,t.add=function(m,A){ro(this),this.i=null,m=xa(this,m);var O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(A),this.h+=1,this};function qS(m,A){ro(m),A=xa(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function HS(m,A){return ro(m),A=xa(m,A),m.g.has(A)}t.forEach=function(m,A){ro(this),this.g.forEach(function(O,L){O.forEach(function(K){m.call(A,K,L,this)},this)},this)},t.na=function(){ro(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),O=[];for(let L=0;L<A.length;L++){const K=m[L];for(let Z=0;Z<K.length;Z++)O.push(A[L])}return O},t.V=function(m){ro(this);let A=[];if(typeof m=="string")HS(this,m)&&(A=A.concat(this.g.get(xa(this,m))));else{m=Array.from(this.g.values());for(let O=0;O<m.length;O++)A=A.concat(m[O])}return A},t.set=function(m,A){return ro(this),this.i=null,m=xa(this,m),HS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function WS(m,A,O){qS(m,A),0<O.length&&(m.i=null,m.g.set(xa(m,A),b(O)),m.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var O=0;O<A.length;O++){var L=A[O];const Z=encodeURIComponent(String(L)),ue=this.V(L);for(L=0;L<ue.length;L++){var K=Z;ue[L]!==""&&(K+="="+encodeURIComponent(String(ue[L]))),m.push(K)}}return this.i=m.join("&")};function xa(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function $3(m,A){A&&!m.j&&(ro(m),m.i=null,m.g.forEach(function(O,L){var K=L.toLowerCase();L!=K&&(qS(this,L),WS(this,K,O))},m)),m.j=A}function V3(m,A){const O=new Fu;if(a.Image){const L=new Image;L.onload=y(io,O,"TestLoadImage: loaded",!0,A,L),L.onerror=y(io,O,"TestLoadImage: error",!1,A,L),L.onabort=y(io,O,"TestLoadImage: abort",!1,A,L),L.ontimeout=y(io,O,"TestLoadImage: timeout",!1,A,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else A(!1)}function F3(m,A){const O=new Fu,L=new AbortController,K=setTimeout(()=>{L.abort(),io(O,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:L.signal}).then(Z=>{clearTimeout(K),Z.ok?io(O,"TestPingServer: ok",!0,A):io(O,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(K),io(O,"TestPingServer: error",!1,A)})}function io(m,A,O,L,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),L(O)}catch{}}function U3(){this.g=new E3}function B3(m,A,O){const L=O||"";try{US(m,function(K,Z){let ue=K;u(K)&&(ue=ov(K)),A.push(L+Z+"="+encodeURIComponent(ue))})}catch(K){throw A.push(L+"type="+encodeURIComponent("_badmap")),K}}function th(m){this.l=m.Ub||null,this.j=m.eb||!1}v(th,sv),th.prototype.g=function(){return new nh(this.l,this.j)},th.prototype.i=function(m){return function(){return m}}({});function nh(m,A){nn.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(nh,nn),t=nh.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,Hu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qu(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Hu(this)),this.g&&(this.readyState=3,Hu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KS(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function KS(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?qu(this):Hu(this),this.readyState==3&&KS(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,qu(this))},t.Qa=function(m){this.g&&(this.response=m,qu(this))},t.ga=function(){this.g&&qu(this)};function qu(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Hu(m)}t.setRequestHeader=function(m,A){this.u.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var O=A.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=A.next();return m.join(`\r
`)};function Hu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(nh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function YS(m){let A="";return k(m,function(O,L){A+=L,A+=":",A+=O,A+=`\r
`}),A}function gv(m,A,O){e:{for(L in O){var L=!1;break e}L=!0}L||(O=YS(O),typeof m=="string"?O!=null&&encodeURIComponent(String(O)):ot(m,A,O))}function xt(m){nn.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(xt,nn);var G3=/^https?$/i,z3=["POST","PUT"];t=xt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,A,O,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uv.g(),this.v=this.o?TS(this.o):TS(uv),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(Z){JS(this,Z);return}if(m=O||"",O=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var K in L)O.set(K,L[K]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Z of L.keys())O.set(Z,L.get(Z));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(O.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(z3,A,void 0))||L||K||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of O)this.g.setRequestHeader(Z,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ZS(this),this.u=!0,this.g.send(m),this.u=!1}catch(Z){JS(this,Z)}};function JS(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,XS(m),rh(m)}function XS(m){m.A||(m.A=!0,gn(m,"complete"),gn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,gn(this,"complete"),gn(this,"abort"),rh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rh(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?QS(this):this.bb())},t.bb=function(){QS(this)};function QS(m){if(m.h&&typeof s<"u"&&(!m.v[1]||ci(m)!=4||m.Z()!=2)){if(m.u&&ci(m)==4)bS(m.Ea,0,m);else if(gn(m,"readystatechange"),ci(m)==4){m.h=!1;try{const ue=m.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var O;if(!(O=A)){var L;if(L=ue===0){var K=String(m.D).match(BS)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),L=!G3.test(K?K.toLowerCase():"")}O=L}if(O)gn(m,"complete"),gn(m,"success");else{m.m=6;try{var Z=2<ci(m)?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.Z()+"]",XS(m)}}finally{rh(m)}}}}function rh(m,A){if(m.g){ZS(m);const O=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||gn(m,"ready");try{O.onreadystatechange=L}catch{}}}function ZS(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ci(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),w3(A)}};function e1(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function q3(m){const A={};m=(m.g&&2<=ci(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(_(m[L]))continue;var O=M(m[L]);const K=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Z=A[K]||[];A[K]=Z,Z.push(O)}C(A,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wu(m,A,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||A}function t1(m){this.Aa=0,this.i=[],this.j=new Fu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wu("baseRetryDelayMs",5e3,m),this.cb=Wu("retryDelaySeedMs",1e4,m),this.Wa=Wu("forwardChannelMaxRetries",2,m),this.wa=Wu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new jS(m&&m.concurrentRequestLimit),this.Da=new U3,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=t1.prototype,t.la=8,t.G=1,t.connect=function(m,A,O,L){yn(0),this.W=m,this.H=A||{},O&&L!==void 0&&(this.H.OSID=O,this.H.OAID=L),this.F=this.X,this.I=c1(this,null,this.W),oh(this)};function yv(m){if(n1(m),m.G==3){var A=m.U++,O=ui(m.I);if(ot(O,"SID",m.K),ot(O,"RID",A),ot(O,"TYPE","terminate"),Ku(m,O),A=new no(m,m.j,A),A.L=2,A.v=eh(ui(O)),O=!1,a.navigator&&a.navigator.sendBeacon)try{O=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!O&&a.Image&&(new Image().src=A.v,O=!0),O||(A.g=d1(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Xf(A)}u1(m)}function ih(m){m.g&&(xv(m),m.g.cancel(),m.g=null)}function n1(m){ih(m),m.u&&(a.clearTimeout(m.u),m.u=null),sh(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function oh(m){if(!LS(m.h)&&!m.s){m.s=!0;var A=m.Ga;z||q(),$||(z(),$=!0),G.add(A,m),m.B=0}}function H3(m,A){return $S(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Vu(h(m.Ga,m,A),l1(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const K=new no(this,this.j,m);let Z=this.o;if(this.S&&(Z?(Z=T(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||(K.H=Z,Z=null),this.P)e:{for(var A=0,O=0;O<this.i.length;O++){t:{var L=this.i[O];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(A+=L,4096<A){A=O;break e}if(A===4096||O===this.i.length-1){A=O+1;break e}}A=1e3}else A=1e3;A=i1(this,K,A),O=ui(this.I),ot(O,"RID",m),ot(O,"CVER",22),this.D&&ot(O,"X-HTTP-Session-Id",this.D),Ku(this,O),Z&&(this.O?A="headers="+encodeURIComponent(String(YS(Z)))+"&"+A:this.m&&gv(O,this.m,Z)),mv(this.h,K),this.Ua&&ot(O,"TYPE","init"),this.P?(ot(O,"$req",A),ot(O,"SID","null"),K.T=!0,dv(K,O,null)):dv(K,O,A),this.G=2}}else this.G==3&&(m?r1(this,m):this.i.length==0||LS(this.h)||r1(this))};function r1(m,A){var O;A?O=A.l:O=m.U++;const L=ui(m.I);ot(L,"SID",m.K),ot(L,"RID",O),ot(L,"AID",m.T),Ku(m,L),m.m&&m.o&&gv(L,m.m,m.o),O=new no(m,m.j,O,m.B+1),m.m===null&&(O.H=m.o),A&&(m.i=A.D.concat(m.i)),A=i1(m,O,1e3),O.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),mv(m.h,O),dv(O,L,A)}function Ku(m,A){m.H&&k(m.H,function(O,L){ot(A,L,O)}),m.l&&US({},function(O,L){ot(A,L,O)})}function i1(m,A,O){O=Math.min(m.i.length,O);var L=m.l?h(m.l.Na,m.l,m):null;e:{var K=m.i;let Z=-1;for(;;){const ue=["count="+O];Z==-1?0<O?(Z=K[0].g,ue.push("ofs="+Z)):Z=0:ue.push("ofs="+Z);let Ze=!0;for(let Ht=0;Ht<O;Ht++){let Be=K[Ht].g;const rn=K[Ht].map;if(Be-=Z,0>Be)Z=Math.max(0,K[Ht].g-100),Ze=!1;else try{B3(rn,ue,"req"+Be+"_")}catch{L&&L(rn)}}if(Ze){L=ue.join("&");break e}}}return m=m.i.splice(0,O),A.D=m,L}function o1(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;z||q(),$||(z(),$=!0),G.add(A,m),m.v=0}}function vv(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Vu(h(m.Fa,m),l1(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,s1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Vu(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),ih(this),s1(this))};function xv(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function s1(m){m.g=new no(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=ui(m.qa);ot(A,"RID","rpc"),ot(A,"SID",m.K),ot(A,"AID",m.T),ot(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&ot(A,"TO",m.ja),ot(A,"TYPE","xmlhttp"),Ku(m,A),m.m&&m.o&&gv(A,m.m,m.o),m.L&&(m.g.I=m.L);var O=m.g;m=m.ia,O.L=1,O.v=eh(ui(A)),O.m=null,O.P=!0,OS(O,m)}t.Za=function(){this.C!=null&&(this.C=null,ih(this),vv(this),yn(19))};function sh(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function a1(m,A){var O=null;if(m.g==A){sh(m),xv(m),m.g=null;var L=2}else if(pv(m.h,A))O=A.D,VS(m.h,A),L=1;else return;if(m.G!=0){if(A.o)if(L==1){O=A.m?A.m.length:0,A=Date.now()-A.F;var K=m.B;L=Kf(),gn(L,new kS(L,O)),oh(m)}else o1(m);else if(K=A.s,K==3||K==0&&0<A.X||!(L==1&&H3(m,A)||L==2&&vv(m)))switch(O&&0<O.length&&(A=m.h,A.i=A.i.concat(O)),K){case 1:cs(m,5);break;case 4:cs(m,10);break;case 3:cs(m,6);break;default:cs(m,2)}}}function l1(m,A){let O=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(O*=2),O*A}function cs(m,A){if(m.j.info("Error code "+A),A==2){var O=h(m.fb,m),L=m.Xa;const K=!L;L=new us(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qf(L,"https"),eh(L),K?V3(L.toString(),O):F3(L.toString(),O)}else yn(2);m.G=0,m.l&&m.l.sa(A),u1(m),n1(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function u1(m){if(m.G=0,m.ka=[],m.l){const A=FS(m.h);(A.length!=0||m.i.length!=0)&&(x(m.ka,A),x(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function c1(m,A,O){var L=O instanceof us?ui(O):new us(O);if(L.g!="")A&&(L.g=A+"."+L.g),Zf(L,L.s);else{var K=a.location;L=K.protocol,A=A?A+"."+K.hostname:K.hostname,K=+K.port;var Z=new us(null);L&&Qf(Z,L),A&&(Z.g=A),K&&Zf(Z,K),O&&(Z.l=O),L=Z}return O=m.D,A=m.ya,O&&A&&ot(L,O,A),ot(L,"VER",m.la),Ku(m,L),L}function d1(m,A,O){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new xt(new th({eb:O})):new xt(m.pa),A.Ha(m.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function f1(){}t=f1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ah(){}ah.prototype.g=function(m,A){return new Ln(m,A)};function Ln(m,A){nn.call(this),this.g=new t1(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!_(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!_(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new ba(this)}v(Ln,nn),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){yv(this.g)},Ln.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.u&&(O={},O.__data__=ov(m),m=O);A.i.push(new k3(A.Ya++,m)),A.G==3&&oh(A)},Ln.prototype.N=function(){this.g.l=null,delete this.j,yv(this.g),delete this.g,Ln.aa.N.call(this)};function h1(m){av.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const O in A){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}v(h1,av);function p1(){lv.call(this),this.status=1}v(p1,lv);function ba(m){this.g=m}v(ba,f1),ba.prototype.ua=function(){gn(this.g,"a")},ba.prototype.ta=function(m){gn(this.g,new h1(m))},ba.prototype.sa=function(m){gn(this.g,new p1)},ba.prototype.ra=function(){gn(this.g,"b")},ah.prototype.createWebChannel=ah.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,fj=function(){return new ah},dj=function(){return Kf()},cj=as,Wx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yf.NO_ERROR=0,Yf.TIMEOUT=8,Yf.HTTP_ERROR=6,gp=Yf,PS.COMPLETE="complete",uj=PS,SS.EventType=Lu,Lu.OPEN="a",Lu.CLOSE="b",Lu.ERROR="c",Lu.MESSAGE="d",nn.prototype.listen=nn.prototype.K,wc=SS,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,lj=xt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const aI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Xw("@firebase/firestore");function rc(){return Ys.logLevel}function ye(t,...e){if(Ys.logLevel<=Le.DEBUG){const n=e.map(dE);Ys.debug(`Firestore (${cu}): ${t}`,...n)}}function $i(t,...e){if(Ys.logLevel<=Le.ERROR){const n=e.map(dE);Ys.error(`Firestore (${cu}): ${t}`,...n)}}function bd(t,...e){if(Ys.logLevel<=Le.WARN){const n=e.map(dE);Ys.warn(`Firestore (${cu}): ${t}`,...n)}}function dE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+t;throw $i(e),new Error(e)}function Ue(t,e){t||Ee()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kn.UNAUTHENTICATED))}shutdown(){}}class uG{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ii,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ii)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new aG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new kn(e)}}class cG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ue(this.o===void 0);const r=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new fG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function El(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new jt(0,0))}static max(){return new Te(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _d.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _d?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class et extends _d{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new et(n)}static emptyPath(){return new et([])}}const mG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends _d{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return mG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(et.fromString(e))}static fromName(e){return new xe(et.fromString(e).popFirst(5))}static empty(){return new xe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new et(e.slice()))}}function gG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new Go(i,xe.empty(),e)}function yG(t){return new Go(t.readTime,t.key,-1)}class Go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Go(Te.min(),xe.empty(),-1)}static max(){return new Go(Te.max(),xe.empty(),-1)}}function vG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==xG)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new ie((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function _G(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fE.oe=-1;function Af(t){return t==null}function sm(t){return t===0&&1/t==-1/0}function wG(t){return typeof t=="number"&&Number.isInteger(t)&&!sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=o??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uI(this.data.getIterator())}getIteratorFrom(e){return new uI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class uI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Zt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mj("Invalid base64 string: "+o):o}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const EG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zo(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=EG.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pE(t){const e=t.mapValue.fields.__previous_value__;return hE(e)?pE(e):e}function wd(t){const e=zo(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ed{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh={mapValue:{}};function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hE(t)?4:AG(t)?9007199254740991:SG(t)?10:11:Ee()}function Zr(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wd(t).isEqual(wd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=zo(i.timestampValue),a=zo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Js(i.bytesValue).isEqual(Js(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Et(i.doubleValue),a=Et(o.doubleValue);return s===a?sm(s)===sm(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(lI(s)!==lI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Zr(s[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Td(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function Tl(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Et(o.integerValue||o.doubleValue),l=Et(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return cI(t.timestampValue,e.timestampValue);case 4:return cI(wd(t),wd(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Js(o),l=Js(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ge(a[u],l[u]);if(c!==0)return c}return Ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ge(Et(o.latitude),Et(s.latitude));return a!==0?a:Ge(Et(o.longitude),Et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dI(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},y=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=Ge(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:dI(y,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Nh.mapValue&&s===Nh.mapValue)return 0;if(o===Nh.mapValue)return 1;if(s===Nh.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ge(l[d],c[d]);if(h!==0)return h;const y=Tl(a[l[d]],u[c[d]]);if(y!==0)return y}return Ge(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function cI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=zo(t),r=zo(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function dI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Tl(n[i],r[i]);if(o)return o}return Ge(n.length,r.length)}function Sl(t){return Kx(t)}function Kx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Js(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Kx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Kx(n.fields[s])}`;return i+"}"}(t.mapValue):Ee()}function fI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yx(t){return!!t&&"integerValue"in t}function mE(t){return!!t&&"arrayValue"in t}function hI(t){return!!t&&"nullValue"in t}function pI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yp(t){return!!t&&"mapValue"in t}function SG(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Lc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());yp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){aa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new _n(Lc(this.value))}}function gj(t){const e=[];return aa(t.fields,(n,r)=>{const i=new Xt([n]);if(yp(r)){const o=gj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ut(e,0,Te.min(),Te.min(),Te.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new Ut(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new Ut(e,2,n,Te.min(),Te.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,Te.min(),Te.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.position=e,this.inclusive=n}}function mI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=xe.comparator(xe.fromName(s.referenceValue),n.key):r=Tl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function gI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function IG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{}class Ct extends yj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kG(e,n,r):n==="array-contains"?new RG(e,r):n==="in"?new OG(e,r):n==="not-in"?new MG(e,r):n==="array-contains-any"?new DG(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PG(e,r):new NG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Tl(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(Tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends yj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jr(e,n)}matches(e){return vj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vj(t){return t.op==="and"}function xj(t){return CG(t)&&vj(t)}function CG(t){for(const e of t.filters)if(e instanceof jr)return!1;return!0}function Jx(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Sl(t.value);if(xj(t))return t.filters.map(e=>Jx(e)).join(",");{const e=t.filters.map(n=>Jx(n)).join(",");return`${t.op}(${e})`}}function bj(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)}(t,e):t instanceof jr?function(r,i){return i instanceof jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bj(s,i.filters[a]),!0):!1}(t,e):void Ee()}function _j(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Sl(n.value)}`}(t):t instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(_j).join(" ,")+"}"}(t):"Filter"}class kG extends Ct{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class PG extends Ct{constructor(e,n){super(e,"in",n),this.keys=wj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NG extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=wj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class RG extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mE(n)&&Td(n.arrayValue,this.value)}}class OG extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Td(this.value.arrayValue,n)}}class MG extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Td(this.value.arrayValue,n)}}class DG extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Td(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function yI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new jG(t,e,n,r,i,o,s)}function gE(t){const e=ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sl(r)).join(",")),e.ue=n}return e.ue}function yE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gI(t.startAt,e.startAt)&&gI(t.endAt,e.endAt)}function Xx(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LG(t,e,n,r,i,o,s,a){return new du(t,e,n,r,i,o,s,a)}function vE(t){return new du(t)}function vI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ej(t){return t.collectionGroup!==null}function $c(t){const e=ke(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Xt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Sd(o,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new Sd(Xt.keyField(),r))}return e.ce}function Yr(t){const e=ke(t);return e.le||(e.le=$G(e,$c(t))),e.le}function $G(t,e){if(t.limitType==="F")return yI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Sd(i.field,o)});const n=t.endAt?new am(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new am(t.startAt.position,t.startAt.inclusive):null;return yI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qx(t,e){const n=t.filters.concat([e]);return new du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lm(t,e,n){return new du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xg(t,e){return yE(Yr(t),Yr(e))&&t.limitType===e.limitType}function Tj(t){return`${gE(Yr(t))}|lt:${t.limitType}`}function Ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_j(i)).join(", ")}]`),Af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sl(i)).join(",")),`Target(${r})`}(Yr(t))}; limitType=${t.limitType})`}function Qg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of $c(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=mI(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,$c(r),i)||r.endAt&&!function(s,a,l){const u=mI(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,$c(r),i))}(t,e)}function VG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Sj(t){return(e,n)=>{let r=!1;for(const i of $c(t)){const o=FG(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FG(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Tl(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return pj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=new yt(xe.comparator);function Vi(){return UG}const Aj=new yt(xe.comparator);function Ec(...t){let e=Aj;for(const n of t)e=e.insert(n.key,n);return e}function Ij(t){let e=Aj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Is(){return Vc()}function Cj(){return Vc()}function Vc(){return new fu(t=>t.toString(),(t,e)=>t.isEqual(e))}const BG=new yt(xe.comparator),GG=new Zt(xe.comparator);function je(...t){let e=GG;for(const n of t)e=e.add(n);return e}const zG=new Zt(Ge);function qG(){return zG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function kj(t){return{integerValue:""+t}}function HG(t,e){return wG(e)?kj(e):xE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this._=void 0}}function WG(t,e,n){return t instanceof um?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hE(o)&&(o=pE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ad?Nj(t,e):t instanceof Id?Rj(t,e):function(i,o){const s=Pj(i,o),a=xI(s)+xI(i.Pe);return Yx(s)&&Yx(i.Pe)?kj(a):xE(i.serializer,a)}(t,e)}function KG(t,e,n){return t instanceof Ad?Nj(t,e):t instanceof Id?Rj(t,e):n}function Pj(t,e){return t instanceof cm?function(r){return Yx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class um extends Zg{}class Ad extends Zg{constructor(e){super(),this.elements=e}}function Nj(t,e){const n=Oj(e);for(const r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Id extends Zg{constructor(e){super(),this.elements=e}}function Rj(t,e){let n=Oj(e);for(const r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}class cm extends Zg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xI(t){return Et(t.integerValue||t.doubleValue)}function Oj(t){return mE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ad&&i instanceof Ad||r instanceof Id&&i instanceof Id?El(r.elements,i.elements,Zr):r instanceof cm&&i instanceof cm?Zr(r.Pe,i.Pe):r instanceof um&&i instanceof um}(t.transform,e.transform)}class JG{constructor(e,n){this.version=e,this.transformResults=n}}class Ot{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ot}static exists(e){return new Ot(void 0,e)}static updateTime(e){return new Ot(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ey{}function Mj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cf(t.key,Ot.none()):new If(t.key,t.data,Ot.none());{const n=t.data,r=_n.empty();let i=new Zt(Xt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zo(t.key,r,new zn(i.toArray()),Ot.none())}}function XG(t,e,n){t instanceof If?function(i,o,s){const a=i.value.clone(),l=_I(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zo?function(i,o,s){if(!vp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=_I(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Dj(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fc(t,e,n,r){return t instanceof If?function(o,s,a,l){if(!vp(o.precondition,s))return a;const u=o.value.clone(),c=wI(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zo?function(o,s,a,l){if(!vp(o.precondition,s))return a;const u=wI(o.fieldTransforms,l,s),c=s.data;return c.setAll(Dj(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return vp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function QG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Pj(r.transform,i||null);o!=null&&(n===null&&(n=_n.empty()),n.set(r.field,o))}return n||null}function bI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&El(r,i,(o,s)=>YG(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class If extends ey{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zo extends ey{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Dj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _I(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,KG(s,a,n[i]))}return r}function wI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,WG(o,s,e))}return r}class Cf extends ey{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jj extends ey{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&XG(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Cj();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Mj(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,r)=>bI(n,r))&&El(this.baseMutations,e.baseMutations,(n,r)=>bI(n,r))}}class bE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return BG}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new bE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,$e;function Lj(t){switch(t){default:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function $j(t){if(t===void 0)return $i("GRPC error has no .code"),te.UNKNOWN;switch(t){case St.OK:return te.OK;case St.CANCELLED:return te.CANCELLED;case St.UNKNOWN:return te.UNKNOWN;case St.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case St.INTERNAL:return te.INTERNAL;case St.UNAVAILABLE:return te.UNAVAILABLE;case St.UNAUTHENTICATED:return te.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case St.NOT_FOUND:return te.NOT_FOUND;case St.ALREADY_EXISTS:return te.ALREADY_EXISTS;case St.PERMISSION_DENIED:return te.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case St.ABORTED:return te.ABORTED;case St.OUT_OF_RANGE:return te.OUT_OF_RANGE;case St.UNIMPLEMENTED:return te.UNIMPLEMENTED;case St.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}($e=St||(St={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=new js([4294967295,4294967295],0);function EI(t){const e=nz().encode(t),n=new aj;return n.update(e),new Uint8Array(n.digest())}function TI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new js([n,r],0),new js([i,o],0)]}class _E{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tc(`Invalid padding: ${n}`);if(r<0)throw new Tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=js.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(js.fromNumber(r)));return i.compare(rz)===1&&(i=new js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=EI(e),[r,i]=TI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new _E(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=EI(e),[r,i]=TI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ty(Te.min(),i,new yt(Ge),Vi(),je())}}class kf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kf(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Vj{constructor(e,n){this.targetId=e,this.me=n}}class Fj{constructor(e,n,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class SI{constructor(){this.fe=0,this.ge=II(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),n=je(),r=je();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new kf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=II()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iz{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vi(),this.qe=AI(),this.Qe=new yt(Ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Xx(o))if(r===0){const s=new xe(o.path);this.Ue(n,s,Ut.newNoDocument(s,Te.min()))}else Ue(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Js(r).toUint8Array()}catch(l){if(l instanceof mj)return bd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _E(s,i,o)}catch(l){return bd(l instanceof Tc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Xx(a.target)){const l=new xe(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Ut.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=je();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ty(e,n,this.Qe,this.ke,r);return this.ke=Vi(),this.qe=AI(),this.Qe=new yt(Ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new SI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt(Ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new SI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function AI(){return new yt(xe.comparator)}function II(){return new yt(xe.comparator)}const oz={asc:"ASCENDING",desc:"DESCENDING"},sz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},az={and:"AND",or:"OR"};class lz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zx(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function dm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uz(t,e){return dm(t,e.toTimestamp())}function Hn(t){return Ue(!!t),Te.fromTimestamp(function(n){const r=zo(n);return new jt(r.seconds,r.nanos)}(t))}function wE(t,e){return eb(t,e).canonicalString()}function eb(t,e){const n=function(i){return new et(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Bj(t){const e=et.fromString(t);return Ue(Kj(e)),e}function fm(t,e){return wE(t.databaseId,e.path)}function Uc(t,e){const n=Bj(e);if(n.get(1)!==t.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(zj(n))}function Gj(t,e){return wE(t.databaseId,e)}function cz(t){const e=Bj(t);return e.length===4?et.emptyPath():zj(e)}function tb(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zj(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CI(t,e,n){return{name:fm(t,e),fields:n.value.mapValue.fields}}function dz(t,e){return"found"in e?function(r,i){Ue(!!i.found),i.found.name,i.found.updateTime;const o=Uc(r,i.found.name),s=Hn(i.found.updateTime),a=i.found.createTime?Hn(i.found.createTime):Te.min(),l=new _n({mapValue:{fields:i.found.fields}});return Ut.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){Ue(!!i.missing),Ue(!!i.readTime);const o=Uc(r,i.missing),s=Hn(i.readTime);return Ut.newNoDocument(o,s)}(t,e):Ee()}function fz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ue(c===void 0||typeof c=="string"),tn.fromBase64String(c||"")):(Ue(c===void 0||c instanceof Buffer||c instanceof Uint8Array),tn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?te.UNKNOWN:$j(u.code);return new de(c,u.message||"")}(s);n=new Fj(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uc(t,r.document.name),o=Hn(r.document.updateTime),s=r.document.createTime?Hn(r.document.createTime):Te.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Ut.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new xp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uc(t,r.document),o=r.readTime?Hn(r.readTime):Te.min(),s=Ut.newNoDocument(i,o),a=r.removedTargetIds||[];n=new xp([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uc(t,r.document),o=r.removedTargetIds||[];n=new xp([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new tz(i,o),a=r.targetId;n=new Vj(a,s)}}return n}function qj(t,e){let n;if(e instanceof If)n={update:CI(t,e.key,e.value)};else if(e instanceof Cf)n={delete:fm(t,e.key)};else if(e instanceof Zo)n={update:CI(t,e.key,e.data),updateMask:_z(e.fieldMask)};else{if(!(e instanceof jj))return Ee();n={verify:fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof um)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ad)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Id)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cm)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(t,e.precondition)),n}function hz(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Hn(i.updateTime):Hn(o);return s.isEqual(Te.min())&&(s=Hn(o)),new JG(s,i.transformResults||[])}(n,e))):[]}function pz(t,e){return{documents:[Gj(t,e.path)]}}function mz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Gj(t,i);const o=function(u){if(u.length!==0)return Wj(jr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:ka(h.field),direction:vz(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Zx(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function gz(t){let e=cz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=Hj(d);return h instanceof jr&&xj(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(v){return new Sd(Pa(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Af(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,y=d.values||[];return new am(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,y=d.values||[];return new am(y,h)}(n.endAt)),LG(e,i,s,o,a,"F",l,u)}function yz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pa(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pa(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pa(n.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Pa(n.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(Pa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>Hj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function vz(t){return oz[t]}function xz(t){return sz[t]}function bz(t){return az[t]}function ka(t){return{fieldPath:t.canonicalString()}}function Pa(t){return Xt.fromServerFormat(t.fieldPath)}function Wj(t){return t instanceof Ct?function(n){if(n.op==="=="){if(pI(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(hI(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pI(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(hI(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:xz(n.op),value:n.value}}}(t):t instanceof jr?function(n){const r=n.getFilters().map(i=>Wj(i));return r.length===1?r[0]:{compositeFilter:{op:bz(n.op),filters:r}}}(t):Ee()}function _z(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r,i,o=Te.min(),s=Te.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.ct=e}}function Ez(t){const e=gz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(){this.un=new Sz}addToCollectionParentIndex(e,n){return this.un.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Go.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class Sz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(et.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Al(0)}static kn(){return new Al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.changes=new fu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fc(r.mutation,i,zn.empty(),jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const i=Is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ec();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Vi();const s=Vc(),a=function(){return Vc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Zo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Fc(c.mutation,u,c.mutation.getFieldMask(),jt.now())):s.set(u.key,zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Iz(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Vc();let i=new yt((s,a)=>s-a),o=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||zn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||je()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Cj();c.forEach(h=>{if(!o.has(h)){const y=Mj(n.get(h),r.get(h));y!==null&&d.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ie.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ej(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ie.resolve(Is());let a=-1,l=o;return s.next(u=>ie.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?ie.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,je())).next(c=>({batchId:a,changes:Ij(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=Ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ec();return this.indexManager.getCollectionParents(e,o).next(a=>ie.forEach(a,l=>{const u=function(d,h){return new du(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Ut.newInvalidDocument(c)))});let a=Ec();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Fc(c.mutation,u,zn.empty(),jt.now()),Qg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ie.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Ez(i.bundledQuery),readTime:Hn(i.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(){this.overlays=new yt(xe.comparator),this.Ir=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Is();return ie.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=Is(),o=n.length+1,s=new xe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new yt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Is(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Is(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ie.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ez(n,r));let o=this.Ir.get(n);o===void 0&&(o=je(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.Tr=new Zt($t.Er),this.dr=new Zt($t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $t(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new xe(new et([])),r=new $t(n,e),i=new $t(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new xe(new et([])),r=new $t(n,e),i=new $t(n,e+1);let o=je();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new $t(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return xe.comparator(e.key,n.key)||Ge(e.wr,n.wr)}static Ar(e,n){return Ge(e.wr,n.wr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zt($t.Er)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ZG(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new $t(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ie.resolve(s)}lookupMutationBatch(e,n){return ie.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Ge);return n.forEach(i=>{const o=new $t(i,0),s=new $t(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ie.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;xe.isDocumentKey(o)||(o=o.child(""));const s=new $t(new xe(o),0);let a=new Zt(Ge);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),ie.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ie.forEach(n.mutations,i=>{const o=new $t(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $t(n,0),i=this.br.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.Mr=e,this.docs=function(){return new yt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=Vi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ut.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Vi();const s=n.path,a=new xe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||vG(yG(c),r)<=0||(i.has(c.key)||Qg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mz(this)}getSize(e){return ie.resolve(this.size)}}class Mz extends Az{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e){this.persistence=e,this.Nr=new fu(n=>gE(n),yE),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new EE,this.targetCount=0,this.kr=Al.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ie.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Kn(n),ie.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ie.waitFor(o).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ie.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fE(0),this.Kr=!1,this.Kr=!0,this.$r=new Nz,this.referenceDelegate=e(this),this.Ur=new Dz(this),this.indexManager=new Tz,this.remoteDocumentCache=function(i){return new Oz(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new wz(n),this.Gr=new kz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Rz(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const i=new Lz(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ie.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Lz extends bG{constructor(e){super(),this.currentSequenceNumber=e}}class TE{constructor(e){this.persistence=e,this.Jr=new EE,this.Yr=null}static Zr(e){return new TE(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Xr,r=>{const i=xe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ie.or([()=>ie.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=je(),i=je();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new SE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return I6()?8:_G(mn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new $z;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(rc()<=Le.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ie.resolve()):(rc()<=Le.DEBUG&&ye("QueryEngine","Query:",Ca(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(rc()<=Le.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(n))):ie.resolve())}Yi(e,n){if(vI(n))return ie.resolve(null);let r=Yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lm(n,null,"F"),r=Yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=je(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,lm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return vI(n)||i.isEqual(Te.min())?ie.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ie.resolve(null):(rc()<=Le.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ca(n)),this.rs(e,s,n,gG(i,-1)).next(a=>a))})}ts(e,n){let r=new Zt(Sj(e));return n.forEach((i,o)=>{Qg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return rc()<=Le.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.Ji.getDocumentsMatchingQuery(e,n,Go.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new yt(Ge),this._s=new fu(o=>gE(o),yE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Uz(t,e,n,r){return new Fz(t,e,n,r)}async function Yj(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=je();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function Bz(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let y=ie.resolve();return h.forEach(v=>{y=y.next(()=>c.getEntry(l,v)).next(b=>{const x=u.docVersions.get(v);Ue(x!==null),b.version.compareTo(x)<0&&(d.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=je();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Jj(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Gz(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(d,y),function(b,x,w){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=Vi(),u=je();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(zz(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Te.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ie.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function zz(t,e,n){let r=je(),i=je();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Vi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ye("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function qz(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hz(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ie.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new _o(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function nb(t,e,n){const r=ke(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Sf(s))throw s;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function kI(t,e,n){const r=ke(t);let i=Te.min(),o=je();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=ke(l),h=d._s.get(c);return h!==void 0?ie.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,s,Yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Te.min(),n?o:je())).next(a=>(Wz(r,VG(e),a),{documents:a,Ts:o})))}function Wz(t,e,n){let r=t.us.get(e)||Te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class PI{constructor(){this.activeTargetIds=qG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kz{constructor(){this.so=new PI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new PI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function n0(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class Qz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=n0(),l=this.xo(n,r.toUriEncodedString());ye("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(ye("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw bd("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Jz[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=n0();return new Promise((s,a)=>{const l=new lj;l.setWithCredentials(!0),l.listenOnce(uj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gp.NO_ERROR:const c=l.getResponseJson();ye(ln,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case gp.TIMEOUT:ye(ln,`RPC '${e}' ${o} timed out`),a(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const d=l.getStatus();if(ye(ln,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const v=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(w)>=0?w:te.UNKNOWN}(y.status);a(new de(v,y.message))}else a(new de(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new de(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ye(ln,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ye(ln,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=n0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fj(),a=dj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ye(ln,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,y=!1;const v=new Xz({Io:x=>{y?ye(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(ye(ln,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ye(ln,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},To:()=>d.close()}),b=(x,w,_)=>{x.listen(w,E=>{try{_(E)}catch(P){setTimeout(()=>{throw P},0)}})};return b(d,wc.EventType.OPEN,()=>{y||(ye(ln,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(d,wc.EventType.CLOSE,()=>{y||(y=!0,ye(ln,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(d,wc.EventType.ERROR,x=>{y||(y=!0,bd(ln,`RPC '${e}' stream ${i} transport errored:`,x),v.So(new de(te.UNAVAILABLE,"The operation could not be completed")))}),b(d,wc.EventType.MESSAGE,x=>{var w;if(!y){const _=x.data[0];Ue(!!_);const E=_,P=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(P){ye(ln,`RPC '${e}' stream ${i} received error:`,P);const S=P.status;let k=function(I){const N=St[I];if(N!==void 0)return $j(N)}(S),C=P.message;k===void 0&&(k=te.INTERNAL,C="Unknown error status: "+S+" with message "+P.message),y=!0,v.So(new de(k,C)),d.close()}else ye(ln,`RPC '${e}' stream ${i} received:`,_),v.bo(_)}}),b(a,cj.STAT_EVENT,x=>{x.stat===Wx.PROXY?ye(ln,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Wx.NOPROXY&&ye(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function r0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t){return new lz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new AE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new de(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zz extends Xj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=fz(this.serializer,e),r=function(o){if(!("targetChange"in o))return Te.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Te.min():s.readTime?Hn(s.readTime):Te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=tb(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Xx(l)?{documents:pz(o,l)}:{query:mz(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Uj(o,s.resumeToken);const u=Zx(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Te.min())>0){a.readTime=dm(o,s.snapshotVersion.toTimestamp());const u=Zx(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=yz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=tb(this.serializer),n.removeTarget=e,this.a_(n)}}class eq extends Xj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=hz(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=tb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qj(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,eb(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(te.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,eb(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(te.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class nq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($i(n),this.D_=!1):ye("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{la(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ke(l);u.L_.add(4),await Pf(u),u.q_.set("Unknown"),u.L_.delete(4),await ry(u)}(this))})}),this.q_=new nq(r,i)}}async function ry(t){if(la(t))for(const e of t.B_)await e(!0)}async function Pf(t){for(const e of t.B_)await e(!1)}function Qj(t,e){const n=ke(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),PE(n)?kE(n):hu(n).r_()&&CE(n,e))}function IE(t,e){const n=ke(t),r=hu(n);n.N_.delete(e),r.r_()&&Zj(n,e),n.N_.size===0&&(r.r_()?r.o_():la(n)&&n.q_.set("Unknown"))}function CE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hu(t).A_(e)}function Zj(t,e){t.Q_.xe(e),hu(t).R_(e)}function kE(t){t.Q_=new iz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),hu(t).start(),t.q_.v_()}function PE(t){return la(t)&&!hu(t).n_()&&t.N_.size>0}function la(t){return ke(t).L_.size===0}function eL(t){t.Q_=void 0}async function iq(t){t.q_.set("Online")}async function oq(t){t.N_.forEach((e,n)=>{CE(t,e)})}async function sq(t,e){eL(t),PE(t)?(t.q_.M_(e),kE(t)):t.q_.set("Unknown")}async function aq(t,e,n){if(t.q_.set("Online"),e instanceof Fj&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hm(t,r)}else if(e instanceof xp?t.Q_.Ke(e):e instanceof Vj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Te.min()))try{const r=await Jj(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(tn.EMPTY_BYTE_STRING,c.snapshotVersion)),Zj(o,l);const d=new _o(c.target,l,u,c.sequenceNumber);CE(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ye("RemoteStore","Failed to raise snapshot:",r),await hm(t,r)}}async function hm(t,e,n){if(!Sf(e))throw e;t.L_.add(1),await Pf(t),t.q_.set("Offline"),n||(n=()=>Jj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ry(t)})}function tL(t,e){return e().catch(n=>hm(t,n,e))}async function iy(t){const e=ke(t),n=qo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;lq(e);)try{const i=await qz(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,uq(e,i)}catch(i){await hm(e,i)}nL(e)&&rL(e)}function lq(t){return la(t)&&t.O_.length<10}function uq(t,e){t.O_.push(e);const n=qo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function nL(t){return la(t)&&!qo(t).n_()&&t.O_.length>0}function rL(t){qo(t).start()}async function cq(t){qo(t).p_()}async function dq(t){const e=qo(t);for(const n of t.O_)e.m_(n.mutations)}async function fq(t,e,n){const r=t.O_.shift(),i=bE.from(r,e,n);await tL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await iy(t)}async function hq(t,e){e&&qo(t).V_&&await async function(r,i){if(function(s){return Lj(s)&&s!==te.ABORTED}(i.code)){const o=r.O_.shift();qo(r).s_(),await tL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await iy(r)}}(t,e),nL(t)&&rL(t)}async function RI(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const r=la(n);n.L_.add(3),await Pf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ry(n)}async function pq(t,e){const n=ke(t);e?(n.L_.delete(2),await ry(n)):e||(n.L_.add(2),await Pf(n),n.q_.set("Unknown"))}function hu(t){return t.K_||(t.K_=function(n,r,i){const o=ke(n);return o.w_(),new Zz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:iq.bind(null,t),Ro:oq.bind(null,t),mo:sq.bind(null,t),d_:aq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),PE(t)?kE(t):t.q_.set("Unknown")):(await t.K_.stop(),eL(t))})),t.K_}function qo(t){return t.U_||(t.U_=function(n,r,i){const o=ke(n);return o.w_(),new eq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cq.bind(null,t),mo:hq.bind(null,t),f_:dq.bind(null,t),g_:fq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await iy(t)):(await t.U_.stop(),t.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new NE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function RE(t,e){if($i("AsyncQueue",`${e}: ${t}`),Sf(t))return new de(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Ec(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new ul(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.W_=new yt(xe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Il{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Il(e,n,ul.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class gq{constructor(){this.queries=MI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ke(n),o=i.queries;i.queries=MI(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function MI(){return new fu(t=>Tj(t),Xg)}async function iL(t,e){const n=ke(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new mq,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=RE(s,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&OE(n)}async function oL(t,e){const n=ke(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yq(t,e){const n=ke(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&OE(n)}function vq(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function OE(t){t.Y_.forEach(e=>{e.next()})}var rb,DI;(DI=rb||(rb={})).ea="default",DI.Cache="cache";class sL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.key=e}}class lL{constructor(e){this.key=e}}class xq{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=je(),this.mutatedKeys=je(),this.Aa=Sj(e),this.Ra=new ul(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new OI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),y=Qg(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;h&&y?h.data.isEqual(y.data)?v!==b&&(r.track({type:3,doc:y}),x=!0):this.ga(h,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),x=!0):h&&!y&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(y?(s=s.add(y),o=b?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(y,v){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return b(y)-b(v)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Il(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new OI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=je(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new lL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new aL(r))}),n}ba(e){this.Ta=e.Ts,this.da=je();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Il.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class bq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _q{constructor(e){this.key=e,this.va=!1}}class wq{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new fu(a=>Tj(a),Xg),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(xe.comparator),this.Na=new Map,this.La=new EE,this.Ba={},this.ka=new Map,this.qa=Al.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Eq(t,e,n=!0){const r=pL(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await uL(r,e,n,!0),i}async function Tq(t,e){const n=pL(t);await uL(n,e,!0,!1)}async function uL(t,e,n,r){const i=await Hz(t.localStore,Yr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Sq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Qj(t.remoteStore,i),a}async function Sq(t,e,n,r,i){t.Ka=(d,h,y)=>async function(b,x,w,_){let E=x.view.ma(w);E.ns&&(E=await kI(b.localStore,x.query,!1).then(({documents:C})=>x.view.ma(C,E)));const P=_&&_.targetChanges.get(x.targetId),S=_&&_.targetMismatches.get(x.targetId)!=null,k=x.view.applyChanges(E,b.isPrimaryClient,P,S);return LI(b,x.targetId,k.wa),k.snapshot}(t,d,h,y);const o=await kI(t.localStore,e,!0),s=new xq(e,o.Ts),a=s.ma(o.documents),l=kf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);LI(t,n,u.wa);const c=new bq(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Aq(t,e,n){const r=ke(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Xg(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&IE(r.remoteStore,i.targetId),ib(r,i.targetId)}).catch(Tf)):(ib(r,i.targetId),await nb(r.localStore,i.targetId,!0))}async function Iq(t,e){const n=ke(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),IE(n.remoteStore,r.targetId))}async function Cq(t,e,n){const r=Dq(t);try{const i=await function(s,a){const l=ke(s),u=jt.now(),c=a.reduce((y,v)=>y.add(v.key),je());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Vi(),b=je();return l.cs.getEntries(y,c).next(x=>{v=x,v.forEach((w,_)=>{_.isValidDocument()||(b=b.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(x=>{d=x;const w=[];for(const _ of a){const E=QG(_,d.get(_.key).overlayedDocument);E!=null&&w.push(new Zo(_.key,E,gj(E.value.mapValue),Ot.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,w,a)}).next(x=>{h=x;const w=x.applyToLocalDocumentSet(d,b);return l.documentOverlayCache.saveOverlays(y,x.batchId,w)})}).then(()=>({batchId:h.batchId,changes:Ij(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new yt(Ge)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Nf(r,i.changes),await iy(r.remoteStore)}catch(i){const o=RE(i,"Failed to persist write");n.reject(o)}}async function cL(t,e){const n=ke(t);try{const r=await Gz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ue(s.va):i.removedDocuments.size>0&&(Ue(s.va),s.va=!1))}),await Nf(n,r,e)}catch(r){await Tf(r)}}function jI(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ke(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&OE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kq(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new yt(xe.comparator);s=s.insert(o,Ut.newNoDocument(o,Te.min()));const a=je().add(o),l=new ty(Te.min(),new Map,new yt(Ge),s,a);await cL(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),ME(r)}else await nb(r.localStore,e,!1).then(()=>ib(r,e,n)).catch(Tf)}async function Pq(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await Bz(n.localStore,e);fL(n,r,null),dL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nf(n,i)}catch(i){await Tf(i)}}async function Nq(t,e,n){const r=ke(t);try{const i=await function(s,a){const l=ke(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ue(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);fL(r,e,n),dL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nf(r,i)}catch(i){await Tf(i)}}function dL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function fL(t,e,n){const r=ke(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ib(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||hL(t,r)})}function hL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(IE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ME(t))}function LI(t,e,n){for(const r of n)r instanceof aL?(t.La.addReference(r.key,e),Rq(t,r)):r instanceof lL?(ye("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||hL(t,r.key)):Ee()}function Rq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ye("SyncEngine","New document in limbo: "+n),t.xa.add(r),ME(t))}function ME(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new xe(et.fromString(e)),r=t.qa.next();t.Na.set(r,new _q(n)),t.Oa=t.Oa.insert(n,r),Qj(t.remoteStore,new _o(Yr(vE(n.path)),r,"TargetPurposeLimboResolution",fE.oe))}}async function Nf(t,e,n){const r=ke(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=SE.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=ke(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ie.forEach(u,h=>ie.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(d,h.targetId,y)).next(()=>ie.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(d,h.targetId,y)))))}catch(d){if(!Sf(d))throw d;ye("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const y=c.os.get(h),v=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,b)}}}(r.localStore,o))}async function Oq(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const r=await Yj(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new de(te.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nf(n,r.hs)}}function Mq(t,e){const n=ke(t),r=n.Na.get(e);if(r&&r.va)return je().add(r.key);{let i=je();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function pL(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kq.bind(null,e),e.Ca.d_=yq.bind(null,e.eventManager),e.Ca.$a=vq.bind(null,e.eventManager),e}function Dq(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nq.bind(null,e),e}class pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ny(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Uz(this.persistence,new Vz,e.initialUser,this.serializer)}Ga(e){return new jz(TE.Zr,this.serializer)}Wa(e){return new Kz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pm.provider={build:()=>new pm};class ob{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Oq.bind(null,this.syncEngine),await pq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gq}()}createDatastore(e){const n=ny(e.databaseInfo.databaseId),r=function(o){return new Qz(o)}(e.databaseInfo);return function(o,s,a,l){return new tq(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new rq(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jI(this.syncEngine,n,0),function(){return NI.D()?new NI:new Yz}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new wq(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ke(i);ye("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Pf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ob.provider={build:()=>new ob};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=ke(i),a={documents:o.map(d=>fm(s.serializer,d))},l=await s.Lo("BatchGetDocuments",s.serializer.databaseId,et.emptyPath(),a,o.length),u=new Map;l.forEach(d=>{const h=dz(s.serializer,d);u.set(h.key.toString(),h)});const c=[];return o.forEach(d=>{const h=u.get(d.toString());Ue(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=xe.fromPath(r);this.mutations.push(new jj(i,this.precondition(i)))}),await async function(r,i){const o=ke(r),s={writes:i.map(a=>qj(o.serializer,a))};await o.Mo("Commit",o.serializer.databaseId,et.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ee();n=Te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new de(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Te.min())?Ot.exists(!1):Ot.updateTime(n):Ot.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Te.min()))throw new de(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ot.updateTime(n)}return Ot.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new AE(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new jq(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Af(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Lj(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kn.UNAUTHENTICATED,this.clientId=hj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ye("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ye("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=RE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function i0(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Yj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $I(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Vq(t);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>RI(e.remoteStore,i)),t._onlineComponents=e}async function Vq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await i0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bd("Error using user provided cache. Falling back to memory cache: "+n),await i0(t,new pm)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await i0(t,new pm);return t._offlineComponents}async function DE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await $I(t,t._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await $I(t,new ob))),t._onlineComponents}function Fq(t){return DE(t).then(e=>e.syncEngine)}function Uq(t){return DE(t).then(e=>e.datastore)}async function sb(t){const e=await DE(t),n=e.eventManager;return n.onListen=Eq.bind(null,e.syncEngine),n.onUnlisten=Aq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Tq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Iq.bind(null,e.syncEngine),n}function Bq(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new mL({next:h=>{c.Za(),s.enqueueAndForget(()=>oL(o,d)),h.fromCache&&l.source==="server"?u.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new sL(a,c,{includeMetadataChanges:!0,_a:!0});return iL(o,d)}(await sb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gq(t,e,n,r){if(e===!0&&r===!0)throw new de(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FI(t){if(!xe.isDocumentKey(t))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UI(t){if(xe.isDocumentKey(t))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oy(t);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lG;switch(r.type){case"firstParty":return new dG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VI.get(n);r&&(ye("ComponentProvider","Removing Datastore"),VI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Lo extends Ki{constructor(e,n,r){super(e,n,vE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new xe(e))}withConverter(e){return new Lo(this.firestore,e,this._path)}}function _s(t,e,...n){if(t=wt(t),yL("collection","path",e),t instanceof jE){const r=et.fromString(e,...n);return UI(r),new Lo(t,null,r)}{if(!(t instanceof hn||t instanceof Lo))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return UI(r),new Lo(t.firestore,null,r)}}function Ye(t,e,...n){if(t=wt(t),arguments.length===1&&(e=hj.newId()),yL("doc","path",e),t instanceof jE){const r=et.fromString(e,...n);return FI(r),new hn(t,null,new xe(r))}{if(!(t instanceof hn||t instanceof Lo))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return FI(r),new hn(t.firestore,t instanceof Lo?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new AE(this,"async_queue_retry"),this.Vu=()=>{const r=r0();r&&ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=r0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=r0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ii;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sf(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw $i("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=NE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function zI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Fi extends jE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new GI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GI(e),this._firestoreClient=void 0,await e}}}function zq(t,e,n){n||(n="(default)");const r=Zw(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(gd(o,e))return i;throw new de(te.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new de(te.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Rf(t){if(t._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qq(t),t._firestoreClient}function qq(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new TG(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,gL(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $q(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(tn.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=/^__.*__$/;class Wq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zo(e,this.data,this.fieldMask,n,this.fieldTransforms):new If(e,this.data,n,this.fieldTransforms)}}class vL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class FE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new FE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xL(this.Cu)&&Hq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Kq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ny(e)}Qu(e,n,r,i=!1){return new FE({Cu:e,methodName:n,qu:r,path:Xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(t){const e=t._freezeSettings(),n=ny(t._databaseId);return new Kq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UE(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);zE("Data must be an object, but it was:",s,r);const a=bL(r,s);let l,u;if(o.merge)l=new zn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=ab(e,d,n);if(!s.contains(h))throw new de(te.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);wL(c,h)||c.push(h)}l=new zn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new Wq(new _n(a),l,u)}class sy extends LE{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sy}}function BE(t,e,n,r){const i=t.Qu(1,e,n);zE("Data must be an object, but it was:",i,r);const o=[],s=_n.empty();aa(r,(l,u)=>{const c=qE(e,l,n);u=wt(u);const d=i.Nu(c);if(u instanceof sy)o.push(c);else{const h=Mf(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new zn(o);return new vL(s,a,i.fieldTransforms)}function GE(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[ab(e,r,n)],l=[i];if(o.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(ab(e,o[h])),l.push(o[h+1]);const u=[],c=_n.empty();for(let h=a.length-1;h>=0;--h)if(!wL(u,a[h])){const y=a[h];let v=l[h];v=wt(v);const b=s.Nu(y);if(v instanceof sy)u.push(y);else{const x=Mf(v,b);x!=null&&(u.push(y),c.set(y,x))}}const d=new zn(u);return new vL(c,d,s.fieldTransforms)}function Yq(t,e,n,r=!1){return Mf(n,t.Qu(r?4:3,e))}function Mf(t,e){if(_L(t=wt(t)))return zE("Unsupported field value:",e,t),bL(t,e);if(t instanceof LE)return function(r,i){if(!xL(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Mf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=jt.fromDate(r);return{timestampValue:dm(i.serializer,o)}}if(r instanceof jt){const o=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dm(i.serializer,o)}}if(r instanceof $E)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qs)return{bytesValue:Uj(i.serializer,r._byteString)};if(r instanceof hn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof VE)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return xE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${oy(r)}`)}(t,e)}function bL(t,e){const n={};return pj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(t,(r,i)=>{const o=Mf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _L(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof $E||t instanceof Qs||t instanceof hn||t instanceof LE||t instanceof VE)}function zE(t,e,n){if(!_L(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=oy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ab(t,e,n){if((e=wt(e))instanceof pu)return e._internalPath;if(typeof e=="string")return qE(t,e);throw mm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jq=new RegExp("[~\\*/\\[\\]]");function qE(t,e,n){if(e.search(Jq)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pu(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new de(te.INVALID_ARGUMENT,a+t+l)}function wL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(HE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xq extends gm{data(){return super.data()}}function HE(t,e){return typeof e=="string"?qE(t,e):e instanceof pu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WE{}class KE extends WE{}function YE(t,e,...n){let r=[];e instanceof WE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof XE).length,a=o.filter(l=>l instanceof JE).length;if(s>1||s>0&&a>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class JE extends KE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new JE(e,n,r)}_apply(e){const n=this._parse(e);return TL(e._query,n),new Ki(e.firestore,e.converter,Qx(e._query,n))}_parse(e){const n=Of(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){HI(d,c);const y=[];for(const v of d)y.push(qI(l,o,v));h={arrayValue:{values:y}}}else h=qI(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||HI(d,c),h=Yq(a,s,d,c==="in"||c==="not-in");return Ct.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class XE extends WE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new XE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)TL(s,l),s=Qx(s,l)}(e._query,n),new Ki(e.firestore,e.converter,Qx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QE extends KE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new QE(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sd(o,s)}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new du(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Qq(t,e="asc"){const n=e,r=HE("orderBy",t);return QE._create(r,n)}class ZE extends KE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ZE(e,n,r)}_apply(e){return new Ki(e.firestore,e.converter,lm(e._query,this._limit,this._limitType))}}function Zq(t){return ZE._create("limit",t,"F")}function qI(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ej(e)&&n.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(et.fromString(n));if(!xe.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fI(t,new xe(r))}if(n instanceof hn)return fI(t,n._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oy(n)}.`)}function HI(t,e){if(!Array.isArray(t)||t.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TL(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SL{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return aa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Et(s.doubleValue));return new VE(o)}convertGeoPoint(e){return new $E(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wd(e));default:return null}}convertTimestamp(e){const n=zo(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);Ue(Kj(r));const i=new Ed(r.get(1),r.get(3)),o=new xe(r.popFirst(5));return i.isEqual(n)||$i(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class eH extends SL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tT extends gm{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(HE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bp extends tT{data(e={}){return super.data(e)}}class AL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bp(this._firestore,this._userDataWriter,r.key,r,new qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new bp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new bp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:tH(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class ay extends SL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function IL(t){t=ar(t,Ki);const e=ar(t.firestore,Fi),n=Rf(e),r=new ay(e);return EL(t._query),Bq(n,t._query).then(i=>new AL(e,r,t,i))}function ua(t,e,n){t=ar(t,hn);const r=ar(t.firestore,Fi),i=eT(t.converter,e,n);return uy(r,[UE(Of(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ot.none())])}function Df(t,e,n,...r){t=ar(t,hn);const i=ar(t.firestore,Fi),o=Of(i);let s;return s=typeof(e=wt(e))=="string"||e instanceof pu?GE(o,"updateDoc",t._key,e,n,r):BE(o,"updateDoc",t._key,e),uy(i,[s.toMutation(t._key,Ot.exists(!0))])}function ly(t){return uy(ar(t.firestore,Fi),[new Cf(t._key,Ot.none())])}function Ea(t,...e){var n,r,i;t=wt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||zI(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(zI(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof hn)u=ar(t.firestore,Fi),c=vE(t._key.path),l={next:d=>{e[s]&&e[s](nH(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=ar(t,Ki);u=ar(d.firestore,Fi),c=d._query;const h=new ay(u);l={next:y=>{e[s]&&e[s](new AL(u,h,d,y))},error:e[s+1],complete:e[s+2]},EL(t._query)}return function(h,y,v,b){const x=new mL(b),w=new sL(y,x,v);return h.asyncQueue.enqueueAndForget(async()=>iL(await sb(h),w)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>oL(await sb(h),w))}}(Rf(u),c,a,l)}function uy(t,e){return function(r,i){const o=new Ii;return r.asyncQueue.enqueueAndForget(async()=>Cq(await Fq(r),i,o)),o.promise}(Rf(t),e)}function nH(t,e,n){const r=n.docs.get(e._key),i=new ay(t);return new tT(t,i,e._key,r,new qa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Of(e)}set(e,n,r){this._verifyNotCommitted();const i=yo(e,this._firestore),o=eT(i.converter,n,r),s=UE(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Ot.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=yo(e,this._firestore);let s;return s=typeof(n=wt(n))=="string"||n instanceof pu?GE(this._dataReader,"WriteBatch.update",o._key,n,r,i):BE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ot.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=yo(e,this._firestore);return this._mutations=this._mutations.concat(new Cf(n._key,Ot.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yo(t,e){if((t=wt(t)).firestore!==e)throw new de(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Of(n)}get(n){const r=yo(n,this._firestore),i=new eH(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return Ee();const s=o[0];if(s.isFoundDocument())return new gm(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new gm(this._firestore,i,r._key,null,r.converter);throw Ee()})}set(n,r,i){const o=yo(n,this._firestore),s=eT(o.converter,r,i),a=UE(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=yo(n,this._firestore);let a;return a=typeof(r=wt(r))=="string"||r instanceof pu?GE(this._dataReader,"Transaction.update",s._key,r,i,o):BE(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=yo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=yo(e,this._firestore),r=new ay(this._firestore);return super.get(e).then(i=>new tT(this._firestore,r,n._key,i._document,new qa(!1,!1),n.converter))}}function nT(t,e,n){t=ar(t,Fi);const r=Object.assign(Object.assign({},rH),n);return function(o){if(o.maxAttempts<1)throw new de(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Ii;return o.asyncQueue.enqueueAndForget(async()=>{const u=await Uq(o);new Lq(o.asyncQueue,u,a,s,l).au()}),l.promise}(Rf(t),i=>e(new oH(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){return Rf(t=ar(t,Fi)),new iH(t,e=>uy(t,e))}(function(e,n=!0){(function(i){cu=i})(lu),wl(new Hs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Fi(new uG(r.getProvider("auth-internal")),new hG(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),jo(aI,"4.7.3",e),jo(aI,"4.7.3","esm2017")})();const sH={apiKey:"AIzaSyAp9vMuLIhE-W8sEVpuzSWr7vvRHOu1pSc",authDomain:"nexo-bbbe5.firebaseapp.com",projectId:"nexo-bbbe5",storageBucket:"nexo-bbbe5.firebasestorage.app",messagingSenderId:"133978874707",appId:"1:133978874707:web:ba5e00d4c5e35b3c5df7a6"},kL=SD(sH),Ha=oG(kL),Re=zq(kL,{ignoreUndefinedProperties:!0}),aH="finansmart_data_v2",WI={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,unlockedBadges:[],walletBalance:0},PL=t=>`${aH}_${t}`,KI=t=>{try{const e=PL(t),n=localStorage.getItem(e);if(!n)return WI;const r=JSON.parse(n);return r.transactions||(r.transactions=[]),r.investments||(r.investments=[]),r.unlockedBadges||(r.unlockedBadges=[]),r.debts||(r.debts=[]),r.shoppingList||(r.shoppingList=[]),r.shoppingBudget===void 0&&(r.shoppingBudget=0),r.budgets?r.budgets=r.budgets.map(i=>({...i,isRecurring:i.isRecurring!==void 0?i.isRecurring:!0,month:i.month||void 0})):r.budgets=[],r.walletBalance===void 0&&(r.walletBalance=r.transactions.reduce((i,o)=>o.status==="paid"?i+(o.type==="income"?o.amount:-o.amount):i,0)),r}catch(e){return console.error("Failed to load data",e),WI}},lH=(t,e)=>{try{const n=PL(e),r=t.transactions.reduce((o,s)=>s.status==="paid"?o+(s.type==="income"?s.amount:-s.amount):o,0),i={...t,walletBalance:r};localStorage.setItem(n,JSON.stringify(i))}catch(n){console.error("Failed to save data",n)}},Cl=t=>t.status==="pending"?0:t.type==="income"?t.amount:-t.amount,uH=(t,e)=>{const n=YE(_s(Re,"users",t,"transactions"),Qq("date","desc"),Zq(300)),r=Ea(n,u=>{const c=u.docs.map(d=>d.data());e({transactions:c})}),i=Ea(_s(Re,"users",t,"investments"),u=>{const c=u.docs.map(d=>d.data());e({investments:c})}),o=Ea(_s(Re,"users",t,"budgets"),u=>{const c=u.docs.map(d=>d.data());e({budgets:c})}),s=Ea(_s(Re,"users",t,"debts"),u=>{const c=u.docs.map(d=>d.data());e({debts:c})}),a=Ea(_s(Re,"users",t,"shopping_list"),u=>{const c=u.docs.map(d=>d.data());e({shoppingList:c})}),l=Ea(Ye(Re,"users",t),u=>{if(u.exists()){const c=u.data(),d={};c.unlockedBadges&&(d.unlockedBadges=c.unlockedBadges),c.wealthProfile&&(d.wealthProfile=c.wealthProfile),c.shoppingBudget!==void 0&&(d.shoppingBudget=c.shoppingBudget),c.walletBalance!==void 0&&(d.walletBalance=c.walletBalance),Object.keys(d).length>0&&e(d)}});return()=>{r(),i(),o(),s(),a(),l()}},YI=async(t,e)=>{await nT(Re,async n=>{var l;const r=Ye(Re,"users",t),o=((l=(await n.get(r)).data())==null?void 0:l.walletBalance)||0,s=Cl(e),a=Ye(Re,"users",t,"transactions",e.id);n.set(a,e),n.update(r,{walletBalance:o+s})})},JI=async(t,e,n)=>{await nT(Re,async r=>{var y;const i=Ye(Re,"users",t,"transactions",e),o=Ye(Re,"users",t),s=await r.get(i);if(!s.exists())throw new Error("Transaction not found");const a=s.data(),u=((y=(await r.get(o)).data())==null?void 0:y.walletBalance)||0,c=Cl(a),d={...a,...n},h=Cl(d);r.update(i,n),r.update(o,{walletBalance:u-c+h})})},cH=async(t,e)=>{await nT(Re,async n=>{var c;const r=Ye(Re,"users",t,"transactions",e),i=Ye(Re,"users",t),o=await n.get(r);if(!o.exists())throw new Error("Transaction not found");const s=o.data(),l=((c=(await n.get(i)).data())==null?void 0:c.walletBalance)||0,u=Cl(s);n.delete(r),n.update(i,{walletBalance:l-u})})},dH=async t=>{const e=YE(_s(Re,"users",t,"transactions")),n=await IL(e);let r=0;return n.forEach(i=>{const o=i.data();r+=Cl(o)}),await Df(Ye(Re,"users",t),{walletBalance:r}),r},fH=async(t,e)=>{await ua(Ye(Re,"users",t,"investments",e.id),e)},hH=async(t,e,n)=>{await Df(Ye(Re,"users",t,"investments",e),n)},pH=async(t,e)=>{await ly(Ye(Re,"users",t,"investments",e))},mH=async(t,e)=>{await ua(Ye(Re,"users",t,"budgets",e.id),e)},gH=async(t,e,n)=>{await Df(Ye(Re,"users",t,"budgets",e),n)},yH=async(t,e)=>{await ly(Ye(Re,"users",t,"budgets",e))},vH=async(t,e)=>{await ua(Ye(Re,"users",t,"debts",e.id),e)},XI=async(t,e,n)=>{await Df(Ye(Re,"users",t,"debts",e),n)},xH=async(t,e)=>{await ly(Ye(Re,"users",t,"debts",e))},bH=async(t,e)=>{await ua(Ye(Re,"users",t,"shopping_list",e.id),e)},_H=async(t,e,n)=>{await Df(Ye(Re,"users",t,"shopping_list",e),n)},wH=async(t,e)=>{await ly(Ye(Re,"users",t,"shopping_list",e))},EH=async t=>{const e=YE(_s(Re,"users",t,"shopping_list")),n=await IL(e),r=CL(Re);n.docs.forEach(i=>{r.delete(i.ref)}),await r.commit()},TH=async(t,e)=>{await ua(Ye(Re,"users",t),{shoppingBudget:e},{merge:!0})},SH=async(t,e,n)=>{n.includes(e)||await ua(Ye(Re,"users",t),{unlockedBadges:[...n,e]},{merge:!0})},AH=async(t,e)=>{await ua(Ye(Re,"users",t),{wealthProfile:e},{merge:!0})},QI=async(t,e)=>{const n=CL(Re);let r=0;e.transactions.forEach(s=>{const a=Ye(Re,"users",t,"transactions",s.id);n.set(a,s),r+=Cl(s)}),e.investments.forEach(s=>{const a=Ye(Re,"users",t,"investments",s.id);n.set(a,s)}),e.budgets.forEach(s=>{const a=Ye(Re,"users",t,"budgets",s.id);n.set(a,s)}),e.debts.forEach(s=>{const a=Ye(Re,"users",t,"debts",s.id);n.set(a,s)}),e.shoppingList.forEach(s=>{const a=Ye(Re,"users",t,"shopping_list",s.id);n.set(a,s)});const i=Ye(Re,"users",t),o={unlockedBadges:e.unlockedBadges,walletBalance:r,shoppingBudget:e.shoppingBudget||0};e.wealthProfile&&(o.wealthProfile=e.wealthProfile),n.set(i,o,{merge:!0}),await n.commit()};var IH={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let CH,kH;function PH(){return{geminiUrl:CH,vertexUrl:kH}}function NH(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=PH();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yi{}function fe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];g(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>p(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function RH(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}lb(t,i,o,0,s)}}function lb(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])lb(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);g(s,d,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&lb(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OH(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function MH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],jH(s)),e}function DH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],LH(s)),e}function jH(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>$H(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function LH(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>VH(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function $H(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],qH(n)),e}function VH(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],HH(n)),e}function FH(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function UH(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function BH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],GH(s)),e}function GH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function NL(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],zH(s)),e}function zH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function qH(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],rT(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function HH(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],rT(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ZI;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ZI||(ZI={}));var eC;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(eC||(eC={}));var tC;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(tC||(tC={}));var wo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(wo||(wo={}));var nC;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(nC||(nC={}));var rC;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(rC||(rC={}));var iC;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(iC||(iC={}));var oC;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(oC||(oC={}));var sC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(sC||(sC={}));var aC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(aC||(aC={}));var lC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(lC||(lC={}));var uC;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(uC||(uC={}));var cC;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(cC||(cC={}));var dC;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(dC||(dC={}));var fC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(fC||(fC={}));var hC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(hC||(hC={}));var pC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(pC||(pC={}));var mC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(mC||(mC={}));var gC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(gC||(gC={}));var yC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(yC||(yC={}));var vC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(vC||(vC={}));var ym;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ym||(ym={}));var xC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xC||(xC={}));var bC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bC||(bC={}));var _C;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(_C||(_C={}));var ub;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ub||(ub={}));var wC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(wC||(wC={}));var EC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(EC||(EC={}));var cb;(function(t){t.COLLECTION="COLLECTION"})(cb||(cb={}));var TC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(TC||(TC={}));var SC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(SC||(SC={}));var AC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(AC||(AC={}));var IC;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(IC||(IC={}));var CC;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(CC||(CC={}));var kC;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(kC||(kC={}));var PC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(PC||(PC={}));var NC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(NC||(NC={}));var RC;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(RC||(RC={}));var OC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(OC||(OC={}));var MC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(MC||(MC={}));var DC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(DC||(DC={}));var jC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(jC||(jC={}));var LC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(LC||(LC={}));var $C;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})($C||($C={}));var VC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(VC||(VC={}));var FC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(FC||(FC={}));var UC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(UC||(UC={}));var BC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(BC||(BC={}));var GC;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(GC||(GC={}));var zC;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(zC||(zC={}));var qC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(qC||(qC={}));var HC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(HC||(HC={}));var WC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(WC||(WC={}));var KC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(KC||(KC={}));var YC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(YC||(YC={}));var JC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(JC||(JC={}));var Wa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Wa||(Wa={}));class db{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ic{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class XC{}class QC{}class WH{}class KH{}class YH{}class JH{}class ZC{}class ek{}class tk{}class XH{}class vm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new vm;let i;const o=e;return n?i=DH(o):i=MH(o),Object.assign(r,i),r}}class nk{}class rk{}class ik{}class ok{}class QH{}class ZH{}class eW{}class iT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new iT,o=BH(e);return Object.assign(r,o),r}}class tW{}class nW{}class rW{}class sk{}class iW{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class oW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class oT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new oT,o=NL(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function RL(t,e){const n=ze(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function OL(t){return Array.isArray(t)?t.map(e=>xm(e)):[xm(t)]}function xm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ML(t){const e=xm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DL(t){const e=xm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ak(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function jL(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ak(e)):[ak(t)]}function fb(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function lk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function uk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function fn(t){if(t==null)throw new Error("ContentUnion is required");return fb(t)?t:{role:"user",parts:jL(t)}}function sT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=fn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=fn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>fn(n)):[fn(e)]}function lr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(lk(t)||uk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fn(t)]}const e=[],n=[],r=fb(t[0]);for(const i of t){const o=fb(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(lk(i)||uk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:jL(n)}),e}function sW(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(wo).includes(n[0].toUpperCase())?n[0].toUpperCase():wo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(wo).includes(r.toUpperCase())?r.toUpperCase():wo.TYPE_UNSPECIFIED})}}function cl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&sW(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(wo).includes(a.toUpperCase())?a.toUpperCase():wo.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=cl(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(cl(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=cl(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function aT(t){return cl(t)}function lT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function uT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function mu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=cl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=cl(e.response));return t}function gu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function aW(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ji(t,e){if(typeof e!="string")throw new Error("name must be a string");return aW(t,e,"cachedContents")}function LL(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function es(t){return rT(t)}function lW(t){return t!=null&&typeof t=="object"&&"name"in t}function uW(t){return t!=null&&typeof t=="object"&&"video"in t}function cW(t){return t!=null&&typeof t=="object"&&"uri"in t}function $L(t){var e;let n;if(lW(t)&&(n=t.name),!(cW(t)&&(n=t.uri,n===void 0))&&!(uW(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function VL(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function FL(t){for(const e of["models","tunedModels","publisherModels"])if(dW(t,e))return t[e];return[]}function dW(t,e){return t!==null&&typeof t=="object"&&e in t}function fW(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function hW(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=fW(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function UL(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function pW(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function BL(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function yu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function GL(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mW(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>YW(s))),g(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["inlinedEmbedContentResponses"],o)}return e}function gW(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function yW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function _p(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],GL(i));const o=p(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const a=p(t,["metadata","updateTime"]);a!=null&&g(e,["updateTime"],a);const l=p(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],mW(BL(u))),e}function hb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],GL(i));const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(e,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=p(t,["model"]);c!=null&&g(e,["model"],c);const d=p(t,["inputConfig"]);d!=null&&g(e,["src"],vW(d));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],gW(BL(h)));const y=p(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function vW(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function xW(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>KW(t,s))),g(n,["requests","requests"],o)}return n}function bW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function _W(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],yu(t,r)),n}function EW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],yu(t,r)),n}function TW(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],SW(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const d=p(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function SW(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function zL(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function AW(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function IW(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],yW(pW(i))),n}function ck(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],xW(t,UL(t,i)));const o=p(e,["config"]);return o!=null&&AW(o,n),n}function CW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],ze(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],bW(UL(t,i)));const o=p(e,["config"]);return o!=null&&IW(o,n),n}function kW(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function PW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],LW(t,i));const o=p(e,["config"]);return o!=null&&kW(o,n),n}function NW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],yu(t,r)),n}function RW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],yu(t,r)),n}function OW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function MW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function DW(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=sT(t,r);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],jW(i,n)),RH(n,{"requests[].*":"requests[].request.*"})),n}function jW(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function LW(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],DW(t,i)),n}function $W(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function VW(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FW(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function UW(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],zL(fn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=p(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],aT(w));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let R=E;Array.isArray(R)&&(R=R.map(j=>rK(j))),g(n,["safetySettings"],R)}const P=p(e,["tools"]);if(n!==void 0&&P!=null){let R=gu(P);Array.isArray(R)&&(R=R.map(j=>oK(mu(j)))),g(n,["tools"],R)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],iK(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=p(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],Ji(t,k));const C=p(e,["responseModalities"]);C!=null&&g(r,["responseModalities"],C);const T=p(e,["mediaResolution"]);T!=null&&g(r,["mediaResolution"],T);const I=p(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],lT(I)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=p(e,["thinkingConfig"]);N!=null&&g(r,["thinkingConfig"],N);const M=p(e,["imageConfig"]);M!=null&&g(r,["imageConfig"],WW(M));const D=p(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function BW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>TW(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function GW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],yu(t,r)),n}function zW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],yu(t,r)),n}function qW(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function HW(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function WW(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function KW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],ze(t,r));const i=p(e,["contents"]);if(i!=null){let a=lr(i);Array.isArray(a)&&(a=a.map(l=>zL(l))),g(n,["request","contents"],a)}const o=p(e,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(e,["config"]);return s!=null&&g(n,["request","generationConfig"],UW(t,s,p(n,["request"],{}))),n}function YW(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],BW(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function JW(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function XW(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function QW(t){const e={},n=p(t,["config"]);return n!=null&&JW(n,e),e}function ZW(t){const e={},n=p(t,["config"]);return n!=null&&XW(n,e),e}function eK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>_p(s))),g(e,["batchJobs"],o)}return e}function tK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>hb(s))),g(e,["batchJobs"],o)}return e}function nK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],$W(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],VW(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],_W(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const d=p(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function rK(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function iK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],FW(r)),e}function oK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],qW(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],HW(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ui;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ui||(Ui={}));class ca{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sK extends Yi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ca(Ui.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=ck(this.apiClient,e),r=n._url,i=fe("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const y=d.request;y.systemInstruction=h,d.request=y}u.push(d)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=CW(this.apiClient,e);return a=fe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>hb(c))}else{const u=ck(this.apiClient,e);return a=fe("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>_p(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=PW(this.apiClient,e);return o=fe("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>_p(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=zW(this.apiClient,e);return a=fe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>hb(c))}else{const u=GW(this.apiClient,e);return a=fe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>_p(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=EW(this.apiClient,e);s=fe("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=wW(this.apiClient,e);s=fe("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ZW(e);return a=fe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=tK(c),h=new sk;return Object.assign(h,d),h})}else{const u=QW(e);return a=fe("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=eK(c),h=new sk;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=RW(this.apiClient,e);return a=fe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>MW(c))}else{const u=NW(this.apiClient,e);return a=fe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>OW(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aK(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function dk(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>PK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function lK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let c=lr(s);Array.isArray(c)&&(c=c.map(d=>dk(d))),g(e,["contents"],c)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],dk(fn(a)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>RK(d))),g(e,["tools"],c)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],NK(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function uK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let d=lr(s);Array.isArray(d)&&(d=d.map(h=>h)),g(e,["contents"],d)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],fn(a));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>OK(h))),g(e,["tools"],d)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=p(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function cK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],RL(t,r));const i=p(e,["config"]);return i!=null&&lK(i,n),n}function dK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],RL(t,r));const i=p(e,["config"]);return i!=null&&uK(i,n),n}function fK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Ji(t,r)),n}function hK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Ji(t,r)),n}function pK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function mK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function gK(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function yK(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vK(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xK(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function bK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Ji(t,r)),n}function _K(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Ji(t,r)),n}function wK(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function EK(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function TK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function SK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function AK(t){const e={},n=p(t,["config"]);return n!=null&&TK(n,e),e}function IK(t){const e={},n=p(t,["config"]);return n!=null&&SK(n,e),e}function CK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function kK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function PK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],gK(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],yK(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],aK(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const d=p(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function NK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],vK(r)),e}function RK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],wK(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],EK(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function OK(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>xK(h))),g(e,["functionDeclarations"],d)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function MK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function DK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function jK(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Ji(t,r));const i=p(e,["config"]);return i!=null&&MK(i,n),n}function LK(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Ji(t,r));const i=p(e,["config"]);return i!=null&&DK(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $K extends Yi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ca(Ui.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=dK(this.apiClient,e);return a=fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=cK(this.apiClient,e);return a=fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_K(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=bK(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hK(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=mK(c),h=new ik;return Object.assign(h,d),h})}else{const u=fK(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=pK(c),h=new ik;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=LK(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=jK(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=IK(e);return a=fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=kK(c),h=new ok;return Object.assign(h,d),h})}else{const u=AK(e);return a=fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=CK(c),h=new ok;return Object.assign(h,d),h})}}}function bm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pe(t){return this instanceof Pe?(this.v=t,this):new Pe(t)}function Pr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,d)}}function a(y,v){r[y]&&(i[y]=function(b){return new Promise(function(x,w){o.push([y,b,x,w])>1||l(y,b)})},v&&(i[y]=v(i[y])))}function l(y,v){try{u(r[y](v))}catch(b){h(o[0][3],b)}}function u(y){y.value instanceof Pe?Promise.resolve(y.value.v).then(c,d):h(o[0][2],y)}function c(y){l("next",y)}function d(y){l("throw",y)}function h(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Nr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fk=="function"?fk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VK(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:qL(n)}function qL(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function FK(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function hk(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!qL(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class UK{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new BK(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class BK{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),FK(o)}async sendMessage(e){var n;await this.sendPromise;const r=fn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(d))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=fn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?hk(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Pr(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var d=!0,h=Nr(e),y;y=yield Pe(h.next()),i=y.done,!i;d=!0){a=y.value,d=!1;const v=a;if(VK(v)){const b=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;b!==void 0&&c.push(b)}yield yield Pe(v)}}catch(v){o={error:v}}finally{try{!d&&!i&&(s=h.return)&&(yield Pe(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...hk(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Cd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GK(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function zK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function qK(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],$L(n)),e}function HK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function WK(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],$L(n)),e}function KK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function YK(t){const e={},n=p(t,["config"]);return n!=null&&KK(n,e),e}function JK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XK extends Yi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ca(Ui.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=YK(e);return o=fe("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=JK(l),c=new tW;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=GK(e);return o=fe("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=zK(l),c=new nW;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=WK(e);return o=fe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qK(e);return o=fe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=HK(l),c=new rW;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wp(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function QK(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pY(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function ZK(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function eY(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tY(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function nY(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=p(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const w=p(t,["seed"]);w!=null&&g(e,["seed"],w);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const P=p(t,["temperature"]);P!=null&&g(e,["temperature"],P);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const k=p(t,["topK"]);k!=null&&g(e,["topK"],k);const C=p(t,["topP"]);if(C!=null&&g(e,["topP"],C),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function rY(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function iY(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function oY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=p(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],uT(d));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],QK(fn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let k=gu(b);Array.isArray(k)&&(k=k.map(C=>gY(mu(C)))),g(e,["setup","tools"],k)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],mY(x));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&g(e,["setup","contextWindowCompression"],P);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function sY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],nY(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=p(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],uT(d));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],fn(v));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let C=gu(b);Array.isArray(C)&&(C=C.map(T=>yY(mu(T)))),g(e,["setup","tools"],C)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&g(e,["setup","contextWindowCompression"],P);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&g(e,["setup","proactivity"],S);const k=p(t,["explicitVadSignal"]);return e!==void 0&&k!=null&&g(e,["setup","explicitVadSignal"],k),n}function aY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],ze(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],oY(i,n)),n}function lY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],ze(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],sY(i,n)),n}function uY(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function cY(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function dY(t){const e={},n=p(t,["media"]);if(n!=null){let u=OL(n);Array.isArray(u)&&(u=u.map(c=>wp(c))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],wp(DL(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],wp(ML(o)));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function fY(t){const e={},n=p(t,["media"]);if(n!=null){let u=OL(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],DL(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],ML(o));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function hY(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const s=p(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],vY(s));const a=p(t,["goAway"]);a!=null&&g(e,["goAway"],a);const l=p(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=p(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],xY(c)),e}function pY(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],ZK(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],eY(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],wp(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const d=p(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function mY(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gY(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],rY(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],iY(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function yY(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>tY(h))),g(e,["functionDeclarations"],d)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function vY(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const a=p(t,["totalTokenCount"]);a!=null&&g(e,["totalTokenCount"],a);const l=p(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["promptTokensDetails"],y)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["cacheTokensDetails"],y)}const c=p(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["responseTokensDetails"],y)}const d=p(t,["toolUsePromptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["toolUsePromptTokensDetails"],y)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function xY(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bY(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function _Y(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],wY(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const d=p(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function wY(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function EY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["contents"]);if(i!=null){let o=lr(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}return n}function TY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function SY(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],AY(r)),e}function AY(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function cy(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>DJ(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function IY(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function CY(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function kY(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],fn(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>YL(a))),g(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],bJ(o)),n}function PY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["contents"]);if(i!=null){let s=lr(i);Array.isArray(s)&&(s=s.map(a=>cy(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&CY(o),n}function NY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["contents"]);if(i!=null){let s=lr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&kY(o,n),n}function RY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function OY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function MY(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],ze(t,r)),n}function DY(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],ze(t,r)),n}function jY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function LY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function $Y(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=p(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const _=p(t,["editMode"]);e!==void 0&&_!=null&&g(e,["parameters","editMode"],_);const E=p(t,["baseSteps"]);return e!==void 0&&E!=null&&g(e,["parameters","editConfig","baseSteps"],E),n}function VY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>UJ(l))),g(n,["instances[0]","referenceImages"],a)}const s=p(e,["config"]);return s!=null&&$Y(s,n),n}function FY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>dy(o))),g(e,["generatedImages"],i)}return e}function UY(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function BY(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const a=p(t,["autoTruncate"]);return e!==void 0&&a!=null&&g(e,["parameters","autoTruncate"],a),n}function GY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["contents"]);if(i!=null){let a=sT(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","content"],a)}const o=p(e,["config"]);o!=null&&UY(o,n);const s=p(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],ze(t,s)),n}function zY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["contents"]);if(i!=null){let s=sT(t,i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["instances[]","content"],s)}const o=p(e,["config"]);return o!=null&&BY(o,n),n}function qY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function HY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>SY(s))),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function WY(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function KY(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function YY(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function JY(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function XY(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function QY(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],cy(fn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=p(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],aT(w));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let R=E;Array.isArray(R)&&(R=R.map(j=>BJ(j))),g(n,["safetySettings"],R)}const P=p(e,["tools"]);if(n!==void 0&&P!=null){let R=gu(P);Array.isArray(R)&&(R=R.map(j=>YJ(mu(j)))),g(n,["tools"],R)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],KJ(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=p(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],Ji(t,k));const C=p(e,["responseModalities"]);C!=null&&g(r,["responseModalities"],C);const T=p(e,["mediaResolution"]);T!=null&&g(r,["mediaResolution"],T);const I=p(e,["speechConfig"]);if(I!=null&&g(r,["speechConfig"],lT(I)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=p(e,["thinkingConfig"]);N!=null&&g(r,["thinkingConfig"],N);const M=p(e,["imageConfig"]);M!=null&&g(r,["imageConfig"],SJ(M));const D=p(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function ZY(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],fn(i));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=p(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],aT(w));const _=p(e,["responseJsonSchema"]);_!=null&&g(r,["responseJsonSchema"],_);const E=p(e,["routingConfig"]);E!=null&&g(r,["routingConfig"],E);const P=p(e,["modelSelectionConfig"]);P!=null&&g(r,["modelConfig"],P);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let z=S;Array.isArray(z)&&(z=z.map($=>$)),g(n,["safetySettings"],z)}const k=p(e,["tools"]);if(n!==void 0&&k!=null){let z=gu(k);Array.isArray(z)&&(z=z.map($=>YL(mu($)))),g(n,["tools"],z)}const C=p(e,["toolConfig"]);n!==void 0&&C!=null&&g(n,["toolConfig"],C);const T=p(e,["labels"]);n!==void 0&&T!=null&&g(n,["labels"],T);const I=p(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],Ji(t,I));const N=p(e,["responseModalities"]);N!=null&&g(r,["responseModalities"],N);const M=p(e,["mediaResolution"]);M!=null&&g(r,["mediaResolution"],M);const D=p(e,["speechConfig"]);D!=null&&g(r,["speechConfig"],lT(D));const R=p(e,["audioTimestamp"]);R!=null&&g(r,["audioTimestamp"],R);const j=p(e,["thinkingConfig"]);j!=null&&g(r,["thinkingConfig"],j);const F=p(e,["imageConfig"]);if(F!=null&&g(r,["imageConfig"],AJ(F)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const V=p(e,["modelArmorConfig"]);return n!==void 0&&V!=null&&g(n,["modelArmorConfig"],V),r}function pk(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["contents"]);if(i!=null){let s=lr(i);Array.isArray(s)&&(s=s.map(a=>cy(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],QY(t,o,n)),n}function mk(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["contents"]);if(i!=null){let s=lr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],ZY(t,o,n)),n}function gk(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>_Y(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function yk(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const a=p(t,["responseId"]);a!=null&&g(e,["responseId"],a);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function eJ(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=p(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=p(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function tJ(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=p(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&g(e,["parameters","sampleImageSize"],_);const E=p(t,["enhancePrompt"]);return e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E),n}function nJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&eJ(o,n),n}function rJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&tJ(o,n),n}function iJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>gJ(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],WL(i)),e}function oJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>dy(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],KL(i)),e}function sJ(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const a=p(t,["personGeneration"]);if(e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=p(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],fy(c));const d=p(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>lX(y))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function aJ(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const a=p(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=p(t,["pubsubTopic"]);e!==void 0&&d!=null&&g(e,["parameters","pubsubTopic"],d);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const y=p(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],Lr(b));const x=p(t,["referenceImages"]);if(e!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(P=>uX(P))),g(e,["instances[0]","referenceImages"],E)}const w=p(t,["mask"]);e!==void 0&&w!=null&&g(e,["instances[0]","mask"],aX(w));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&g(e,["parameters","compressionQuality"],_),n}function lJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],fJ(s)),e}function uJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],hJ(s)),e}function cJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],fy(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],JL(s));const a=p(e,["source"]);a!=null&&pJ(a,n);const l=p(e,["config"]);return l!=null&&sJ(l,n),n}function dJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],Lr(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],XL(s));const a=p(e,["source"]);a!=null&&mJ(a,n);const l=p(e,["config"]);return l!=null&&aJ(l,n),n}function fJ(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>vJ(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function hJ(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>xJ(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function pJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],fy(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],JL(o)),n}function mJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Lr(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],XL(o)),n}function gJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],IJ(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],WL(i)),e}function dy(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],HL(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],KL(i));const o=p(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function yJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],HL(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function vJ(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],oX(n)),e}function xJ(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],sX(n)),e}function bJ(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=p(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const w=p(t,["seed"]);w!=null&&g(e,["seed"],w);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const P=p(t,["temperature"]);P!=null&&g(e,["temperature"],P);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const k=p(t,["topK"]);k!=null&&g(e,["topK"],k);const C=p(t,["topP"]);if(C!=null&&g(e,["topP"],C),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _J(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],ze(t,r)),n}function wJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],ze(t,r)),n}function EJ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function TJ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function SJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function AJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=p(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=p(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function IJ(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],es(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function HL(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],es(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function fy(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],es(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Lr(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],es(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function CJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],VL(t,a)),r}function kJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],VL(t,a)),r}function PJ(t,e){const n={},r=p(e,["config"]);return r!=null&&CJ(t,r,n),n}function NJ(t,e){const n={},r=p(e,["config"]);return r!=null&&kJ(t,r,n),n}function RJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=FL(i);Array.isArray(o)&&(o=o.map(s=>pb(s))),g(e,["models"],o)}return e}function OJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=FL(i);Array.isArray(o)&&(o=o.map(s=>mb(s))),g(e,["models"],o)}return e}function MJ(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function pb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["version"]);o!=null&&g(e,["version"],o);const s=p(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],JJ(s));const a=p(t,["inputTokenLimit"]);a!=null&&g(e,["inputTokenLimit"],a);const l=p(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=p(t,["temperature"]);c!=null&&g(e,["temperature"],c);const d=p(t,["maxTemperature"]);d!=null&&g(e,["maxTemperature"],d);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const y=p(t,["topK"]);y!=null&&g(e,["topK"],y);const v=p(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function mb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["versionId"]);o!=null&&g(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>WY(h))),g(e,["endpoints"],d)}const a=p(t,["labels"]);a!=null&&g(e,["labels"],a);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],XJ(l));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=p(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),g(e,["checkpoints"],d)}return e}function DJ(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],KY(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],YY(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],bY(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const d=p(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function jJ(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],Lr(n)),e}function LJ(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const d=p(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=p(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function $J(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["source"]);i!=null&&FJ(i,n);const o=p(e,["config"]);return o!=null&&LJ(o,n),n}function VJ(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dy(i))),g(e,["generatedImages"],r)}return e}function FJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Lr(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>jJ(a))),g(e,["instances[0]","productImages"],s)}return n}function UJ(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Lr(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],MJ(o));const s=p(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],IY(s));const a=p(t,["styleImageConfig"]);a!=null&&g(e,["styleImageConfig"],a);const l=p(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function WL(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function KL(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function BJ(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function GJ(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],Lr(n)),e}function zJ(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const a=p(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","binaryColorThreshold"],a);const l=p(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function qJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["source"]);i!=null&&WJ(i,n);const o=p(e,["config"]);return o!=null&&zJ(o,n),n}function HJ(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yJ(i))),g(e,["generatedMasks"],r)}return e}function WJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Lr(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],GJ(o)),n}function KJ(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],JY(r)),e}function YJ(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],EJ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],TJ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function YL(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>XY(h))),g(e,["functionDeclarations"],d)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function JJ(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function XJ(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function QJ(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function ZJ(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function eX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],ze(t,r));const i=p(e,["config"]);return i!=null&&QJ(i,n),n}function tX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["config"]);return i!=null&&ZJ(i,n),n}function nX(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const s=p(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const a=p(t,["outputMimeType"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","mimeType"],a);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=p(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const y=p(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function rX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],ze(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],Lr(i));const o=p(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&nX(s,n),n}function iX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>dy(o))),g(e,["generatedImages"],i)}return e}function oX(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],es(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function sX(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],es(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function aX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],Lr(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function lX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],fy(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function uX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Lr(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function JL(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],es(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function XL(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],es(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cX(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function dX(t){const e={},n=p(t,["config"]);return n!=null&&cX(n,e),e}function fX(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function hX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&fX(r,e),e}function pX(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function mX(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function gX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],vX(s)),e}function yX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&mX(i,e),e}function vX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function xX(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function bX(t){const e={},n=p(t,["config"]);return n!=null&&xX(n,e),e}function _X(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["fileSearchStores"],o)}return e}function QL(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function wX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&QL(r,e),e}function EX(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TX="Content-Type",SX="X-Server-Timeout",AX="User-Agent",gb="x-goog-api-client",IX="1.38.0",CX=`google-genai-sdk/${IX}`,kX="v1beta1",PX="v1beta";class NX{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:kX}else{if(!this.clientOptions.apiKey)throw new Cd({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:PX,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===cb.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&RX(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await vk(i),new db(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await vk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Pr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Pe(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const v=JSON.parse(d);if("error"in v){const b=JSON.parse(JSON.stringify(v.error)),x=b.status,w=b.code,_=`got status: ${x}. ${JSON.stringify(v)}`;if(w>=400&&w<600)throw new Cd({message:_,status:w})}}catch(v){if(v.name==="ApiError")throw v}s+=d;let h=-1,y=0;for(;;){h=-1,y=0;for(const x of l){const w=s.indexOf(x);w!==-1&&(h===-1||w<h)&&(h=w,y=x.length)}if(h===-1)break;const v=s.substring(0,h);s=s.substring(h+y);const b=v.trim();if(b.startsWith(a)){const x=b.substring(a.length).trim();try{const w=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Pe(new db(w))}catch(w){throw new Error(`exception parsing stream chunk ${x}. ${w}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=CX+" "+this.clientOptions.userAgentExtra;return e[AX]=n,e[gb]=n,e[TX]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(SX,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=fe("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&QL(r,d);const h=await this.fetchUploadUrl(u,a,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function vk(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Cd({message:i,status:n}):new Error(i)}}function RX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OX="mcp_used/unknown";let MX=!1;function ZL(t){for(const e of t)if(DX(e)||typeof e=="object"&&"inputSchema"in e)return!0;return MX}function e$(t){var e;const n=(e=t[gb])!==null&&e!==void 0?e:"";t[gb]=(n+` ${OX}`).trimStart()}function DX(t){return t!==null&&typeof t=="object"&&t instanceof cT}function jX(t){return Pr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Pe(n.listTools({cursor:i}));for(const a of s.tools)yield yield Pe(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class cT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new cT(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Nr(jX(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),hW(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function LX(t,e,n){const r=new oW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class $X{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=UX(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(E=>{u=E}),d=e.callbacks,h=function(){u({})},y=this.apiClient,v={onopen:h,onmessage:E=>{LX(y,d.onmessage,E)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(E){}},b=this.webSocketFactory.create(l,FX(s),v);b.connect(),await c;const _={setup:{model:ze(this.apiClient,e.model)}};return b.send(JSON.stringify(_)),new VX(b,this.apiClient)}}class VX{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=cY(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=uY(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Wa.PLAY)}pause(){this.sendPlaybackControl(Wa.PAUSE)}stop(){this.sendPlaybackControl(Wa.STOP)}resetContext(){this.sendPlaybackControl(Wa.RESET_CONTEXT)}close(){this.conn.close()}}function FX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function UX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function GX(t,e,n){const r=new iW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=hY(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class zX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new $X(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&ZL(e.config.tools)&&e$(d);const h=KX(d);if(this.apiClient.isVertexAI()){const I=this.apiClient.getProject(),N=this.apiClient.getLocation(),M=this.apiClient.getApiKey(),D=!!I&&!!N||!!M;this.apiClient.getCustomBaseUrl()&&!D?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const I=this.apiClient.getApiKey();let N="BidiGenerateContent",M="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",M="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${M}=${I}`}let y=()=>{};const v=new Promise(I=>{y=I}),b=e.callbacks,x=function(){var I;(I=b==null?void 0:b.onopen)===null||I===void 0||I.call(b),y({})},w=this.apiClient,_={onopen:x,onmessage:I=>{GX(w,b.onmessage,I)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(I){}},E=this.webSocketFactory.create(c,WX(h),_);E.connect(),await v;let P=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const I=this.apiClient.getProject(),N=this.apiClient.getLocation();I&&N&&(P=`projects/${I}/locations/${N}/`+P)}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ym.AUDIO]}:e.config.responseModalities=[ym.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],C=[];for(const I of k)if(this.isCallableTool(I)){const N=I;C.push(await N.tool())}else C.push(I);C.length>0&&(e.config.tools=C);const T={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=lY(this.apiClient,T):S=aY(this.apiClient,T),delete S.config,E.send(JSON.stringify(S)),new HX(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const qX={turnComplete:!0};class HX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=lr(n.turns),e.isVertexAI()||(r=r.map(i=>cy(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(BX)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},qX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:fY(e)}:n={realtimeInput:dY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function WX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function KX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xk=10;function bk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(dl(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function dl(t){return"callTool"in t&&typeof t.callTool=="function"}function YX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>dl(i)))!==null&&r!==void 0?r:!1}function _k(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(dl(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function wk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JX extends Yi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!YX(n)||bk(n.config))return await this.generateContentInternal(l);const u=_k(n);if(u.length>0){const b=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let c,d;const h=lr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:xk;let v=0;for(;v<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const b=c.candidates[0].content,x=[];for(const w of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(dl(w)){const E=await w.callTool(c.functionCalls);x.push(...E)}v++,d={role:"user",parts:x},l.contents=lr(l.contents),l.contents.push(b),l.contents.push(d),wk(l.config)&&(h.push(b),h.push(d))}return wk(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),bk(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=_k(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ca(Ui.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>dl(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&ZL(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),e$(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(dl(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:xk;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return Pr(this,arguments,function*(){for(var h,y,v,b,x,w;a<o;){s&&(a++,s=!1);const S=yield Pe(u.processParamsMaybeAddMcpUsage(d)),k=yield Pe(u.generateContentStreamInternal(S)),C=[],T=[];try{for(var _=!0,E=(y=void 0,Nr(k)),P;P=yield Pe(E.next()),h=P.done,!h;_=!0){b=P.value,_=!1;const I=b;if(yield yield Pe(I),I.candidates&&(!((x=I.candidates[0])===null||x===void 0)&&x.content)){T.push(I.candidates[0].content);for(const N of(w=I.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(a<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const M=yield Pe(c.get(N.functionCall.name).callTool([N.functionCall]));C.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(I){y={error:I}}finally{try{!_&&!h&&(v=E.return)&&(yield Pe(v.call(E)))}finally{if(y)throw y.error}}if(C.length>0){s=!0;const I=new ic;I.candidates=[{content:{role:"user",parts:C}}],yield yield Pe(I);const N=[];N.push(...T),N.push({role:"user",parts:C});const M=lr(d.contents).concat(N);d.contents=M}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=mk(this.apiClient,e);return a=fe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=yk(c),h=new ic;return Object.assign(h,d),h})}else{const u=pk(this.apiClient,e);return a=fe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=gk(c),h=new ic;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=mk(this.apiClient,e);return a=fe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return Pr(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,w=Nr(d),_;_=yield Pe(w.next()),h=_.done,!h;x=!0){b=_.value,x=!1;const E=b,P=yk(yield Pe(E.json()));P.sdkHttpResponse={headers:E.headers};const S=new ic;Object.assign(S,P),yield yield Pe(S)}}catch(E){y={error:E}}finally{try{!x&&!h&&(v=w.return)&&(yield Pe(v.call(w)))}finally{if(y)throw y.error}}})})}else{const u=pk(this.apiClient,e);return a=fe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return Pr(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,w=Nr(d),_;_=yield Pe(w.next()),h=_.done,!h;x=!0){b=_.value,x=!1;const E=b,P=gk(yield Pe(E.json()));P.sdkHttpResponse={headers:E.headers};const S=new ic;Object.assign(S,P),yield yield Pe(S)}}catch(E){y={error:E}}finally{try{!x&&!h&&(v=w.return)&&(yield Pe(v.call(w)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=zY(this.apiClient,e);return a=fe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=HY(c),h=new XC;return Object.assign(h,d),h})}else{const u=GY(this.apiClient,e);return a=fe("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=qY(c),h=new XC;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=rJ(this.apiClient,e);return a=fe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=oJ(c),h=new QC;return Object.assign(h,d),h})}else{const u=nJ(this.apiClient,e);return a=fe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=iJ(c),h=new QC;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=VY(this.apiClient,e);return o=fe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=FY(l),c=new WH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=rX(this.apiClient,e);return o=fe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=iX(l),c=new KH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=$J(this.apiClient,e);return o=fe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=VJ(l),c=new YH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=qJ(this.apiClient,e);return o=fe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=HJ(l),c=new JH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=wJ(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>mb(c))}else{const u=_J(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>pb(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=NJ(this.apiClient,e);return a=fe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=OJ(c),h=new ZC;return Object.assign(h,d),h})}else{const u=PJ(this.apiClient,e);return a=fe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=RJ(c),h=new ZC;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tX(this.apiClient,e);return a=fe("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>mb(c))}else{const u=eX(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>pb(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=DY(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=LY(c),h=new ek;return Object.assign(h,d),h})}else{const u=MY(this.apiClient,e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=jY(c),h=new ek;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=NY(this.apiClient,e);return a=fe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=OY(c),h=new tk;return Object.assign(h,d),h})}else{const u=PY(this.apiClient,e);return a=fe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=RY(c),h=new tk;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=EY(this.apiClient,e);return o=fe("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=TY(l),c=new XH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=dJ(this.apiClient,e);return a=fe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=uJ(c),h=new vm;return Object.assign(h,d),h})}else{const u=cJ(this.apiClient,e);return a=fe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=lJ(c),h=new vm;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XX extends Yi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=UH(e);return a=fe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=FH(e);return a=fe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=OH(e);return o=fe("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QX(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ZX(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lQ(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function eQ(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const a=p(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&g(n,["bidiGenerateContentSetup"],aQ(t,a));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function tQ(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],eQ(t,r,n)),n}function nQ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function rQ(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iQ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function oQ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function sQ(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=p(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],uT(d));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],ZX(fn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let k=gu(b);Array.isArray(k)&&(k=k.map(C=>cQ(mu(C)))),g(e,["setup","tools"],k)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],uQ(x));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&g(e,["setup","contextWindowCompression"],P);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function aQ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],ze(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],sQ(i,n)),n}function lQ(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],nQ(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],rQ(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],QX(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const d=p(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function uQ(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cQ(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],iQ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],oQ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dQ(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function fQ(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=dQ(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class hQ extends Yi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=tQ(this.apiClient,e);o=fe("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=fQ(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pQ(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function mQ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&pQ(r,e),e}function gQ(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function yQ(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function vQ(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&yQ(r,e),e}function xQ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bQ extends Yi{constructor(e){super(),this.apiClient=e,this.list=async n=>new ca(Ui.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gQ(e);return o=fe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mQ(e);i=fe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=vQ(e);return o=fe("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=xQ(l),c=new QH;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _Q extends Yi{constructor(e,n=new bQ(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ca(Ui.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dX(e);return o=fe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pX(e);return o=fe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hX(e);i=fe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bX(e);return o=fe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=_X(l),c=new ZH;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=wX(e);return o=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=EX(l),c=new eW;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=yX(e);return o=fe("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=gX(l),c=new iT;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let t$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return t$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const wQ=()=>t$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yb(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const vb=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fr extends Error{}class An extends fr{constructor(e,n,r,i){super(`${An.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new hy({message:r,cause:vb(n)});const o=n;return e===400?new r$(e,o,r,i):e===401?new i$(e,o,r,i):e===403?new o$(e,o,r,i):e===404?new s$(e,o,r,i):e===409?new a$(e,o,r,i):e===422?new l$(e,o,r,i):e===429?new u$(e,o,r,i):e>=500?new c$(e,o,r,i):new An(e,o,r,i)}}class xb extends An{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class hy extends An{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class n$ extends hy{constructor({message:e}={}){super({message:e??"Request timed out."})}}class r$ extends An{}class i$ extends An{}class o$ extends An{}class s$ extends An{}class a$ extends An{}class l$ extends An{}class u$ extends An{}class c$ extends An{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EQ=/^[a-z][a-z0-9+.-]*:/i,TQ=t=>EQ.test(t);let bb=t=>(bb=Array.isArray,bb(t));const SQ=bb;let AQ=SQ;const Ek=AQ;function IQ(t){if(!t)return!0;for(const e in t)return!1;return!0}function CQ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const kQ=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new fr(`${t} must be an integer`);if(e<0)throw new fr(`${t} must be a positive integer`);return e},PQ=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NQ=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Na="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RQ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const OQ=()=>{var t,e,n,r,i;const o=RQ();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Na,"X-Stainless-OS":Sk(Deno.build.os),"X-Stainless-Arch":Tk(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Na,"X-Stainless-OS":Sk((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Tk((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=MQ();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Na,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function MQ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const Tk=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Sk=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Oh;const DQ=()=>Oh??(Oh=OQ());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jQ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function d$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function LQ(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return d$({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function f$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function $Q(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VQ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function o0(t,e,n){return h$(),new File(t,e??"unknown_file",n)}function FQ(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const UQ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",BQ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&p$(t),GQ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function zQ(t,e,n){if(h$(),t=await t,BQ(t))return t instanceof File?t:o0([await t.arrayBuffer()],t.name);if(GQ(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),o0(await _b(i),e,n)}const r=await _b(t);if(e||(e=FQ(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return o0(r,e,n)}async function _b(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(p$(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(UQ(t))try{for(var a=!0,l=Nr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await _b(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${qQ(t)}`)}return s}function qQ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m${constructor(e){this._client=e}}m$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ak=Object.freeze(Object.create(null)),HQ=(t=g$)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,d,h)=>{var y,v,b;/[?#]/.test(d)&&(i=!0);const x=r[h];let w=(i?encodeURIComponent:t)(""+x);return h!==r.length&&(x==null||typeof x=="object"&&x.toString===((b=Object.getPrototypeOf((v=Object.getPrototypeOf((y=x.hasOwnProperty)!==null&&y!==void 0?y:Ak))!==null&&v!==void 0?v:Ak))===null||b===void 0?void 0:b.toString))&&(w=x+"",o.push({start:c.length+d.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":w)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,y)=>{const v=" ".repeat(y.start-c),b="^".repeat(y.length);return c=y.start+y.length,h+v+b},"");throw new fr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${d}`)}return s},Mh=HQ(g$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y$ extends m${create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=bm(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new fr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new fr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Mh`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Mh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Mh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=bm(o,["api_version"]);return this._client.get(Mh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}y$._key=Object.freeze(["interactions"]);class v$ extends y${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WQ(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Dh;function dT(t){let e;return(Dh??(e=new globalThis.TextEncoder,Dh=e.encode.bind(e)))(t)}let jh;function Ik(t){let e;return(jh??(e=new globalThis.TextDecoder,jh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class py{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?dT(e):e;this.buffer=WQ([this.buffer,n]);const r=[];let i;for(;(i=KQ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Ik(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Ik(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}py.NEWLINE_CHARS=new Set([`
`,"\r"]);py.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function KQ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function YQ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _m={off:0,error:200,warn:300,info:400,debug:500},Ck=(t,e,n)=>{if(t){if(CQ(_m,t))return t;vn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(_m))}`)}};function Sc(){}function Lh(t,e,n){return!e||_m[t]>_m[n]?Sc:e[t].bind(e)}const JQ={error:Sc,warn:Sc,info:Sc,debug:Sc};let kk=new WeakMap;function vn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return JQ;const i=kk.get(n);if(i&&i[0]===r)return i[1];const o={error:Lh("error",n,r),warn:Lh("warn",n,r),info:Lh("info",n,r),debug:Lh("debug",n,r)};return kk.set(n,[r,o]),o}const ys=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ka{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?vn(r):console;function s(){return Pr(this,arguments,function*(){var l,u,c,d;if(i)throw new fr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Nr(XQ(e,n)),b;b=yield Pe(v.next()),l=b.done,!l;y=!0){d=b.value,y=!1;const x=d;if(!h)if(x.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Pe(JSON.parse(x.data))}catch(w){throw o.error("Could not parse message into JSON:",x.data),o.error("From chunk:",x.raw),w}}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield Pe(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(yb(x))return yield Pe(void 0);throw x}finally{h||n.abort()}})}return new Ka(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Pr(this,arguments,function*(){var l,u,c,d;const h=new py,y=f$(e);try{for(var v=!0,b=Nr(y),x;x=yield Pe(b.next()),l=x.done,!l;v=!0){d=x.value,v=!1;const w=d;for(const _ of h.decode(w))yield yield Pe(_)}}catch(w){u={error:w}}finally{try{!v&&!l&&(c=b.return)&&(yield Pe(c.call(b)))}finally{if(u)throw u.error}}for(const w of h.flush())yield yield Pe(w)})}function s(){return Pr(this,arguments,function*(){var l,u,c,d;if(i)throw new fr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Nr(o()),b;b=yield Pe(v.next()),l=b.done,!l;y=!0){d=b.value,y=!1;const x=d;h||x&&(yield yield Pe(JSON.parse(x)))}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield Pe(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(yb(x))return yield Pe(void 0);throw x}finally{h||n.abort()}})}return new Ka(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Ka(()=>i(e),this.controller,this.client),new Ka(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return d$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=dT(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function XQ(t,e){return Pr(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fr("Attempted to iterate over a response with no body");const a=new ZQ,l=new py,u=f$(t.body);try{for(var c=!0,d=Nr(QQ(u)),h;h=yield Pe(d.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const v of l.decode(y)){const b=a.decode(v);b&&(yield yield Pe(b))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=d.return)&&(yield Pe(o.call(d)))}finally{if(i)throw i.error}}for(const y of l.flush()){const v=a.decode(y);v&&(yield yield Pe(v))}})}function QQ(t){return Pr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Nr(t),u;u=yield Pe(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?dT(c):c;let h=new Uint8Array(s.length+d.length);h.set(s),h.set(d,s.length),s=h;let y;for(;(y=YQ(s))!==-1;)yield yield Pe(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield Pe(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Pe(s))})}class ZQ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=eZ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function eZ(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tZ(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return vn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ka.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return vn(t).debug(`[${r}] response parsed`,ys({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fT extends Promise{constructor(e,n,r=tZ){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new fT(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x$=Symbol("brand.privateNullableHeaders");function*nZ(t){if(!t)return;if(x$ in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Ek(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Ek(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const oc=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of nZ(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[x$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s0=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=IH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var b$;class my{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=s0("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=s0("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,h=bm(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:my.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=Ck(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:Ck(s0("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:jQ(),this.encoder=VQ,this._options=y,this.apiKey=c,this.apiVersion=d,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=oc([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return oc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return oc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new fr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Na}`}defaultIdempotencyKey(){return`stainless-node-retry-${wQ()}`}makeStatusError(e,n,r,i){return An.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=TQ(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return IQ(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new fT(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:d}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(vn(this).debug(`[${h}] sending request`,ys({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new xb;const b=new AbortController,x=await this.fetchWithTimeout(c,u,d,b).catch(vb),w=Date.now();if(x instanceof globalThis.Error){const E=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new xb;const P=yb(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return vn(this).info(`[${h}] connection ${P?"timed out":"failed"} - ${E}`),vn(this).debug(`[${h}] connection ${P?"timed out":"failed"} (${E})`,ys({retryOfRequestLogID:r,url:c,durationMs:w-v,message:x.message})),this.retryRequest(a,n,r??h);throw vn(this).info(`[${h}] connection ${P?"timed out":"failed"} - error; no more retries left`),vn(this).debug(`[${h}] connection ${P?"timed out":"failed"} (error; no more retries left)`,ys({retryOfRequestLogID:r,url:c,durationMs:w-v,message:x.message})),P?new n$:new hy({cause:x})}const _=`[${h}${y}] ${u.method} ${c} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${w-v}ms`;if(!x.ok){const E=await this.shouldRetry(x);if(n&&E){const I=`retrying, ${n} attempts remaining`;return await $Q(x.body),vn(this).info(`${_} - ${I}`),vn(this).debug(`[${h}] response error (${I})`,ys({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:w-v})),this.retryRequest(a,n,r??h,x.headers)}const P=E?"error; no more retries left":"error; not retryable";vn(this).info(`${_} - ${P}`);const S=await x.text().catch(I=>vb(I).message),k=PQ(S),C=k?void 0:S;throw vn(this).debug(`[${h}] response error (${P})`,ys({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:C,durationMs:Date.now()-v})),this.makeStatusError(x.status,k,C,x.headers)}return vn(this).info(_),vn(this).debug(`[${h}] response start`,ys({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:w-v})),{response:x,options:a,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=bm(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(d.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await NQ(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,d=this.buildURL(l,u,c);"timeout"in s&&kQ("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=oc([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),DQ()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=oc([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:LQ(e)}:this.encoder({body:e,headers:r})}}my.DEFAULT_TIMEOUT=6e4;class zt extends my{constructor(){super(...arguments),this.interactions=new v$(this)}}b$=zt;zt.GeminiNextGenAPIClient=b$;zt.GeminiNextGenAPIClientError=fr;zt.APIError=An;zt.APIConnectionError=hy;zt.APIConnectionTimeoutError=n$;zt.APIUserAbortError=xb;zt.NotFoundError=s$;zt.ConflictError=a$;zt.RateLimitError=u$;zt.BadRequestError=r$;zt.AuthenticationError=i$;zt.InternalServerError=c$;zt.PermissionDeniedError=o$;zt.UnprocessableEntityError=l$;zt.toFile=zQ;zt.Interactions=v$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function iZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function oZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function sZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function aZ(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const s=p(t,["learningRateMultiplier"]);if(s!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","batchSize"],a);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function lZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],Pk(y))}else if(i==="PREFERENCE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],Pk(y))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=p(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function uZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&bZ(o);const s=p(t,["config"]);return s!=null&&aZ(s,n),n}function cZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&_Z(o,n,e);const s=p(t,["config"]);return s!=null&&lZ(s,n,e),n}function dZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function fZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function hZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function pZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function mZ(t,e){const n={},r=p(t,["config"]);return r!=null&&hZ(r,n),n}function gZ(t,e){const n={},r=p(t,["config"]);return r!=null&&pZ(r,n),n}function yZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>_$(a))),g(n,["tuningJobs"],s)}return n}function vZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>wb(a))),g(n,["tuningJobs"],s)}return n}function xZ(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function bZ(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function _Z(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function _$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],LL(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["tuningTask","startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=p(t,["description"]);c!=null&&g(n,["description"],c);const d=p(t,["baseModel"]);d!=null&&g(n,["baseModel"],d);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],xZ(h)),n}function wb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],LL(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=p(t,["error"]);c!=null&&g(n,["error"],c);const d=p(t,["description"]);d!=null&&g(n,["description"],d);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const y=p(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const v=p(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const b=p(t,["supervisedTuningSpec"]);b!=null&&g(n,["supervisedTuningSpec"],b);const x=p(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const w=p(t,["tuningDataStats"]);w!=null&&g(n,["tuningDataStats"],w);const _=p(t,["encryptionSpec"]);_!=null&&g(n,["encryptionSpec"],_);const E=p(t,["partnerModelTuningSpec"]);E!=null&&g(n,["partnerModelTuningSpec"],E);const P=p(t,["customBaseModel"]);P!=null&&g(n,["customBaseModel"],P);const S=p(t,["experiment"]);S!=null&&g(n,["experiment"],S);const k=p(t,["labels"]);k!=null&&g(n,["labels"],k);const C=p(t,["outputUri"]);C!=null&&g(n,["outputUri"],C);const T=p(t,["pipelineJob"]);T!=null&&g(n,["pipelineJob"],T);const I=p(t,["serviceAccount"]);I!=null&&g(n,["serviceAccount"],I);const N=p(t,["tunedModelDisplayName"]);N!=null&&g(n,["tunedModelDisplayName"],N);const M=p(t,["veoTuningSpec"]);return M!=null&&g(n,["veoTuningSpec"],M),n}function wZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(t,["done"]);s!=null&&g(n,["done"],s);const a=p(t,["error"]);return a!=null&&g(n,["error"],a),n}function Pk(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EZ extends Yi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ca(Ui.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:ub.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=fZ(e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>wb(c))}else{const u=dZ(e);return a=fe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>_$(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=gZ(e);return a=fe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=vZ(c),h=new nk;return Object.assign(h,d),h})}else{const u=mZ(e);return a=fe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=yZ(c),h=new nk;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=iZ(e);return a=fe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=sZ(c),h=new rk;return Object.assign(h,d),h})}else{const u=rZ(e);return a=fe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=oZ(c),h=new rk;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=cZ(e,e);return o=fe("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>wb(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=uZ(e);return o=fe("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>wZ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TZ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const SZ=1024*1024*8,AZ=3,IZ=1e3,CZ=2,wm="x-goog-upload-status";async function kZ(t,e,n){var r;const i=await w$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[wm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function PZ(t,e,n){var r;const i=await w$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[wm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=NL(o),a=new oT;return Object.assign(a,s),a}async function w$(t,e,n){var r,i;let o=0,s=0,a=new db(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(SZ,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let d=0,h=IZ;for(;d<AZ&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[wm]));)d++,await RZ(h),h=h*CZ;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[wm])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function NZ(t){return{size:t.size,type:t.type}}function RZ(t){return new Promise(e=>setTimeout(e,t))}class OZ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kZ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await PZ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await NZ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MZ{create(e,n,r){return new DZ(e,n,r)}}class DZ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nk="x-goog-api-key";class jZ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Nk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Nk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LZ="gl-node/";class jf{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=NH(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new jZ(this.apiKey);this.apiClient=new NX({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:LZ+"web",uploader:new OZ,downloader:new TZ}),this.models=new JX(this.apiClient),this.live=new zX(this.apiClient,i,new MZ),this.batches=new sK(this.apiClient),this.chats=new UK(this.models,this.apiClient),this.caches=new $K(this.apiClient),this.files=new XK(this.apiClient),this.operations=new XX(this.apiClient),this.authTokens=new hQ(this.apiClient),this.tunings=new EZ(this.apiClient),this.fileSearchStores=new _Q(this.apiClient)}}const Rk=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],gy="nexo_user_api_key",vu=()=>{const t=localStorage.getItem(gy);return t||null},Ok=t=>{localStorage.setItem(gy,t)},$Z=()=>{localStorage.removeItem(gy)},Mk=()=>!!localStorage.getItem(gy),VZ=async t=>{var i;const e=vu();if(!e)return[];const n=new jf({apiKey:e}),r=`
    Voc  um assistente de compras inteligente.
    O usurio vai pedir uma receita, evento ou lista genrica.
    Gere uma lista de compras JSON com ingredientes/itens.
    
    CATEGORIAS PERMITIDAS: 'Hortifruti', 'Carnes', 'Laticnios', 'Mercearia', 'Bebidas', 'Limpeza', 'Higiene', 'Padaria', 'Outros'.

    RESPONDA APENAS JSON VLIDO neste formato:
    [
      { "name": "Nome do item", "quantity": 1, "category": "Categoria" }
    ]
  `;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:`Gere a lista para: ${t}`,config:{systemInstruction:r,responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"[]";return JSON.parse(s)}catch(o){return console.error("Erro ao gerar lista:",o),[]}},FZ=async t=>{var i;const e=vu();if(!e)return"Outros";const n=new jf({apiKey:e}),r=`Classifique "${t}" em: ${Rk.join(", ")}. Responda S a categoria.`;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text)==null?void 0:i.trim())||"Outros";return Rk.includes(s)?s:"Outros"}catch{return"Outros"}},UZ=async t=>{var s,a,l;const e=vu();if(!e)return{text:"Configure sua API Key nas preferncias para receber recomendaes de investimentos.",sources:[]};const n=new jf({apiKey:e}),r=t.map(u=>`${u.name} (${u.type}): R$ ${u.amount}`).join(", "),o=`
    Voc  um consultor de investimentos snior especialista no mercado brasileiro.
    Carteira Atual: R$ ${t.reduce((u,c)=>u+c.amount,0)} (${r||"Vazia"}).

    TAREFA:
    Encontre oportunidades REAIS e ATUAIS para diversificao.
    
    FORMATO OBRIGATRIO (Siga estritamente):
    
    ###  Baixo Risco
    1. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    2. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    3. **[Nome]** - [Taxa/Preo] - [Motivo curto]

    ###  Mdio Risco
    (3 opes no mesmo formato)

    ###  Alto Risco
    (3 opes no mesmo formato)

    ---SECTION-BREAK---

    ###  Anlise Tcnica
    (Sua anlise detalhada aqui sobre cenrio macro, inflao e porqus)
  `;try{const u=await n.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{tools:[{googleSearch:{}}]}}),c=[],d=(l=(a=(s=u.candidates)==null?void 0:s[0])==null?void 0:a.groundingMetadata)==null?void 0:l.groundingChunks;d&&d.forEach(y=>{y.web&&c.push({title:y.web.title||"Fonte Web",uri:y.web.uri||"#"})});const h=c.filter((y,v,b)=>b.findIndex(x=>x.uri===y.uri)===v);return{text:u.text||"No foi possvel gerar recomendaes no momento.",sources:h}}catch(u){console.warn("Google Search Grounding failed, retrying without search...",u);try{return{text:((await n.models.generateContent({model:"gemini-3-flash-preview",contents:o+`

(Nota: A pesquisa em tempo real falhou. Use seu conhecimento geral.)`})).text||"Sem resposta.")+`

 *Nota: O acesso  pesquisa em tempo real falhou. As taxas mencionadas podem ser estimativas baseadas no conhecimento geral do modelo.*`,sources:[]}}catch(c){return console.error("Investment Advice Error (Fallback):",c),{text:`Erro ao consultar IA: ${c.message||"Erro desconhecido"}. Verifique sua chave API ou tente novamente mais tarde.`,sources:[]}}}},BZ=async(t,e,n)=>{var l;const r=vu();if(!r)return null;const i=new jf({apiKey:r}),o=new Map;t.forEach(u=>{o.set(u.type,(o.get(u.type)||0)+u.amount)});const s=Array.from(o.entries()).map(([u,c])=>`${u}: R$ ${c.toFixed(2)}`).join(", "),a=`
      Atue como um Gestor de Private Banking. O cliente tem ${n} anos e perfil de risco: ${e.toUpperCase()}.
      
      Carteira Atual Agregada: ${s||"R$ 0,00 (Vazia)"}

      Sua tarefa  analisar a alocao de ativos e sugerir o rebalanceamento ideal baseado nas melhores prticas de Wealth Management (como Bridgewater/Arta) adaptado ao Brasil.
      
      RETORNE APENAS JSON VLIDO. NO USE MARKDOWN. Siga este esquema:
      {
        "analysisText": "Pargrafo curto (max 300 chars) com sua viso macro sobre a carteira do cliente.",
        "currentAllocation": [ {"name": "Categoria", "value": %_atual (0-100)} ],
        "suggestedAllocation": [ {"name": "Categoria", "value": %_ideal (0-100)} ],
        "actionItems": [
           {"title": "Ao Ttica", "type": "buy" | "sell" | "hold", "description": "Explicao curta"}
        ]
      }
      
      Regras:
      1. 'suggestedAllocation' deve somar 100.
      2. Categorias sugeridas podem ser: 'Renda Fixa Ps', 'Renda Fixa Pr/IPCA', 'Aes Brasil', 'Aes Global', 'FIIs', 'Cripto/Alternativos', 'Reserva'.
      3. Se a carteira estiver vazia, sugira a alocao ideal do zero.
    `;try{const c=((l=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:l.trim())||"{}";return JSON.parse(c)}catch(u){return console.error("Wealth Analysis Error:",u),null}};async function*GZ(t,e,n){const r=vu();if(!r){yield"Por favor, configure sua API Key nas preferncias do menu.";return}const i=new jf({apiKey:r}),o=n.transactions.filter(_=>_.type==="income").reduce((_,E)=>_+E.amount,0),s=n.transactions.filter(_=>_.type==="expense").reduce((_,E)=>_+E.amount,0),a=n.investments.reduce((_,E)=>_+E.amount,0),l=n.debts.reduce((_,E)=>_+E.currentAmount,0),u=n.transactions.sort((_,E)=>new Date(E.date).getTime()-new Date(_.date).getTime()).slice(0,30).map(_=>`- ${_.date}: ${_.description} (${_.type}) R$ ${_.amount} [${_.category}] Status: ${_.status}`).join(`
`),c=n.investments.map(_=>`- ${_.name} (${_.type}): R$ ${_.amount} (Meta: R$ ${_.targetAmount})`).join(`
`),d=n.debts.map(_=>`- ${_.creditor}: R$ ${_.currentAmount} (Status: ${_.status}, Vence: ${_.dueDate})`).join(`
`);let h="Neutro";l>a*2?h="Endividado (Foco em quitao)":a>s*6?h="Investidor (Foco em otimizao)":o<s&&(h="Dficit (Foco em corte de gastos)");const y=`
    RELATRIO FINANCEIRO DO USURIO (Contexto Interno):
    
    1. PERFIL IDENTIFICADO: ${h}
    2. RESUMO:
       - Renda Total: R$ ${o.toFixed(2)}
       - Despesas Totais: R$ ${s.toFixed(2)}
       - Saldo: R$ ${(o-s).toFixed(2)}
       - Total Investido: R$ ${a.toFixed(2)}
       - Dvidas Ativas: R$ ${l.toFixed(2)}
    3. LTIMAS TRANSAES:
    ${u}
    4. INVESTIMENTOS:
    ${c}
    5. DVIDAS:
    ${d}
  `,v=`
    Voc  o NEXO AI, um assistente financeiro pessoal de elite.
    OBJETIVO: Ajudar o usurio a gerenciar suas finanas com base no perfil identificado: ${h}.
    CONTEXTO: ${y}
    DIRETRIZES:
    - Responda de forma concisa e amigvel.
    - Se o usurio perguntar sobre o saldo, gastos especficos ou investimentos, consulte o relatrio acima.
    - Seja proativo: se vir uma dvida vencendo ou gasto alto, pode alertar sutilmente.
    - Use Markdown para formatar valores e listas.
  `,b=i.chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:v}}),w=`
    [Histrico Recente]:
    ${e.slice(-6).map(_=>`${_.role==="user"?"Usurio":"Modelo"}: ${_.content}`).join(`
`)}
    
    [Nova Mensagem]: ${t}
  `;try{const _=await b.sendMessageStream({message:w});for await(const E of _)E.text&&(yield E.text)}catch(_){console.error(_),yield"Erro de conexo com o crebro digital. Verifique sua Chave de API."}}const zZ=({onGuestLogin:t})=>{const[e,n]=B.useState(!1),[r,i]=B.useState(""),[o,s]=B.useState(""),[a,l]=B.useState(""),[u,c]=B.useState(""),[d,h]=B.useState(!1),[y,v]=B.useState(!1),[b,x]=B.useState(!1),w="028.268.001-24",_="Alexandre Magno S. Linhares";B.useEffect(()=>{const T=Ha.app.options.apiKey;(!T||T==="SUA_API_KEY_AQUI"||T.includes("SUA_API_KEY"))&&v(!0)},[]);const E=T=>{console.error(T);let I="Erro ao autenticar. Verifique suas credenciais.";T.code==="auth/email-already-in-use"&&(I="Este e-mail j est em uso."),T.code==="auth/invalid-email"&&(I="E-mail invlido."),T.code==="auth/weak-password"&&(I="A senha deve ter pelo menos 6 caracteres."),(T.code==="auth/user-not-found"||T.code==="auth/wrong-password")&&(I="E-mail ou senha incorretos."),T.code==="auth/invalid-credential"&&(I="Credenciais invlidas."),T.code==="auth/invalid-api-key"&&(I="Chave de API invlida.",v(!0)),T.code==="auth/unauthorized-domain"?(I="Domnio no autorizado pelo Firebase.",c(window.location.hostname)):c(""),l(I)},P=async T=>{T.preventDefault(),l(""),c(""),h(!0);try{e?await G7(Ha,r,o):await z7(Ha,r,o)}catch(I){E(I)}finally{h(!1)}},S=async()=>{l(""),c(""),h(!0);const T=new mi;try{await p9(Ha,T)}catch(I){E(I)}finally{h(!1)}},k=()=>{navigator.clipboard.writeText(u),alert("Domnio copiado!")},C=()=>{navigator.clipboard.writeText(w),x(!0),setTimeout(()=>x(!1),2e3)};return y?f.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-slate-700 animate-scale-in flex flex-col md:flex-row",children:[f.jsxs("div",{className:"bg-indigo-600 p-8 text-white md:w-1/3 flex flex-col items-center justify-center text-center",children:[f.jsx(r6,{className:"w-16 h-16 mb-4 opacity-80"}),f.jsx("h2",{className:"text-xl font-bold",children:"Configurao Necessria"}),f.jsx("p",{className:"text-indigo-100 text-sm mt-2",children:"Para usar o modo online, voc precisa conectar seu Firebase."})]}),f.jsxs("div",{className:"p-8 md:w-2/3",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4",children:"Siga estes passos:"}),f.jsxs("div",{className:"space-y-4 text-sm text-slate-600 dark:text-slate-300",children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"1"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Crie o Banco de Dados"}),f.jsxs("p",{children:["No Console do Firebase, v em ",f.jsx("strong",{children:"Firestore Database"}),', clique em "Criar banco de dados", escolha a regio (nam5) e clique em "Iniciar no modo de produo".']})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"2"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Ative o Login"}),f.jsxs("p",{children:["V em ",f.jsx("strong",{children:"Authentication"}),' > Sign-in method e ative "E-mail/senha".']})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"3"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Copie as Chaves"}),f.jsxs("p",{children:['V nas Configuraes do Projeto (), role at "Seus aplicativos" e copie o objeto ',f.jsx("code",{children:"firebaseConfig"}),"."]})]})]}),f.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-3 rounded-lg text-xs",children:[f.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-400 flex items-center gap-1",children:[f.jsx(pd,{className:"w-3 h-3"})," Ao Necessria no Cdigo"]}),f.jsxs("p",{className:"mt-1",children:["Abra o arquivo ",f.jsx("code",{children:"services/firebase.ts"})," e substitua ",f.jsx("code",{children:'"SUA_API_KEY_AQUI"'})," pelos dados reais que voc copiou."]})]})]}),f.jsxs("button",{onClick:t,className:"w-full mt-6 py-3 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[f.jsx(PA,{className:"w-4 h-4"}),"Pular e Usar Modo Offline (Convidado)"]})]})]})}):f.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-900 flex font-sans",children:[f.jsxs("div",{className:"w-full md:w-[45%] lg:w-[40%] flex flex-col justify-center p-8 md:p-12 lg:p-16 relative overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-10",children:[f.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-lg shadow-indigo-500/30",children:f.jsx(Yw,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{className:"leading-tight",children:[f.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"NEXO"}),f.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Financial Hub"})]})]}),f.jsxs("div",{className:"max-w-sm w-full mx-auto",children:[f.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:e?"Criar Conta":"Acesse sua Conta"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:e?"Comece a controlar suas finanas hoje.":"Bem-vindo de volta! Por favor, insira seus dados."}),a&&f.jsxs("div",{className:"mb-6 p-4 bg-rose-50 dark:bg-rose-900/20 border-l-4 border-rose-500 rounded-r-lg flex flex-col gap-1 animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-2 text-rose-700 dark:text-rose-400 font-semibold text-sm",children:[f.jsx(Kp,{className:"w-4 h-4"}),f.jsx("span",{children:a})]}),u&&f.jsxs("div",{className:"mt-2 pl-6",children:[f.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Domnio no autorizado:"}),f.jsx("code",{className:"text-xs bg-white px-1 py-0.5 rounded border border-rose-200 block mb-2",children:u}),f.jsx("button",{onClick:k,className:"text-xs underline text-rose-600",children:"Copiar Domnio"})]})]}),f.jsxs("form",{onSubmit:P,className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"E-mail"}),f.jsx("input",{type:"email",required:!0,value:r,onChange:T=>i(T.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:"nome@exemplo.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"Senha"}),f.jsx("input",{type:"password",required:!0,minLength:6,value:o,onChange:T=>s(T.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:""}),!e&&f.jsx("div",{className:"flex justify-end mt-1",children:f.jsx("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400",children:"Esqueceu a senha?"})})]}),f.jsx("button",{type:"submit",disabled:d,className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-2",children:d?f.jsx(Hg,{className:"w-5 h-5 animate-spin"}):e?"Cadastrar":"Entrar"})]}),f.jsxs("div",{className:"relative my-8",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),f.jsx("div",{className:"relative flex justify-center text-sm",children:f.jsx("span",{className:"px-4 bg-white dark:bg-slate-900 text-slate-400 font-medium",children:"ou continue com"})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{type:"button",onClick:S,disabled:d,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",color:"#4285F4"}),f.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",color:"#34A853"}),f.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",color:"#FBBC05"}),f.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",color:"#EA4335"})]}),"Google"]}),f.jsxs("button",{type:"button",onClick:t,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[f.jsx(PA,{className:"w-5 h-5 text-slate-500"}),"Convidado"]})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:[e?"J  cliente?":"Ainda no tem conta?",f.jsx("button",{onClick:()=>n(!e),className:"ml-1 text-indigo-600 dark:text-indigo-400 font-bold hover:underline",children:e?"Fazer Login":"Cadastre-se grtis"})]})}),f.jsx("div",{className:"mt-10 mb-4",children:f.jsxs("div",{onClick:C,className:"group relative overflow-hidden bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-slate-800 dark:to-indigo-900/20 border-2 border-dashed border-indigo-200 dark:border-indigo-700/50 hover:border-indigo-400 dark:hover:border-indigo-500 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:shadow-indigo-500/10 transition-all transform hover:-translate-y-1",children:[f.jsx("div",{className:"absolute top-0 right-0 bg-indigo-600 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10",children:"Apoie o Dev "}),f.jsxs("div",{className:"flex items-center gap-4 relative z-0",children:[f.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-3 rounded-full group-hover:scale-110 transition-transform shadow-inner",children:f.jsx(dD,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400 fill-indigo-200 dark:fill-indigo-900"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-xs font-bold text-indigo-800 dark:text-indigo-300 uppercase tracking-wide mb-1",children:"Gostou? Mande um Pix!"}),f.jsxs("div",{className:"flex items-center gap-2 bg-white/50 dark:bg-black/20 p-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800/50",children:[f.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 truncate select-all",children:w}),f.jsx("span",{className:"text-[9px] bg-indigo-200 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-200 px-1.5 rounded font-sans font-bold",children:"Chave CPF"})]})]}),f.jsx("div",{className:"text-indigo-300 group-hover:text-indigo-600 transition-colors",children:b?f.jsx(za,{className:"w-6 h-6 text-emerald-500"}):f.jsx(aD,{className:"w-6 h-6"})})]}),b&&f.jsx("div",{className:"absolute inset-0 bg-indigo-900/90 backdrop-blur-sm flex items-center justify-center text-white font-bold rounded-xl animate-fade-in z-20",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(za,{className:"w-5 h-5 text-emerald-400"}),"Chave Pix Copiada!"]})}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-center opacity-60 group-hover:opacity-100 transition-opacity",children:_})]})}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-slate-400 hover:text-indigo-500 transition-colors inline-flex items-center gap-1",children:[f.jsx(pD,{className:"w-3 h-3"})," Alexandre Magno"]})})]})]}),f.jsxs("div",{className:"hidden md:flex flex-1 relative bg-[#4c35de] overflow-hidden items-center justify-center p-8",children:[f.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-white opacity-5 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-400 opacity-10 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/4"}),f.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"40px 40px"}}),f.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[f.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 shadow-2xl mb-12 transform hover:scale-[1.02] transition-transform duration-500",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-white/10 pb-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/60 text-xs font-semibold uppercase",children:"Performance Visualisation"}),f.jsx("p",{className:"text-white text-lg font-bold mt-1",children:"Crescimento Patrimonial"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-300 rounded text-xs font-bold",children:"+6.9%"}),f.jsx("div",{className:"p-1 bg-white/10 rounded text-white/70",children:f.jsx(fd,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"h-48 flex items-end justify-between gap-3 px-2",children:[35,55,45,70,60,85,75].map((T,I)=>f.jsxs("div",{className:"w-full bg-white/10 rounded-t-lg relative group overflow-hidden",style:{height:"100%"},children:[f.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-indigo-400 to-purple-300 rounded-t-lg transition-all duration-1000 group-hover:opacity-90",style:{height:`${T}%`}}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/30",style:{bottom:`${T}%`}})]},I))}),f.jsxs("div",{className:"flex justify-between mt-3 text-xs text-white/40 font-medium px-2",children:[f.jsx("span",{children:"Jan"}),f.jsx("span",{children:"Fev"}),f.jsx("span",{children:"Mar"}),f.jsx("span",{children:"Abr"}),f.jsx("span",{children:"Mai"}),f.jsx("span",{children:"Jun"}),f.jsx("span",{children:"Jul"})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Bem-vindo de volta"}),f.jsxs("p",{className:"text-indigo-200 text-lg leading-relaxed",children:["Gerencie suas finanas com inteligncia, ",f.jsx("br",{}),"segurana e clareza total."]})]})]}),f.jsx("div",{className:"absolute top-8 right-8",children:f.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur flex items-center justify-center border border-white/20 text-xl shadow-lg cursor-default",children:""})})]})]})};function E$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=E$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ie(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=E$(t))&&(r&&(r+=" "),r+=e);return r}var qZ=Array.isArray,jn=qZ,HZ=typeof uh=="object"&&uh&&uh.Object===Object&&uh,T$=HZ,WZ=T$,KZ=typeof self=="object"&&self&&self.Object===Object&&self,YZ=WZ||KZ||Function("return this")(),ii=YZ,JZ=ii,XZ=JZ.Symbol,Lf=XZ,Dk=Lf,S$=Object.prototype,QZ=S$.hasOwnProperty,ZZ=S$.toString,sc=Dk?Dk.toStringTag:void 0;function eee(t){var e=QZ.call(t,sc),n=t[sc];try{t[sc]=void 0;var r=!0}catch{}var i=ZZ.call(t);return r&&(e?t[sc]=n:delete t[sc]),i}var tee=eee,nee=Object.prototype,ree=nee.toString;function iee(t){return ree.call(t)}var oee=iee,jk=Lf,see=tee,aee=oee,lee="[object Null]",uee="[object Undefined]",Lk=jk?jk.toStringTag:void 0;function cee(t){return t==null?t===void 0?uee:lee:Lk&&Lk in Object(t)?see(t):aee(t)}var Xi=cee;function dee(t){return t!=null&&typeof t=="object"}var Qi=dee,fee=Xi,hee=Qi,pee="[object Symbol]";function mee(t){return typeof t=="symbol"||hee(t)&&fee(t)==pee}var xu=mee,gee=jn,yee=xu,vee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xee=/^\w*$/;function bee(t,e){if(gee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||yee(t)?!0:xee.test(t)||!vee.test(t)||e!=null&&t in Object(e)}var hT=bee;function _ee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ts=_ee;const bu=Ke(ts);var wee=Xi,Eee=ts,Tee="[object AsyncFunction]",See="[object Function]",Aee="[object GeneratorFunction]",Iee="[object Proxy]";function Cee(t){if(!Eee(t))return!1;var e=wee(t);return e==See||e==Aee||e==Tee||e==Iee}var pT=Cee;const be=Ke(pT);var kee=ii,Pee=kee["__core-js_shared__"],Nee=Pee,a0=Nee,$k=function(){var t=/[^.]+$/.exec(a0&&a0.keys&&a0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ree(t){return!!$k&&$k in t}var Oee=Ree,Mee=Function.prototype,Dee=Mee.toString;function jee(t){if(t!=null){try{return Dee.call(t)}catch{}try{return t+""}catch{}}return""}var A$=jee,Lee=pT,$ee=Oee,Vee=ts,Fee=A$,Uee=/[\\^$.*+?()[\]{}|]/g,Bee=/^\[object .+?Constructor\]$/,Gee=Function.prototype,zee=Object.prototype,qee=Gee.toString,Hee=zee.hasOwnProperty,Wee=RegExp("^"+qee.call(Hee).replace(Uee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kee(t){if(!Vee(t)||$ee(t))return!1;var e=Lee(t)?Wee:Bee;return e.test(Fee(t))}var Yee=Kee;function Jee(t,e){return t==null?void 0:t[e]}var Xee=Jee,Qee=Yee,Zee=Xee;function ete(t,e){var n=Zee(t,e);return Qee(n)?n:void 0}var da=ete,tte=da,nte=tte(Object,"create"),yy=nte,Vk=yy;function rte(){this.__data__=Vk?Vk(null):{},this.size=0}var ite=rte;function ote(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ste=ote,ate=yy,lte="__lodash_hash_undefined__",ute=Object.prototype,cte=ute.hasOwnProperty;function dte(t){var e=this.__data__;if(ate){var n=e[t];return n===lte?void 0:n}return cte.call(e,t)?e[t]:void 0}var fte=dte,hte=yy,pte=Object.prototype,mte=pte.hasOwnProperty;function gte(t){var e=this.__data__;return hte?e[t]!==void 0:mte.call(e,t)}var yte=gte,vte=yy,xte="__lodash_hash_undefined__";function bte(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vte&&e===void 0?xte:e,this}var _te=bte,wte=ite,Ete=ste,Tte=fte,Ste=yte,Ate=_te;function _u(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_u.prototype.clear=wte;_u.prototype.delete=Ete;_u.prototype.get=Tte;_u.prototype.has=Ste;_u.prototype.set=Ate;var Ite=_u;function Cte(){this.__data__=[],this.size=0}var kte=Cte;function Pte(t,e){return t===e||t!==t&&e!==e}var mT=Pte,Nte=mT;function Rte(t,e){for(var n=t.length;n--;)if(Nte(t[n][0],e))return n;return-1}var vy=Rte,Ote=vy,Mte=Array.prototype,Dte=Mte.splice;function jte(t){var e=this.__data__,n=Ote(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Dte.call(e,n,1),--this.size,!0}var Lte=jte,$te=vy;function Vte(t){var e=this.__data__,n=$te(e,t);return n<0?void 0:e[n][1]}var Fte=Vte,Ute=vy;function Bte(t){return Ute(this.__data__,t)>-1}var Gte=Bte,zte=vy;function qte(t,e){var n=this.__data__,r=zte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Hte=qte,Wte=kte,Kte=Lte,Yte=Fte,Jte=Gte,Xte=Hte;function wu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wu.prototype.clear=Wte;wu.prototype.delete=Kte;wu.prototype.get=Yte;wu.prototype.has=Jte;wu.prototype.set=Xte;var xy=wu,Qte=da,Zte=ii,ene=Qte(Zte,"Map"),gT=ene,Fk=Ite,tne=xy,nne=gT;function rne(){this.size=0,this.__data__={hash:new Fk,map:new(nne||tne),string:new Fk}}var ine=rne;function one(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var sne=one,ane=sne;function lne(t,e){var n=t.__data__;return ane(e)?n[typeof e=="string"?"string":"hash"]:n.map}var by=lne,une=by;function cne(t){var e=une(this,t).delete(t);return this.size-=e?1:0,e}var dne=cne,fne=by;function hne(t){return fne(this,t).get(t)}var pne=hne,mne=by;function gne(t){return mne(this,t).has(t)}var yne=gne,vne=by;function xne(t,e){var n=vne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var bne=xne,_ne=ine,wne=dne,Ene=pne,Tne=yne,Sne=bne;function Eu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eu.prototype.clear=_ne;Eu.prototype.delete=wne;Eu.prototype.get=Ene;Eu.prototype.has=Tne;Eu.prototype.set=Sne;var yT=Eu,I$=yT,Ane="Expected a function";function vT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ane);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(vT.Cache||I$),n}vT.Cache=I$;var C$=vT;const Ine=Ke(C$);var Cne=C$,kne=500;function Pne(t){var e=Cne(t,function(r){return n.size===kne&&n.clear(),r}),n=e.cache;return e}var Nne=Pne,Rne=Nne,One=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mne=/\\(\\)?/g,Dne=Rne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(One,function(n,r,i,o){e.push(i?o.replace(Mne,"$1"):r||n)}),e}),jne=Dne;function Lne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var xT=Lne,Uk=Lf,$ne=xT,Vne=jn,Fne=xu,Bk=Uk?Uk.prototype:void 0,Gk=Bk?Bk.toString:void 0;function k$(t){if(typeof t=="string")return t;if(Vne(t))return $ne(t,k$)+"";if(Fne(t))return Gk?Gk.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Une=k$,Bne=Une;function Gne(t){return t==null?"":Bne(t)}var P$=Gne,zne=jn,qne=hT,Hne=jne,Wne=P$;function Kne(t,e){return zne(t)?t:qne(t,e)?[t]:Hne(Wne(t))}var N$=Kne,Yne=xu;function Jne(t){if(typeof t=="string"||Yne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _y=Jne,Xne=N$,Qne=_y;function Zne(t,e){e=Xne(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Qne(e[n++])];return n&&n==r?t:void 0}var bT=Zne,ere=bT;function tre(t,e,n){var r=t==null?void 0:ere(t,e);return r===void 0?n:r}var R$=tre;const Wn=Ke(R$);function nre(t){return t==null}var rre=nre;const Ae=Ke(rre);var ire=Xi,ore=jn,sre=Qi,are="[object String]";function lre(t){return typeof t=="string"||!ore(t)&&sre(t)&&ire(t)==are}var ure=lre;const Zs=Ke(ure);var O$={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T=Symbol.for("react.element"),wT=Symbol.for("react.portal"),wy=Symbol.for("react.fragment"),Ey=Symbol.for("react.strict_mode"),Ty=Symbol.for("react.profiler"),Sy=Symbol.for("react.provider"),Ay=Symbol.for("react.context"),cre=Symbol.for("react.server_context"),Iy=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),ky=Symbol.for("react.suspense_list"),Py=Symbol.for("react.memo"),Ny=Symbol.for("react.lazy"),dre=Symbol.for("react.offscreen"),M$;M$=Symbol.for("react.module.reference");function mr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _T:switch(t=t.type,t){case wy:case Ty:case Ey:case Cy:case ky:return t;default:switch(t=t&&t.$$typeof,t){case cre:case Ay:case Iy:case Ny:case Py:case Sy:return t;default:return e}}case wT:return e}}}Xe.ContextConsumer=Ay;Xe.ContextProvider=Sy;Xe.Element=_T;Xe.ForwardRef=Iy;Xe.Fragment=wy;Xe.Lazy=Ny;Xe.Memo=Py;Xe.Portal=wT;Xe.Profiler=Ty;Xe.StrictMode=Ey;Xe.Suspense=Cy;Xe.SuspenseList=ky;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return mr(t)===Ay};Xe.isContextProvider=function(t){return mr(t)===Sy};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_T};Xe.isForwardRef=function(t){return mr(t)===Iy};Xe.isFragment=function(t){return mr(t)===wy};Xe.isLazy=function(t){return mr(t)===Ny};Xe.isMemo=function(t){return mr(t)===Py};Xe.isPortal=function(t){return mr(t)===wT};Xe.isProfiler=function(t){return mr(t)===Ty};Xe.isStrictMode=function(t){return mr(t)===Ey};Xe.isSuspense=function(t){return mr(t)===Cy};Xe.isSuspenseList=function(t){return mr(t)===ky};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===wy||t===Ty||t===Ey||t===Cy||t===ky||t===dre||typeof t=="object"&&t!==null&&(t.$$typeof===Ny||t.$$typeof===Py||t.$$typeof===Sy||t.$$typeof===Ay||t.$$typeof===Iy||t.$$typeof===M$||t.getModuleId!==void 0)};Xe.typeOf=mr;O$.exports=Xe;var fre=O$.exports,hre=Xi,pre=Qi,mre="[object Number]";function gre(t){return typeof t=="number"||pre(t)&&hre(t)==mre}var D$=gre;const yre=Ke(D$);var vre=D$;function xre(t){return vre(t)&&t!=+t}var bre=xre;const Tu=Ke(bre);var wn=function(e){return e===0?0:e>0?1:-1},Cs=function(e){return Zs(e)&&e.indexOf("%")===e.length-1},oe=function(e){return yre(e)&&!Tu(e)},_re=function(e){return Ae(e)},Dt=function(e){return oe(e)||Zs(e)},wre=0,fa=function(e){var n=++wre;return"".concat(e||"").concat(n)},En=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!Zs(e))return r;var o;if(Cs(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Tu(o)&&(o=r),i&&o>n&&(o=n),o},vo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ere=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ht=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function Em(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Wn(r,e))===n})}var Tre=function(e,n){return oe(e)&&oe(n)?e-n:Zs(e)&&Zs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function fl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}var Sre=["viewBox","children"],Are=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zk=["points","pathLength"],l0={svg:Sre,polygon:zk,polyline:zk},ET=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Tm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!bu(r))return null;var i={};return Object.keys(r).forEach(function(o){ET.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Ire=function(e,n,r){return function(i){return e(n,r,i),null}},ea=function(e,n,r){if(!bu(e)||Eb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];ET.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Ire(s,n,r))}),i},Cre=["children"],kre=["children"];function qk(t,e){if(t==null)return{};var n=Pre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}var Hk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ci=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Wk=null,u0=null,TT=function t(e){if(e===Wk&&Array.isArray(u0))return u0;var n=[];return B.Children.forEach(e,function(r){Ae(r)||(fre.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),u0=n,Wk=e,n};function Kn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ci(i)}):r=[Ci(e)],TT(t).forEach(function(i){var o=Wn(i,"type.displayName")||Wn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Un(t,e){var n=Kn(t,e);return n&&n[0]}var Kk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},Nre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Rre=function(e){return e&&e.type&&Zs(e.type)&&Nre.indexOf(e.type)>=0},j$=function(e){return e&&Tb(e)==="object"&&"clipDot"in e},Ore=function(e,n,r,i){var o,s=(o=l0==null?void 0:l0[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!be(e)&&(i&&s.includes(n)||Are.includes(n))||r&&ET.includes(n)},ge=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!bu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Ore((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},Sb=function t(e,n){if(e===n)return!0;var r=B.Children.count(e);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Yk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!Yk(o,s))return!1}return!0},Yk=function(e,n){if(Ae(e)&&Ae(n))return!0;if(!Ae(e)&&!Ae(n)){var r=e.props||{},i=r.children,o=qk(r,Cre),s=n.props||{},a=s.children,l=qk(s,kre);return i&&a?fl(o,l)&&Sb(i,a):!i&&!a?fl(o,l):!1}return!1},Jk=function(e,n){var r=[],i={};return TT(e).forEach(function(o,s){if(Rre(o))r.push(o);else if(o){var a=Ci(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var d=u(o,a,s);r.push(d),i[a]=!0}}}),r},Mre=function(e){var n=e&&e.type;return n&&Hk[n]?Hk[n]:null},Dre=function(e,n){return TT(n).indexOf(e)},jre=["children","width","height","viewBox","className","style","title","desc"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(this,arguments)}function Lre(t,e){if(t==null)return{};var n=$re(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $re(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ib(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=Lre(t,jre),c=i||{width:n,height:r,x:0,y:0},d=Ie("recharts-surface",o);return U.createElement("svg",Ab({},ge(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),U.createElement("title",null,a),U.createElement("desc",null,l),e)}var Vre=["children","className"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb.apply(this,arguments)}function Fre(t,e){if(t==null)return{};var n=Ure(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ure(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Oe=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=Fre(t,Vre),o=Ie("recharts-layer",r);return U.createElement("g",Cb({className:o},ge(i,!0),{ref:e}),n)}),Rr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Bre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Gre=Bre,zre=Gre;function qre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:zre(t,e,n)}var Hre=qre,Wre="\\ud800-\\udfff",Kre="\\u0300-\\u036f",Yre="\\ufe20-\\ufe2f",Jre="\\u20d0-\\u20ff",Xre=Kre+Yre+Jre,Qre="\\ufe0e\\ufe0f",Zre="\\u200d",eie=RegExp("["+Zre+Wre+Xre+Qre+"]");function tie(t){return eie.test(t)}var L$=tie;function nie(t){return t.split("")}var rie=nie,$$="\\ud800-\\udfff",iie="\\u0300-\\u036f",oie="\\ufe20-\\ufe2f",sie="\\u20d0-\\u20ff",aie=iie+oie+sie,lie="\\ufe0e\\ufe0f",uie="["+$$+"]",kb="["+aie+"]",Pb="\\ud83c[\\udffb-\\udfff]",cie="(?:"+kb+"|"+Pb+")",V$="[^"+$$+"]",F$="(?:\\ud83c[\\udde6-\\uddff]){2}",U$="[\\ud800-\\udbff][\\udc00-\\udfff]",die="\\u200d",B$=cie+"?",G$="["+lie+"]?",fie="(?:"+die+"(?:"+[V$,F$,U$].join("|")+")"+G$+B$+")*",hie=G$+B$+fie,pie="(?:"+[V$+kb+"?",kb,F$,U$,uie].join("|")+")",mie=RegExp(Pb+"(?="+Pb+")|"+pie+hie,"g");function gie(t){return t.match(mie)||[]}var yie=gie,vie=rie,xie=L$,bie=yie;function _ie(t){return xie(t)?bie(t):vie(t)}var wie=_ie,Eie=Hre,Tie=L$,Sie=wie,Aie=P$;function Iie(t){return function(e){e=Aie(e);var n=Tie(e)?Sie(e):void 0,r=n?n[0]:e.charAt(0),i=n?Eie(n,1).join(""):e.slice(1);return r[t]()+i}}var Cie=Iie,kie=Cie,Pie=kie("toUpperCase"),Nie=Pie;const Ry=Ke(Nie);function rt(t){return function(){return t}}const z$=Math.cos,Sm=Math.sin,$r=Math.sqrt,Am=Math.PI,Oy=2*Am,Nb=Math.PI,Rb=2*Nb,vs=1e-6,Rie=Rb-vs;function q$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Oie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return q$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Mie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?q$:Oie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>vs)if(!(Math.abs(d*l-u*c)>vs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-a,b=l*l+u*u,x=y*y+v*v,w=Math.sqrt(b),_=Math.sqrt(h),E=o*Math.tan((Nb-Math.acos((b+h-x)/(2*w*_)))/2),P=E/_,S=E/w;Math.abs(P-1)>vs&&this._append`L${e+P*c},${n+P*d}`,this._append`A${o},${o},0,0,${+(d*y>c*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>vs||Math.abs(this._y1-c)>vs)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Rb+Rb),h>Rie?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>vs&&this._append`A${r},${r},0,${+(h>=Nb)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ST(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Mie(e)}function AT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function H$(t){this._context=t}H$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function My(t){return new H$(t)}function W$(t){return t[0]}function K$(t){return t[1]}function Y$(t,e){var n=rt(!0),r=null,i=My,o=null,s=ST(a);t=typeof t=="function"?t:t===void 0?W$:rt(t),e=typeof e=="function"?e:e===void 0?K$:rt(e);function a(l){var u,c=(l=AT(l)).length,d,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:rt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:rt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:rt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function $h(t,e,n){var r=null,i=rt(!0),o=null,s=My,a=null,l=ST(u);t=typeof t=="function"?t:t===void 0?W$:rt(+t),e=typeof e=="function"?e:rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?K$:rt(+n);function u(d){var h,y,v,b=(d=AT(d)).length,x,w=!1,_,E=new Array(b),P=new Array(b);for(o==null&&(a=s(_=l())),h=0;h<=b;++h){if(!(h<b&&i(x=d[h],h,d))===w)if(w=!w)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=y;--v)a.point(E[v],P[v]);a.lineEnd(),a.areaEnd()}w&&(E[h]=+t(x,h,d),P[h]=+e(x,h,d),a.point(r?+r(x,h,d):E[h],n?+n(x,h,d):P[h]))}if(_)return a=null,_+""||null}function c(){return Y$().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:rt(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:rt(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:rt(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:rt(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:rt(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:rt(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:rt(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}class J${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Die(t){return new J$(t,!0)}function jie(t){return new J$(t,!1)}const IT={draw(t,e){const n=$r(e/Am);t.moveTo(n,0),t.arc(0,0,n,0,Oy)}},Lie={draw(t,e){const n=$r(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},X$=$r(1/3),$ie=X$*2,Vie={draw(t,e){const n=$r(e/$ie),r=n*X$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Fie={draw(t,e){const n=$r(e),r=-n/2;t.rect(r,r,n,n)}},Uie=.8908130915292852,Q$=Sm(Am/10)/Sm(7*Am/10),Bie=Sm(Oy/10)*Q$,Gie=-z$(Oy/10)*Q$,zie={draw(t,e){const n=$r(e*Uie),r=Bie*n,i=Gie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Oy*o/5,a=z$(s),l=Sm(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},c0=$r(3),qie={draw(t,e){const n=-$r(e/(c0*3));t.moveTo(0,n*2),t.lineTo(-c0*n,-n),t.lineTo(c0*n,-n),t.closePath()}},Qn=-.5,Zn=$r(3)/2,Ob=1/$r(12),Hie=(Ob/2+1)*3,Wie={draw(t,e){const n=$r(e/Hie),r=n/2,i=n*Ob,o=r,s=n*Ob+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Qn*r-Zn*i,Zn*r+Qn*i),t.lineTo(Qn*o-Zn*s,Zn*o+Qn*s),t.lineTo(Qn*a-Zn*l,Zn*a+Qn*l),t.lineTo(Qn*r+Zn*i,Qn*i-Zn*r),t.lineTo(Qn*o+Zn*s,Qn*s-Zn*o),t.lineTo(Qn*a+Zn*l,Qn*l-Zn*a),t.closePath()}};function Kie(t,e){let n=null,r=ST(i);t=typeof t=="function"?t:rt(t||IT),e=typeof e=="function"?e:rt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:rt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:rt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Im(){}function Cm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Z$(t){this._context=t}Z$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yie(t){return new Z$(t)}function e4(t){this._context=t}e4.prototype={areaStart:Im,areaEnd:Im,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Jie(t){return new e4(t)}function t4(t){this._context=t}t4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xie(t){return new t4(t)}function n4(t){this._context=t}n4.prototype={areaStart:Im,areaEnd:Im,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Qie(t){return new n4(t)}function Xk(t){return t<0?-1:1}function Qk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Xk(o)+Xk(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Zk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function d0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function km(t){this._context=t}km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:d0(this,this._t0,Zk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,d0(this,Zk(this,n=Qk(this,t,e)),n);break;default:d0(this,this._t0,n=Qk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function r4(t){this._context=new i4(t)}(r4.prototype=Object.create(km.prototype)).point=function(t,e){km.prototype.point.call(this,e,t)};function i4(t){this._context=t}i4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Zie(t){return new km(t)}function eoe(t){return new r4(t)}function o4(t){this._context=t}o4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=eP(t),i=eP(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function eP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function toe(t){return new o4(t)}function Dy(t,e){this._context=t,this._t=e}Dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function noe(t){return new Dy(t,.5)}function roe(t){return new Dy(t,0)}function ioe(t){return new Dy(t,1)}function kl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Mb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ooe(t,e){return t[e]}function soe(t){const e=[];return e.key=t,e}function aoe(){var t=rt([]),e=Mb,n=kl,r=ooe;function i(o){var s=Array.from(t.apply(this,arguments),soe),a,l=s.length,u=-1,c;for(const d of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(d,s[a].key,u,o)]).data=d;for(a=0,c=AT(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:rt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:rt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Mb:typeof o=="function"?o:rt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??kl,i):n},i}function loe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}kl(t,e)}}function uoe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}kl(t,e)}}function coe(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],d=c[r][1]||0,h=c[r-1][1]||0,y=(d-h)/2,v=0;v<a;++v){var b=t[e[v]],x=b[r][1]||0,w=b[r-1][1]||0;y+=x-w}l+=d,u+=y*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,kl(t,e)}}function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}var doe=["type","size","sizeType"];function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function foe(t,e,n){return e=hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=poe(t,"string");return kd(e)=="symbol"?e:e+""}function poe(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function moe(t,e){if(t==null)return{};var n=goe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function goe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var s4={symbolCircle:IT,symbolCross:Lie,symbolDiamond:Vie,symbolSquare:Fie,symbolStar:zie,symbolTriangle:qie,symbolWye:Wie},yoe=Math.PI/180,voe=function(e){var n="symbol".concat(Ry(e));return s4[n]||IT},xoe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*yoe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},boe=function(e,n){s4["symbol".concat(Ry(e))]=n},CT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=moe(e,doe),u=nP(nP({},l),{},{type:r,size:o,sizeType:a}),c=function(){var x=voe(r),w=Kie().type(x).size(xoe(o,a,r));return w()},d=u.className,h=u.cx,y=u.cy,v=ge(u,!0);return h===+h&&y===+y&&o===+o?U.createElement("path",Db({},v,{className:Ie("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};CT.registerSymbol=boe;function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(this,arguments)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){Pd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function woe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l4(r.key),r)}}function Toe(t,e,n){return e&&Eoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Soe(t,e,n){return e=Pm(e),Aoe(t,a4()?Reflect.construct(e,n||[],Pm(t).constructor):e.apply(t,n))}function Aoe(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ioe(t)}function Ioe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a4=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pm(t)}function Coe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lb(t,e)}function Lb(t,e){return Lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lb(t,e)}function Pd(t,e,n){return e=l4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l4(t){var e=koe(t,"string");return Pl(e)=="symbol"?e:e+""}function koe(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var er=32,kT=function(t){function e(){return woe(this,e),Soe(this,e,arguments)}return Coe(e,t),Toe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=er/2,s=er/6,a=er/3,l=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:er,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(er,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(er/8,"h").concat(er,"v").concat(er*3/4,"h").concat(-er,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var u=_oe({},r);return delete u.legendIcon,U.cloneElement(r.legendIcon,u)}return U.createElement(CT,{fill:l,cx:o,cy:o,size:er,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:er,height:er},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var b=y.formatter||l,x=Ie(Pd(Pd({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var w=be(y.value)?null:y.value;Rr(!be(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=y.inactive?u:y.color;return U.createElement("li",jb({className:x,style:d,key:"legend-item-".concat(v)},ea(r.props,y,v)),U.createElement(Ib,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b?b(w,y,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(B.PureComponent);Pd(kT,"displayName","Legend");Pd(kT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Poe=xy;function Noe(){this.__data__=new Poe,this.size=0}var Roe=Noe;function Ooe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Moe=Ooe;function Doe(t){return this.__data__.get(t)}var joe=Doe;function Loe(t){return this.__data__.has(t)}var $oe=Loe,Voe=xy,Foe=gT,Uoe=yT,Boe=200;function Goe(t,e){var n=this.__data__;if(n instanceof Voe){var r=n.__data__;if(!Foe||r.length<Boe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Uoe(r)}return n.set(t,e),this.size=n.size,this}var zoe=Goe,qoe=xy,Hoe=Roe,Woe=Moe,Koe=joe,Yoe=$oe,Joe=zoe;function Su(t){var e=this.__data__=new qoe(t);this.size=e.size}Su.prototype.clear=Hoe;Su.prototype.delete=Woe;Su.prototype.get=Koe;Su.prototype.has=Yoe;Su.prototype.set=Joe;var u4=Su,Xoe="__lodash_hash_undefined__";function Qoe(t){return this.__data__.set(t,Xoe),this}var Zoe=Qoe;function ese(t){return this.__data__.has(t)}var tse=ese,nse=yT,rse=Zoe,ise=tse;function Nm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new nse;++e<n;)this.add(t[e])}Nm.prototype.add=Nm.prototype.push=rse;Nm.prototype.has=ise;var c4=Nm;function ose(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var d4=ose;function sse(t,e){return t.has(e)}var f4=sse,ase=c4,lse=d4,use=f4,cse=1,dse=2;function fse(t,e,n,r,i,o){var s=n&cse,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,y=n&dse?new ase:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var v=t[d],b=e[d];if(r)var x=s?r(b,v,d,e,t,o):r(v,b,d,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(y){if(!lse(e,function(w,_){if(!use(y,_)&&(v===w||i(v,w,n,r,o)))return y.push(_)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var h4=fse,hse=ii,pse=hse.Uint8Array,mse=pse;function gse(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var yse=gse;function vse(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var PT=vse,iP=Lf,oP=mse,xse=mT,bse=h4,_se=yse,wse=PT,Ese=1,Tse=2,Sse="[object Boolean]",Ase="[object Date]",Ise="[object Error]",Cse="[object Map]",kse="[object Number]",Pse="[object RegExp]",Nse="[object Set]",Rse="[object String]",Ose="[object Symbol]",Mse="[object ArrayBuffer]",Dse="[object DataView]",sP=iP?iP.prototype:void 0,f0=sP?sP.valueOf:void 0;function jse(t,e,n,r,i,o,s){switch(n){case Dse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Mse:return!(t.byteLength!=e.byteLength||!o(new oP(t),new oP(e)));case Sse:case Ase:case kse:return xse(+t,+e);case Ise:return t.name==e.name&&t.message==e.message;case Pse:case Rse:return t==e+"";case Cse:var a=_se;case Nse:var l=r&Ese;if(a||(a=wse),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Tse,s.set(t,e);var c=bse(a(t),a(e),r,i,o,s);return s.delete(t),c;case Ose:if(f0)return f0.call(t)==f0.call(e)}return!1}var Lse=jse;function $se(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var p4=$se,Vse=p4,Fse=jn;function Use(t,e,n){var r=e(t);return Fse(t)?r:Vse(r,n(t))}var Bse=Use;function Gse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var zse=Gse;function qse(){return[]}var Hse=qse,Wse=zse,Kse=Hse,Yse=Object.prototype,Jse=Yse.propertyIsEnumerable,aP=Object.getOwnPropertySymbols,Xse=aP?function(t){return t==null?[]:(t=Object(t),Wse(aP(t),function(e){return Jse.call(t,e)}))}:Kse,Qse=Xse;function Zse(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var eae=Zse,tae=Xi,nae=Qi,rae="[object Arguments]";function iae(t){return nae(t)&&tae(t)==rae}var oae=iae,lP=oae,sae=Qi,m4=Object.prototype,aae=m4.hasOwnProperty,lae=m4.propertyIsEnumerable,uae=lP(function(){return arguments}())?lP:function(t){return sae(t)&&aae.call(t,"callee")&&!lae.call(t,"callee")},NT=uae,Rm={exports:{}};function cae(){return!1}var dae=cae;Rm.exports;(function(t,e){var n=ii,r=dae,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Rm,Rm.exports);var g4=Rm.exports,fae=9007199254740991,hae=/^(?:0|[1-9]\d*)$/;function pae(t,e){var n=typeof t;return e=e??fae,!!e&&(n=="number"||n!="symbol"&&hae.test(t))&&t>-1&&t%1==0&&t<e}var RT=pae,mae=9007199254740991;function gae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mae}var OT=gae,yae=Xi,vae=OT,xae=Qi,bae="[object Arguments]",_ae="[object Array]",wae="[object Boolean]",Eae="[object Date]",Tae="[object Error]",Sae="[object Function]",Aae="[object Map]",Iae="[object Number]",Cae="[object Object]",kae="[object RegExp]",Pae="[object Set]",Nae="[object String]",Rae="[object WeakMap]",Oae="[object ArrayBuffer]",Mae="[object DataView]",Dae="[object Float32Array]",jae="[object Float64Array]",Lae="[object Int8Array]",$ae="[object Int16Array]",Vae="[object Int32Array]",Fae="[object Uint8Array]",Uae="[object Uint8ClampedArray]",Bae="[object Uint16Array]",Gae="[object Uint32Array]",at={};at[Dae]=at[jae]=at[Lae]=at[$ae]=at[Vae]=at[Fae]=at[Uae]=at[Bae]=at[Gae]=!0;at[bae]=at[_ae]=at[Oae]=at[wae]=at[Mae]=at[Eae]=at[Tae]=at[Sae]=at[Aae]=at[Iae]=at[Cae]=at[kae]=at[Pae]=at[Nae]=at[Rae]=!1;function zae(t){return xae(t)&&vae(t.length)&&!!at[yae(t)]}var qae=zae;function Hae(t){return function(e){return t(e)}}var y4=Hae,Om={exports:{}};Om.exports;(function(t,e){var n=T$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Om,Om.exports);var Wae=Om.exports,Kae=qae,Yae=y4,uP=Wae,cP=uP&&uP.isTypedArray,Jae=cP?Yae(cP):Kae,v4=Jae,Xae=eae,Qae=NT,Zae=jn,ele=g4,tle=RT,nle=v4,rle=Object.prototype,ile=rle.hasOwnProperty;function ole(t,e){var n=Zae(t),r=!n&&Qae(t),i=!n&&!r&&ele(t),o=!n&&!r&&!i&&nle(t),s=n||r||i||o,a=s?Xae(t.length,String):[],l=a.length;for(var u in t)(e||ile.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||tle(u,l)))&&a.push(u);return a}var sle=ole,ale=Object.prototype;function lle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ale;return t===n}var ule=lle;function cle(t,e){return function(n){return t(e(n))}}var x4=cle,dle=x4,fle=dle(Object.keys,Object),hle=fle,ple=ule,mle=hle,gle=Object.prototype,yle=gle.hasOwnProperty;function vle(t){if(!ple(t))return mle(t);var e=[];for(var n in Object(t))yle.call(t,n)&&n!="constructor"&&e.push(n);return e}var xle=vle,ble=pT,_le=OT;function wle(t){return t!=null&&_le(t.length)&&!ble(t)}var $f=wle,Ele=sle,Tle=xle,Sle=$f;function Ale(t){return Sle(t)?Ele(t):Tle(t)}var jy=Ale,Ile=Bse,Cle=Qse,kle=jy;function Ple(t){return Ile(t,kle,Cle)}var Nle=Ple,dP=Nle,Rle=1,Ole=Object.prototype,Mle=Ole.hasOwnProperty;function Dle(t,e,n,r,i,o){var s=n&Rle,a=dP(t),l=a.length,u=dP(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:Mle.call(e,h)))return!1}var y=o.get(t),v=o.get(e);if(y&&v)return y==e&&v==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=s;++d<l;){h=a[d];var w=t[h],_=e[h];if(r)var E=s?r(_,w,h,e,t,o):r(w,_,h,t,e,o);if(!(E===void 0?w===_||i(w,_,n,r,o):E)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var P=t.constructor,S=e.constructor;P!=S&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof S=="function"&&S instanceof S)&&(b=!1)}return o.delete(t),o.delete(e),b}var jle=Dle,Lle=da,$le=ii,Vle=Lle($le,"DataView"),Fle=Vle,Ule=da,Ble=ii,Gle=Ule(Ble,"Promise"),zle=Gle,qle=da,Hle=ii,Wle=qle(Hle,"Set"),b4=Wle,Kle=da,Yle=ii,Jle=Kle(Yle,"WeakMap"),Xle=Jle,$b=Fle,Vb=gT,Fb=zle,Ub=b4,Bb=Xle,_4=Xi,Au=A$,fP="[object Map]",Qle="[object Object]",hP="[object Promise]",pP="[object Set]",mP="[object WeakMap]",gP="[object DataView]",Zle=Au($b),eue=Au(Vb),tue=Au(Fb),nue=Au(Ub),rue=Au(Bb),xs=_4;($b&&xs(new $b(new ArrayBuffer(1)))!=gP||Vb&&xs(new Vb)!=fP||Fb&&xs(Fb.resolve())!=hP||Ub&&xs(new Ub)!=pP||Bb&&xs(new Bb)!=mP)&&(xs=function(t){var e=_4(t),n=e==Qle?t.constructor:void 0,r=n?Au(n):"";if(r)switch(r){case Zle:return gP;case eue:return fP;case tue:return hP;case nue:return pP;case rue:return mP}return e});var iue=xs,h0=u4,oue=h4,sue=Lse,aue=jle,yP=iue,vP=jn,xP=g4,lue=v4,uue=1,bP="[object Arguments]",_P="[object Array]",Vh="[object Object]",cue=Object.prototype,wP=cue.hasOwnProperty;function due(t,e,n,r,i,o){var s=vP(t),a=vP(e),l=s?_P:yP(t),u=a?_P:yP(e);l=l==bP?Vh:l,u=u==bP?Vh:u;var c=l==Vh,d=u==Vh,h=l==u;if(h&&xP(t)){if(!xP(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new h0),s||lue(t)?oue(t,e,n,r,i,o):sue(t,e,l,n,r,i,o);if(!(n&uue)){var y=c&&wP.call(t,"__wrapped__"),v=d&&wP.call(e,"__wrapped__");if(y||v){var b=y?t.value():t,x=v?e.value():e;return o||(o=new h0),i(b,x,n,r,o)}}return h?(o||(o=new h0),aue(t,e,n,r,i,o)):!1}var fue=due,hue=fue,EP=Qi;function w4(t,e,n,r,i){return t===e?!0:t==null||e==null||!EP(t)&&!EP(e)?t!==t&&e!==e:hue(t,e,n,r,w4,i)}var MT=w4,pue=u4,mue=MT,gue=1,yue=2;function vue(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new pue;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?mue(c,u,gue|yue,r,d):h))return!1}}return!0}var xue=vue,bue=ts;function _ue(t){return t===t&&!bue(t)}var E4=_ue,wue=E4,Eue=jy;function Tue(t){for(var e=Eue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,wue(i)]}return e}var Sue=Tue;function Aue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var T4=Aue,Iue=xue,Cue=Sue,kue=T4;function Pue(t){var e=Cue(t);return e.length==1&&e[0][2]?kue(e[0][0],e[0][1]):function(n){return n===t||Iue(n,t,e)}}var Nue=Pue;function Rue(t,e){return t!=null&&e in Object(t)}var Oue=Rue,Mue=N$,Due=NT,jue=jn,Lue=RT,$ue=OT,Vue=_y;function Fue(t,e,n){e=Mue(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Vue(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&$ue(i)&&Lue(s,i)&&(jue(t)||Due(t)))}var Uue=Fue,Bue=Oue,Gue=Uue;function zue(t,e){return t!=null&&Gue(t,e,Bue)}var que=zue,Hue=MT,Wue=R$,Kue=que,Yue=hT,Jue=E4,Xue=T4,Que=_y,Zue=1,ece=2;function tce(t,e){return Yue(t)&&Jue(e)?Xue(Que(t),e):function(n){var r=Wue(n,t);return r===void 0&&r===e?Kue(n,t):Hue(e,r,Zue|ece)}}var nce=tce;function rce(t){return t}var Iu=rce;function ice(t){return function(e){return e==null?void 0:e[t]}}var oce=ice,sce=bT;function ace(t){return function(e){return sce(e,t)}}var lce=ace,uce=oce,cce=lce,dce=hT,fce=_y;function hce(t){return dce(t)?uce(fce(t)):cce(t)}var pce=hce,mce=Nue,gce=nce,yce=Iu,vce=jn,xce=pce;function bce(t){return typeof t=="function"?t:t==null?yce:typeof t=="object"?vce(t)?gce(t[0],t[1]):mce(t):xce(t)}var oi=bce;function _ce(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var S4=_ce;function wce(t){return t!==t}var Ece=wce;function Tce(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Sce=Tce,Ace=S4,Ice=Ece,Cce=Sce;function kce(t,e,n){return e===e?Cce(t,e,n):Ace(t,Ice,n)}var Pce=kce,Nce=Pce;function Rce(t,e){var n=t==null?0:t.length;return!!n&&Nce(t,e,0)>-1}var Oce=Rce;function Mce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Dce=Mce;function jce(){}var Lce=jce,p0=b4,$ce=Lce,Vce=PT,Fce=1/0,Uce=p0&&1/Vce(new p0([,-0]))[1]==Fce?function(t){return new p0(t)}:$ce,Bce=Uce,Gce=c4,zce=Oce,qce=Dce,Hce=f4,Wce=Bce,Kce=PT,Yce=200;function Jce(t,e,n){var r=-1,i=zce,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=qce;else if(o>=Yce){var u=e?null:Wce(t);if(u)return Kce(u);s=!1,i=Hce,l=new Gce}else l=e?[]:a;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var Xce=Jce,Qce=oi,Zce=Xce;function ede(t,e){return t&&t.length?Zce(t,Qce(e)):[]}var tde=ede;const TP=Ke(tde);function A4(t,e,n){return e===!0?TP(t,n):be(e)?TP(t,e):t}function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}var nde=["ref"];function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C4(r.key),r)}}function ide(t,e,n){return e&&AP(t.prototype,e),n&&AP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ode(t,e,n){return e=Mm(e),sde(t,I4()?Reflect.construct(e,n||[],Mm(t).constructor):e.apply(t,n))}function sde(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ade(t)}function ade(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}function lde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gb(t,e)}function Ly(t,e,n){return e=C4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C4(t){var e=ude(t,"string");return Nl(e)=="symbol"?e:e+""}function ude(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cde(t,e){if(t==null)return{};var n=dde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fde(t){return t.value}function hde(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=cde(e,nde);return U.createElement(kT,n)}var IP=1,Jr=function(t){function e(){var n;rde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ode(this,e,[].concat(i)),Ly(n,"lastBoundingBox",{width:-1,height:-1}),n}return lde(e,t),ide(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>IP||Math.abs(i.height-this.lastBoundingBox.height)>IP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?di({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();d={left:((u||0)-y.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return di(di({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=di(di({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(y){r.wrapperNode=y}},hde(o,di(di({},this.props),{},{payload:A4(c,u,fde)})))}}],[{key:"getWithHeight",value:function(r,i){var o=di(di({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&oe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(B.PureComponent);Ly(Jr,"displayName","Legend");Ly(Jr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var CP=Lf,pde=NT,mde=jn,kP=CP?CP.isConcatSpreadable:void 0;function gde(t){return mde(t)||pde(t)||!!(kP&&t&&t[kP])}var yde=gde,vde=p4,xde=yde;function k4(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=xde),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?k4(a,e-1,n,r,i):vde(i,a):r||(i[i.length]=a)}return i}var P4=k4;function bde(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var _de=bde,wde=_de,Ede=wde(),Tde=Ede,Sde=Tde,Ade=jy;function Ide(t,e){return t&&Sde(t,e,Ade)}var N4=Ide,Cde=$f;function kde(t,e){return function(n,r){if(n==null)return n;if(!Cde(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Pde=kde,Nde=N4,Rde=Pde,Ode=Rde(Nde),DT=Ode,Mde=DT,Dde=$f;function jde(t,e){var n=-1,r=Dde(t)?Array(t.length):[];return Mde(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var R4=jde;function Lde(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var $de=Lde,PP=xu;function Vde(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=PP(t),s=e!==void 0,a=e===null,l=e===e,u=PP(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var Fde=Vde,Ude=Fde;function Bde(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Ude(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Gde=Bde,m0=xT,zde=bT,qde=oi,Hde=R4,Wde=$de,Kde=y4,Yde=Gde,Jde=Iu,Xde=jn;function Qde(t,e,n){e.length?e=m0(e,function(o){return Xde(o)?function(s){return zde(s,o.length===1?o[0]:o)}:o}):e=[Jde];var r=-1;e=m0(e,Kde(qde));var i=Hde(t,function(o,s,a){var l=m0(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Wde(i,function(o,s){return Yde(o,s,n)})}var Zde=Qde;function efe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var tfe=efe,nfe=tfe,NP=Math.max;function rfe(t,e,n){return e=NP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=NP(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),nfe(t,this,a)}}var ife=rfe;function ofe(t){return function(){return t}}var sfe=ofe,afe=da,lfe=function(){try{var t=afe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),O4=lfe,ufe=sfe,RP=O4,cfe=Iu,dfe=RP?function(t,e){return RP(t,"toString",{configurable:!0,enumerable:!1,value:ufe(e),writable:!0})}:cfe,ffe=dfe,hfe=800,pfe=16,mfe=Date.now;function gfe(t){var e=0,n=0;return function(){var r=mfe(),i=pfe-(r-n);if(n=r,i>0){if(++e>=hfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var yfe=gfe,vfe=ffe,xfe=yfe,bfe=xfe(vfe),_fe=bfe,wfe=Iu,Efe=ife,Tfe=_fe;function Sfe(t,e){return Tfe(Efe(t,e,wfe),t+"")}var Afe=Sfe,Ife=mT,Cfe=$f,kfe=RT,Pfe=ts;function Nfe(t,e,n){if(!Pfe(n))return!1;var r=typeof e;return(r=="number"?Cfe(n)&&kfe(e,n.length):r=="string"&&e in n)?Ife(n[e],t):!1}var $y=Nfe,Rfe=P4,Ofe=Zde,Mfe=Afe,OP=$y,Dfe=Mfe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&OP(t,e[0],e[1])?e=[]:n>2&&OP(e[0],e[1],e[2])&&(e=[e[0]]),Ofe(t,Rfe(e,1),[])}),jfe=Dfe;const jT=Ke(jfe);function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(this,arguments)}function Lfe(t,e){return Ufe(t)||Ffe(t,e)||Vfe(t,e)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vfe(t,e){if(t){if(typeof t=="string")return MP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(t,e)}}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ffe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ufe(t){if(Array.isArray(t))return t}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){Bfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bfe(t,e,n){return e=Gfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gfe(t){var e=zfe(t,"string");return Nd(e)=="symbol"?e:e+""}function zfe(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qfe(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var Hfe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,y=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,E=function(){if(c&&c.length){var D={padding:0,margin:0},R=(h?jT(c,h):c).map(function(j,F){if(j.type==="none")return null;var V=g0({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},a),z=j.formatter||d||qfe,$=j.value,G=j.name,q=$,Y=G;if(z&&q!=null&&Y!=null){var H=z($,G,j,F,c);if(Array.isArray(H)){var ne=Lfe(H,2);q=ne[0],Y=ne[1]}else q=H}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:V},Dt(Y)?U.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Dt(Y)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},q),U.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:D},R)}return null},P=g0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=g0({margin:0},u),k=!Ae(b),C=k?b:"",T=Ie("recharts-default-tooltip",y),I=Ie("recharts-tooltip-label",v);k&&x&&c!==void 0&&c!==null&&(C=x(b,c));var N=_?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",zb({className:T,style:P},N),U.createElement("p",{className:I,style:S},U.isValidElement(C)?C:"".concat(C)),E())};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function Fh(t,e,n){return e=Wfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Kfe(t,"string");return Rd(e)=="symbol"?e:e+""}function Kfe(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ac="recharts-tooltip-wrapper",Yfe={visibility:"hidden"};function Jfe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ie(ac,Fh(Fh(Fh(Fh({},"".concat(ac,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(ac,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(ac,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(ac,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function jP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&oe(o[r]))return o[r];var c=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?c:d;if(s[r]){var h=c,y=l[r];return h<y?Math.max(d,l[r]):Math.max(c,l[r])}var v=d+a,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(d,l[r])}function Xfe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Qfe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,d;return s.height>0&&s.width>0&&n?(c=jP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=jP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Xfe({translateX:c,translateY:d,useTranslate3d:a})):u=Yfe,{cssProperties:u,cssClasses:Jfe({translateX:c,translateY:d,coordinate:n})}}function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){Hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ehe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D4(r.key),r)}}function the(t,e,n){return e&&ehe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nhe(t,e,n){return e=Dm(e),rhe(t,M4()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function rhe(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ihe(t)}function ihe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function ohe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qb(t,e)}function Hb(t,e,n){return e=D4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4(t){var e=she(t,"string");return Rl(e)=="symbol"?e:e+""}function she(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VP=1,ahe=function(t){function e(){var n;Zfe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=nhe(this,e,[].concat(i)),Hb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Hb(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return ohe(e,t),the(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>VP||Math.abs(r.height-this.state.lastBoundingBox.height)>VP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,y=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,E=Qfe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),P=E.cssClasses,S=E.cssProperties,k=$P($P({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},_);return U.createElement("div",{tabIndex:-1,className:P,style:k,ref:function(T){r.wrapperNode=T}},u)}}])}(B.PureComponent),lhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zi={isSsr:lhe()};function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){LT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function che(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L4(r.key),r)}}function dhe(t,e,n){return e&&che(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fhe(t,e,n){return e=jm(e),hhe(t,j4()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function hhe(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return phe(t)}function phe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function mhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wb(t,e)}function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wb(t,e)}function LT(t,e,n){return e=L4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t){var e=ghe(t,"string");return Ol(e)=="symbol"?e:e+""}function ghe(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yhe(t){return t.dataKey}function vhe(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(Hfe,e)}var Jt=function(t){function e(){return uhe(this,e),fhe(this,e,arguments)}return mhe(e,t),dhe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,y=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,w=i.reverseDirection,_=i.useTranslate3d,E=i.viewBox,P=i.wrapperStyle,S=v??[];d&&S.length&&(S=A4(v.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),b,yhe));var k=S.length>0;return U.createElement(ahe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:k,offset:y,position:x,reverseDirection:w,useTranslate3d:_,viewBox:E,wrapperStyle:P},vhe(u,UP(UP({},this.props),{},{payload:S})))}}])}(B.PureComponent);LT(Jt,"displayName","Tooltip");LT(Jt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xhe=ii,bhe=function(){return xhe.Date.now()},_he=bhe,whe=/\s/;function Ehe(t){for(var e=t.length;e--&&whe.test(t.charAt(e)););return e}var The=Ehe,She=The,Ahe=/^\s+/;function Ihe(t){return t&&t.slice(0,She(t)+1).replace(Ahe,"")}var Che=Ihe,khe=Che,BP=ts,Phe=xu,GP=NaN,Nhe=/^[-+]0x[0-9a-f]+$/i,Rhe=/^0b[01]+$/i,Ohe=/^0o[0-7]+$/i,Mhe=parseInt;function Dhe(t){if(typeof t=="number")return t;if(Phe(t))return GP;if(BP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=BP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=khe(t);var n=Rhe.test(t);return n||Ohe.test(t)?Mhe(t.slice(2),n?2:8):Nhe.test(t)?GP:+t}var $4=Dhe,jhe=ts,y0=_he,zP=$4,Lhe="Expected a function",$he=Math.max,Vhe=Math.min;function Fhe(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Lhe);e=zP(e)||0,jhe(n)&&(c=!!n.leading,d="maxWait"in n,o=d?$he(zP(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(k){var C=r,T=i;return r=i=void 0,u=k,s=t.apply(T,C),s}function v(k){return u=k,a=setTimeout(w,e),c?y(k):s}function b(k){var C=k-l,T=k-u,I=e-C;return d?Vhe(I,o-T):I}function x(k){var C=k-l,T=k-u;return l===void 0||C>=e||C<0||d&&T>=o}function w(){var k=y0();if(x(k))return _(k);a=setTimeout(w,b(k))}function _(k){return a=void 0,h&&r?y(k):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function P(){return a===void 0?s:_(y0())}function S(){var k=y0(),C=x(k);if(r=arguments,i=this,l=k,C){if(a===void 0)return v(l);if(d)return clearTimeout(a),a=setTimeout(w,e),y(l)}return a===void 0&&(a=setTimeout(w,e)),s}return S.cancel=E,S.flush=P,S}var Uhe=Fhe,Bhe=Uhe,Ghe=ts,zhe="Expected a function";function qhe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(zhe);return Ghe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Bhe(t,e,{leading:r,maxWait:e,trailing:i})}var Hhe=qhe;const V4=Ke(Hhe);function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){Whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Whe(t,e,n){return e=Khe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=Yhe(t,"string");return Od(e)=="symbol"?e:e+""}function Yhe(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jhe(t,e){return epe(t)||Zhe(t,e)||Qhe(t,e)||Xhe()}function Xhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qhe(t,e){if(t){if(typeof t=="string")return HP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(t,e)}}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function epe(t){if(Array.isArray(t))return t}var $o=B.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,y=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,w=t.className,_=t.onResize,E=t.style,P=E===void 0?{}:E,S=B.useRef(null),k=B.useRef();k.current=_,B.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var C=B.useState({containerWidth:i.width,containerHeight:i.height}),T=Jhe(C,2),I=T[0],N=T[1],M=B.useCallback(function(R,j){N(function(F){var V=Math.round(R),z=Math.round(j);return F.containerWidth===V&&F.containerHeight===z?F:{containerWidth:V,containerHeight:z}})},[]);B.useEffect(function(){var R=function(G){var q,Y=G[0].contentRect,H=Y.width,ne=Y.height;M(H,ne),(q=k.current)===null||q===void 0||q.call(k,H,ne)};b>0&&(R=V4(R,b,{trailing:!0,leading:!1}));var j=new ResizeObserver(R),F=S.current.getBoundingClientRect(),V=F.width,z=F.height;return M(V,z),j.observe(S.current),function(){j.disconnect()}},[M,b]);var D=B.useMemo(function(){var R=I.containerWidth,j=I.containerHeight;if(R<0||j<0)return null;Rr(Cs(s)||Cs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Rr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Cs(s)?R:s,V=Cs(l)?j:l;n&&n>0&&(F?V=F/n:V&&(F=V*n),h&&V>h&&(V=h)),Rr(F>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,V,s,l,c,d,n);var z=!Array.isArray(y)&&Ci(y.type).endsWith("Chart");return U.Children.map(y,function($){return U.isValidElement($)?B.cloneElement($,Uh({width:F,height:V},z?{style:Uh({height:"100%",width:"100%",maxHeight:V,maxWidth:F},$.props.style)}:{})):$})},[n,y,l,h,d,c,I,s]);return U.createElement("div",{id:x?"".concat(x):void 0,className:Ie("recharts-responsive-container",w),style:Uh(Uh({},P),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:S},D)}),ha=function(e){return null};ha.displayName="Cell";function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tpe(t,e,n){return e=npe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function npe(t){var e=rpe(t,"string");return Md(e)=="symbol"?e:e+""}function rpe(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ta={widthCache:{},cacheCount:0},ipe=2e3,ope={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KP="recharts_measurement_span";function spe(t){var e=Kb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Bc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Zi.isSsr)return{width:0,height:0};var r=spe(n),i=JSON.stringify({text:e,copyStyle:r});if(Ta.widthCache[i])return Ta.widthCache[i];try{var o=document.getElementById(KP);o||(o=document.createElement("span"),o.setAttribute("id",KP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Kb(Kb({},ope),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Ta.widthCache[i]=l,++Ta.cacheCount>ipe&&(Ta.cacheCount=0,Ta.widthCache={}),l}catch{return{width:0,height:0}}},ape=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function Lm(t,e){return dpe(t)||cpe(t,e)||upe(t,e)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function upe(t,e){if(t){if(typeof t=="string")return YP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YP(t,e)}}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function dpe(t){if(Array.isArray(t))return t}function fpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ppe(r.key),r)}}function hpe(t,e,n){return e&&JP(t.prototype,e),n&&JP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ppe(t){var e=mpe(t,"string");return Dd(e)=="symbol"?e:e+""}function mpe(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ype=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,F4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vpe=Object.keys(F4),Ya="NaN";function xpe(t,e){return t*F4[e]}var Bh=function(){function t(e,n){fpe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!gpe.test(n)&&(this.num=NaN,this.unit=""),vpe.includes(n)&&(this.num=xpe(e,n),this.unit="px")}return hpe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=ype.exec(n))!==null&&r!==void 0?r:[],o=Lm(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function U4(t){if(t.includes(Ya))return Ya;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=XP.exec(e))!==null&&n!==void 0?n:[],i=Lm(r,4),o=i[1],s=i[2],a=i[3],l=Bh.parse(o??""),u=Bh.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ya;e=e.replace(XP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=QP.exec(e))!==null&&d!==void 0?d:[],y=Lm(h,4),v=y[1],b=y[2],x=y[3],w=Bh.parse(v??""),_=Bh.parse(x??""),E=b==="+"?w.add(_):w.subtract(_);if(E.isNaN())return Ya;e=e.replace(QP,E.toString())}return e}var ZP=/\(([^()]*)\)/;function bpe(t){for(var e=t;e.includes("(");){var n=ZP.exec(e),r=Lm(n,2),i=r[1];e=e.replace(ZP,U4(i))}return e}function _pe(t){var e=t.replace(/\s+/g,"");return e=bpe(e),e=U4(e),e}function wpe(t){try{return _pe(t)}catch{return Ya}}function v0(t){var e=wpe(t.slice(5,-1));return e===Ya?"":e}var Epe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tpe=["dx","dy","angle","className","breakAll"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yb.apply(this,arguments)}function eN(t,e){if(t==null)return{};var n=Spe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Spe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tN(t,e){return kpe(t)||Cpe(t,e)||Ipe(t,e)||Ape()}function Ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ipe(t,e){if(t){if(typeof t=="string")return nN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nN(t,e)}}function nN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function kpe(t){if(Array.isArray(t))return t}var B4=/[ \f\n\r\t\v\u2028\u2029]+/,G4=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ae(n)||(r?o=n.toString().split(""):o=n.toString().split(B4));var s=o.map(function(l){return{word:l,width:Bc(l,i).width}}),a=r?0:Bc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Ppe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=oe(s),d=a,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(V,z){var $=z.word,G=z.width,q=V[V.length-1];if(q&&(i==null||o||q.width+G+r<Number(i)))q.words.push($),q.width+=G+r;else{var Y={words:[$],width:G};V.push(Y)}return V},[])},y=h(n),v=function(F){return F.reduce(function(V,z){return V.width>z.width?V:z})};if(!c)return y;for(var b="",x=function(F){var V=d.slice(0,F),z=G4({breakAll:u,style:l,children:V+b}).wordsWithComputedWidth,$=h(z),G=$.length>s||v($).width>Number(i);return[G,$]},w=0,_=d.length-1,E=0,P;w<=_&&E<=d.length-1;){var S=Math.floor((w+_)/2),k=S-1,C=x(k),T=tN(C,2),I=T[0],N=T[1],M=x(S),D=tN(M,1),R=D[0];if(!I&&!R&&(w=S+1),I&&R&&(_=S-1),!I&&R){P=N;break}E++}return P||y},rN=function(e){var n=Ae(e)?[]:e.toString().split(B4);return[{words:n}]},Npe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Zi.isSsr){var l,u,c=G4({breakAll:s,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return rN(i);return Ppe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return rN(i)},iN="#808080",ta=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,w=x===void 0?iN:x,_=eN(e,Epe),E=B.useMemo(function(){return Npe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:d,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,d,_.style,_.width]),P=_.dx,S=_.dy,k=_.angle,C=_.className,T=_.breakAll,I=eN(_,Tpe);if(!Dt(r)||!Dt(o))return null;var N=r+(oe(P)?P:0),M=o+(oe(S)?S:0),D;switch(b){case"start":D=v0("calc(".concat(u,")"));break;case"middle":D=v0("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=v0("calc(".concat(E.length-1," * -").concat(a,")"));break}var R=[];if(d){var j=E[0].width,F=_.width;R.push("scale(".concat((oe(F)?F/j:1)/j,")"))}return k&&R.push("rotate(".concat(k,", ").concat(N,", ").concat(M,")")),R.length&&(I.transform=R.join(" ")),U.createElement("text",Yb({},ge(I,!0),{x:N,y:M,className:Ie("recharts-text",C),textAnchor:y,fill:w.includes("url")?iN:w}),E.map(function(V,z){var $=V.words.join(T?"":" ");return U.createElement("tspan",{x:N,dy:z===0?D:a,key:"".concat($,"-").concat(z)},$)}))};function Vo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $T(t){let e,n,r;t.length!==2?(e=Vo,n=(a,l)=>Vo(t(a),l),r=(a,l)=>t(a)-l):(e=t===Vo||t===Rpe?t:Ope,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Ope(){return 0}function z4(t){return t===null?NaN:+t}function*Mpe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Dpe=$T(Vo),Vf=Dpe.right;$T(z4).center;class oN extends Map{constructor(e,n=$pe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(sN(this,e))}has(e){return super.has(sN(this,e))}set(e,n){return super.set(jpe(this,e),n)}delete(e){return super.delete(Lpe(this,e))}}function sN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Lpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $pe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Vpe(t=Vo){if(t===Vo)return q4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function q4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Fpe=Math.sqrt(50),Upe=Math.sqrt(10),Bpe=Math.sqrt(2);function $m(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Fpe?10:o>=Upe?5:o>=Bpe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?$m(t,e,n*2):[a,l,u]}function Jb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?$m(e,t,n):$m(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Xb(t,e,n){return e=+e,t=+t,n=+n,$m(t,e,n)[2]}function Qb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Xb(e,t,n):Xb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function aN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function lN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function H4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?q4:Vpe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*d/l+h)),v=Math.min(r,Math.floor(e+(l-u)*d/l+h));H4(t,e,y,v,i)}const o=t[e];let s=n,a=r;for(lc(t,n,e),i(t[r],o)>0&&lc(t,n,r);s<a;){for(lc(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?lc(t,n,a):(++a,lc(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function lc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Gpe(t,e,n){if(t=Float64Array.from(Mpe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return lN(t);if(e>=1)return aN(t);var r,i=(r-1)*e,o=Math.floor(i),s=aN(H4(t,o).subarray(0,o+1)),a=lN(t.subarray(o+1));return s+(a-s)*(i-o)}}function zpe(t,e,n=z4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function qpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function gr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function eo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Zb=Symbol("implicit");function VT(){var t=new oN,e=[],n=[],r=Zb;function i(o){let s=t.get(o);if(s===void 0){if(r!==Zb)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new oN;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return VT(e,n).unknown(r)},gr.apply(i,arguments),i}function jd(){var t=VT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,y=i<r,v=y?i:r,b=y?r:i;o=(b-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(b-v-o*(h-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var x=qpe(h).map(function(w){return v+o*w});return n(y?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return jd(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},gr.apply(d(),arguments)}function W4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return W4(e())},t}function Gc(){return W4(jd.apply(null,arguments).paddingInner(1))}function FT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function K4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ff(){}var Ld=.7,Vm=1/Ld,hl="\\s*([+-]?\\d+)\\s*",$d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hpe=/^#([0-9a-f]{3,8})$/,Wpe=new RegExp(`^rgb\\(${hl},${hl},${hl}\\)$`),Kpe=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),Ype=new RegExp(`^rgba\\(${hl},${hl},${hl},${$d}\\)$`),Jpe=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${$d}\\)$`),Xpe=new RegExp(`^hsl\\(${$d},${Xr},${Xr}\\)$`),Qpe=new RegExp(`^hsla\\(${$d},${Xr},${Xr},${$d}\\)$`),uN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FT(Ff,Vd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cN,formatHex:cN,formatHex8:Zpe,formatHsl:eme,formatRgb:dN,toString:dN});function cN(){return this.rgb().formatHex()}function Zpe(){return this.rgb().formatHex8()}function eme(){return Y4(this).formatHsl()}function dN(){return this.rgb().formatRgb()}function Vd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fN(e):n===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wpe.exec(t))?new Rn(e[1],e[2],e[3],1):(e=Kpe.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ype.exec(t))?Gh(e[1],e[2],e[3],e[4]):(e=Jpe.exec(t))?Gh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xpe.exec(t))?mN(e[1],e[2]/100,e[3]/100,1):(e=Qpe.exec(t))?mN(e[1],e[2]/100,e[3]/100,e[4]):uN.hasOwnProperty(t)?fN(uN[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function fN(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function Gh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rn(t,e,n,r)}function tme(t){return t instanceof Ff||(t=Vd(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function e_(t,e,n,r){return arguments.length===1?tme(t):new Rn(t,e,n,r??1)}function Rn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}FT(Rn,e_,K4(Ff,{brighter(t){return t=t==null?Vm:Math.pow(Vm,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ld:Math.pow(Ld,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(Ls(this.r),Ls(this.g),Ls(this.b),Fm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hN,formatHex:hN,formatHex8:nme,formatRgb:pN,toString:pN}));function hN(){return`#${ks(this.r)}${ks(this.g)}${ks(this.b)}`}function nme(){return`#${ks(this.r)}${ks(this.g)}${ks(this.b)}${ks((isNaN(this.opacity)?1:this.opacity)*255)}`}function pN(){const t=Fm(this.opacity);return`${t===1?"rgb(":"rgba("}${Ls(this.r)}, ${Ls(this.g)}, ${Ls(this.b)}${t===1?")":`, ${t})`}`}function Fm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ls(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ks(t){return t=Ls(t),(t<16?"0":"")+t.toString(16)}function mN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sr(t,e,n,r)}function Y4(t){if(t instanceof Sr)return new Sr(t.h,t.s,t.l,t.opacity);if(t instanceof Ff||(t=Vd(t)),!t)return new Sr;if(t instanceof Sr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Sr(s,a,l,t.opacity)}function rme(t,e,n,r){return arguments.length===1?Y4(t):new Sr(t,e,n,r??1)}function Sr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}FT(Sr,rme,K4(Ff,{brighter(t){return t=t==null?Vm:Math.pow(Vm,t),new Sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ld:Math.pow(Ld,t),new Sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rn(x0(t>=240?t-240:t+120,i,r),x0(t,i,r),x0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sr(gN(this.h),zh(this.s),zh(this.l),Fm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fm(this.opacity);return`${t===1?"hsl(":"hsla("}${gN(this.h)}, ${zh(this.s)*100}%, ${zh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gN(t){return t=(t||0)%360,t<0?t+360:t}function zh(t){return Math.max(0,Math.min(1,t||0))}function x0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const UT=t=>()=>t;function ime(t,e){return function(n){return t+n*e}}function ome(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function sme(t){return(t=+t)==1?J4:function(e,n){return n-e?ome(e,n,t):UT(isNaN(e)?n:e)}}function J4(t,e){var n=e-t;return n?ime(t,n):UT(isNaN(t)?e:t)}const yN=function t(e){var n=sme(e);function r(i,o){var s=n((i=e_(i)).r,(o=e_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=J4(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function ame(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function lme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ume(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Cu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function cme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Um(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var t_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b0=new RegExp(t_.source,"g");function fme(t){return function(){return t}}function hme(t){return function(e){return t(e)+""}}function pme(t,e){var n=t_.lastIndex=b0.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=t_.exec(t))&&(i=b0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Um(r,i)})),n=b0.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?hme(l[0].x):fme(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Cu(t,e){var n=typeof e,r;return e==null||n==="boolean"?UT(e):(n==="number"?Um:n==="string"?(r=Vd(e))?(e=r,yN):pme:e instanceof Vd?yN:e instanceof Date?cme:lme(e)?ame:Array.isArray(e)?ume:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dme:Um)(t,e)}function BT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mme(t,e){e===void 0&&(e=t,t=Cu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function gme(t){return function(){return t}}function Bm(t){return+t}var vN=[0,1];function Tn(t){return t}function n_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gme(isNaN(e)?NaN:.5)}function yme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function vme(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=n_(i,r),o=n(s,o)):(r=n_(r,i),o=n(o,s)),function(a){return o(r(a))}}function xme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=n_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Vf(t,a,1,r)-1;return o[l](i[l](a))}}function Uf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vy(){var t=vN,e=vN,n=Cu,r,i,o,s=Tn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==Tn&&(s=yme(t[0],t[h-1])),a=h>2?xme:vme,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(e,t.map(r),Um)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Bm),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=BT,c()},d.clamp=function(h){return arguments.length?(s=h?!0:Tn,c()):s!==Tn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,y){return r=h,i=y,c()}}function GT(){return Vy()(Tn,Tn)}function bme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ml(t){return t=Gm(Math.abs(t)),t?t[1]:NaN}function _me(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function wme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Eme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fd(t){if(!(e=Eme.exec(t)))throw new Error("invalid format: "+t);var e;return new zT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fd.prototype=zT.prototype;function zT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tme(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var zm;function Sme(t,e){var n=Gm(t,e);if(!n)return zm=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(zm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Gm(t,Math.max(0,e+o-1))[0]}function xN(t,e){var n=Gm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const bN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xN(t*100,e),r:xN,s:Sme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _N(t){return t}var wN=Array.prototype.map,EN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ame(t){var e=t.grouping===void 0||t.thousands===void 0?_N:_me(wN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?_N:wme(wN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,h){d=Fd(d);var y=d.fill,v=d.align,b=d.sign,x=d.symbol,w=d.zero,_=d.width,E=d.comma,P=d.precision,S=d.trim,k=d.type;k==="n"?(E=!0,k="g"):bN[k]||(P===void 0&&(P=12),S=!0,k="g"),(w||y==="0"&&v==="=")&&(w=!0,y="0",v="=");var C=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),T=(x==="$"?r:/[%p]/.test(k)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),I=bN[k],N=/[defgprs%]/.test(k);P=P===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function M(D){var R=C,j=T,F,V,z;if(k==="c")j=I(D)+j,D="";else{D=+D;var $=D<0||1/D<0;if(D=isNaN(D)?l:I(Math.abs(D),P),S&&(D=Tme(D)),$&&+D==0&&b!=="+"&&($=!1),R=($?b==="("?b:a:b==="-"||b==="("?"":b)+R,j=(k==="s"&&!isNaN(D)&&zm!==void 0?EN[8+zm/3]:"")+j+($&&b==="("?")":""),N){for(F=-1,V=D.length;++F<V;)if(z=D.charCodeAt(F),48>z||z>57){j=(z===46?i+D.slice(F+1):D.slice(F))+j,D=D.slice(0,F);break}}}E&&!w&&(D=e(D,1/0));var G=R.length+D.length+j.length,q=G<_?new Array(_-G+1).join(y):"";switch(E&&w&&(D=e(q+D,q.length?_-j.length:1/0),q=""),v){case"<":D=R+D+j+q;break;case"=":D=R+q+D+j;break;case"^":D=q.slice(0,G=q.length>>1)+R+D+j+q.slice(G);break;default:D=q+R+D+j;break}return o(D)}return M.toString=function(){return d+""},M}function c(d,h){var y=Math.max(-8,Math.min(8,Math.floor(Ml(h)/3)))*3,v=Math.pow(10,-y),b=u((d=Fd(d),d.type="f",d),{suffix:EN[8+y/3]});return function(x){return b(v*x)}}return{format:u,formatPrefix:c}}var qh,qT,X4;Ime({thousands:",",grouping:[3],currency:["$",""]});function Ime(t){return qh=Ame(t),qT=qh.format,X4=qh.formatPrefix,qh}function Cme(t){return Math.max(0,-Ml(Math.abs(t)))}function kme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ml(e)/3)))*3-Ml(Math.abs(t)))}function Pme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ml(e)-Ml(t))+1}function Q4(t,e,n,r){var i=Qb(t,e,n),o;switch(r=Fd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=kme(i,s))&&(r.precision=o),X4(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Pme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Cme(i))&&(r.precision=o-(r.type==="%")*2);break}}return qT(r)}function ns(t){var e=t.domain;return t.ticks=function(n){var r=e();return Jb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Q4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Xb(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function qm(){var t=GT();return t.copy=function(){return Uf(t,qm())},gr.apply(t,arguments),ns(t)}function Z4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Bm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Z4(t).unknown(e)},t=arguments.length?Array.from(t,Bm):[0,1],ns(n)}function eV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function TN(t){return Math.log(t)}function SN(t){return Math.exp(t)}function Nme(t){return-Math.log(-t)}function Rme(t){return-Math.exp(-t)}function Ome(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Mme(t){return t===10?Ome:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Dme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function AN(t){return(e,n)=>-t(-e,n)}function HT(t){const e=t(TN,SN),n=e.domain;let r=10,i,o;function s(){return i=Dme(r),o=Mme(r),n()[0]<0?(i=AN(i),o=AN(o),t(Nme,Rme)):t(TN,SN),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),y=i(c),v,b;const x=a==null?10:+a;let w=[];if(!(r%1)&&y-h<x){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<r;++v)if(b=h<0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;w.push(b)}}else for(;h<=y;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;w.push(b)}w.length*2<x&&(w=Jb(u,c,x))}else w=Jb(h,y,Math.min(y-h,x)).map(o);return d?w.reverse():w},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Fd(l)).precision==null&&(l.trim=!0),l=qT(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(eV(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function tV(){const t=HT(Vy()).domain([1,10]);return t.copy=()=>Uf(t,tV()).base(t.base()),gr.apply(t,arguments),t}function IN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function CN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WT(t){var e=1,n=t(IN(e),CN(e));return n.constant=function(r){return arguments.length?t(IN(e=+r),CN(e)):e},ns(n)}function nV(){var t=WT(Vy());return t.copy=function(){return Uf(t,nV()).constant(t.constant())},gr.apply(t,arguments)}function kN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Lme(t){return t<0?-t*t:t*t}function KT(t){var e=t(Tn,Tn),n=1;function r(){return n===1?t(Tn,Tn):n===.5?t(jme,Lme):t(kN(n),kN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ns(e)}function YT(){var t=KT(Vy());return t.copy=function(){return Uf(t,YT()).exponent(t.exponent())},gr.apply(t,arguments),t}function $me(){return YT.apply(null,arguments).exponent(.5)}function PN(t){return Math.sign(t)*t*t}function Vme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function rV(){var t=GT(),e=[0,1],n=!1,r;function i(o){var s=Vme(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(PN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Bm)).map(PN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return rV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},gr.apply(i,arguments),ns(i)}function iV(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=zpe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Vf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Vo),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return iV().domain(t).range(e).unknown(r)},gr.apply(o,arguments)}function oV(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Vf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return oV().domain([t,e]).range(i).unknown(o)},gr.apply(ns(s),arguments)}function sV(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Vf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return sV().domain(t).range(e).unknown(n)},gr.apply(i,arguments)}const _0=new Date,w0=new Date;function Lt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Lt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(_0.setTime(+o),w0.setTime(+s),t(_0),t(w0),Math.floor(n(_0,w0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Hm=Lt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Hm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Lt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Hm);Hm.range;const wi=1e3,or=wi*60,Ei=or*60,Bi=Ei*24,JT=Bi*7,NN=Bi*30,E0=Bi*365,Ps=Lt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCSeconds());Ps.range;const XT=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wi)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getMinutes());XT.range;const QT=Lt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getUTCMinutes());QT.range;const ZT=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wi-t.getMinutes()*or)},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getHours());ZT.range;const eS=Lt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getUTCHours());eS.range;const Bf=Lt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*or)/Bi,t=>t.getDate()-1);Bf.range;const Fy=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bi,t=>t.getUTCDate()-1);Fy.range;const aV=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bi,t=>Math.floor(t/Bi));aV.range;function pa(t){return Lt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*or)/JT)}const Uy=pa(0),Wm=pa(1),Fme=pa(2),Ume=pa(3),Dl=pa(4),Bme=pa(5),Gme=pa(6);Uy.range;Wm.range;Fme.range;Ume.range;Dl.range;Bme.range;Gme.range;function ma(t){return Lt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/JT)}const By=ma(0),Km=ma(1),zme=ma(2),qme=ma(3),jl=ma(4),Hme=ma(5),Wme=ma(6);By.range;Km.range;zme.range;qme.range;jl.range;Hme.range;Wme.range;const tS=Lt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tS.range;const nS=Lt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nS.range;const Gi=Lt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Gi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Gi.range;const zi=Lt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});zi.range;function lV(t,e,n,r,i,o){const s=[[Ps,1,wi],[Ps,5,5*wi],[Ps,15,15*wi],[Ps,30,30*wi],[o,1,or],[o,5,5*or],[o,15,15*or],[o,30,30*or],[i,1,Ei],[i,3,3*Ei],[i,6,6*Ei],[i,12,12*Ei],[r,1,Bi],[r,2,2*Bi],[n,1,JT],[e,1,NN],[e,3,3*NN],[t,1,E0]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const y=d&&typeof d.range=="function"?d:l(u,c,d),v=y?y.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,y=$T(([,,x])=>x).right(s,h);if(y===s.length)return t.every(Qb(u/E0,c/E0,d));if(y===0)return Hm.every(Math.max(Qb(u,c,d),1));const[v,b]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return v.every(b)}return[a,l]}const[Kme,Yme]=lV(zi,nS,By,aV,eS,QT),[Jme,Xme]=lV(Gi,tS,Uy,Bf,ZT,XT);function T0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function S0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function uc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Qme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=cc(i),c=dc(i),d=cc(o),h=dc(o),y=cc(s),v=dc(s),b=cc(a),x=dc(a),w=cc(l),_=dc(l),E={a:z,A:$,b:G,B:q,c:null,d:LN,e:LN,f:_ge,g:Nge,G:Oge,H:vge,I:xge,j:bge,L:uV,m:wge,M:Ege,p:Y,q:H,Q:FN,s:UN,S:Tge,u:Sge,U:Age,V:Ige,w:Cge,W:kge,x:null,X:null,y:Pge,Y:Rge,Z:Mge,"%":VN},P={a:ne,A:he,b:W,B:le,c:null,d:$N,e:$N,f:$ge,g:Kge,G:Jge,H:Dge,I:jge,j:Lge,L:dV,m:Vge,M:Fge,p:ce,q:Ne,Q:FN,s:UN,S:Uge,u:Bge,U:Gge,V:zge,w:qge,W:Hge,x:null,X:null,y:Wge,Y:Yge,Z:Xge,"%":VN},S={a:N,A:M,b:D,B:R,c:j,d:DN,e:DN,f:pge,g:MN,G:ON,H:jN,I:jN,j:cge,L:hge,m:uge,M:dge,p:I,q:lge,Q:gge,s:yge,S:fge,u:rge,U:ige,V:oge,w:nge,W:sge,x:F,X:V,y:MN,Y:ON,Z:age,"%":mge};E.x=k(n,E),E.X=k(r,E),E.c=k(e,E),P.x=k(n,P),P.X=k(r,P),P.c=k(e,P);function k(ae,J){return function(Q){var X=[],ve=-1,_e=0,Ce=ae.length,Ve,vt,Vr;for(Q instanceof Date||(Q=new Date(+Q));++ve<Ce;)ae.charCodeAt(ve)===37&&(X.push(ae.slice(_e,ve)),(vt=RN[Ve=ae.charAt(++ve)])!=null?Ve=ae.charAt(++ve):vt=Ve==="e"?" ":"0",(Vr=J[Ve])&&(Ve=Vr(Q,vt)),X.push(Ve),_e=ve+1);return X.push(ae.slice(_e,ve)),X.join("")}}function C(ae,J){return function(Q){var X=uc(1900,void 0,1),ve=T(X,ae,Q+="",0),_e,Ce;if(ve!=Q.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(J&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(_e=S0(uc(X.y,0,1)),Ce=_e.getUTCDay(),_e=Ce>4||Ce===0?Km.ceil(_e):Km(_e),_e=Fy.offset(_e,(X.V-1)*7),X.y=_e.getUTCFullYear(),X.m=_e.getUTCMonth(),X.d=_e.getUTCDate()+(X.w+6)%7):(_e=T0(uc(X.y,0,1)),Ce=_e.getDay(),_e=Ce>4||Ce===0?Wm.ceil(_e):Wm(_e),_e=Bf.offset(_e,(X.V-1)*7),X.y=_e.getFullYear(),X.m=_e.getMonth(),X.d=_e.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Ce="Z"in X?S0(uc(X.y,0,1)).getUTCDay():T0(uc(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Ce+5)%7:X.w+X.U*7-(Ce+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,S0(X)):T0(X)}}function T(ae,J,Q,X){for(var ve=0,_e=J.length,Ce=Q.length,Ve,vt;ve<_e;){if(X>=Ce)return-1;if(Ve=J.charCodeAt(ve++),Ve===37){if(Ve=J.charAt(ve++),vt=S[Ve in RN?J.charAt(ve++):Ve],!vt||(X=vt(ae,Q,X))<0)return-1}else if(Ve!=Q.charCodeAt(X++))return-1}return X}function I(ae,J,Q){var X=u.exec(J.slice(Q));return X?(ae.p=c.get(X[0].toLowerCase()),Q+X[0].length):-1}function N(ae,J,Q){var X=y.exec(J.slice(Q));return X?(ae.w=v.get(X[0].toLowerCase()),Q+X[0].length):-1}function M(ae,J,Q){var X=d.exec(J.slice(Q));return X?(ae.w=h.get(X[0].toLowerCase()),Q+X[0].length):-1}function D(ae,J,Q){var X=w.exec(J.slice(Q));return X?(ae.m=_.get(X[0].toLowerCase()),Q+X[0].length):-1}function R(ae,J,Q){var X=b.exec(J.slice(Q));return X?(ae.m=x.get(X[0].toLowerCase()),Q+X[0].length):-1}function j(ae,J,Q){return T(ae,e,J,Q)}function F(ae,J,Q){return T(ae,n,J,Q)}function V(ae,J,Q){return T(ae,r,J,Q)}function z(ae){return s[ae.getDay()]}function $(ae){return o[ae.getDay()]}function G(ae){return l[ae.getMonth()]}function q(ae){return a[ae.getMonth()]}function Y(ae){return i[+(ae.getHours()>=12)]}function H(ae){return 1+~~(ae.getMonth()/3)}function ne(ae){return s[ae.getUTCDay()]}function he(ae){return o[ae.getUTCDay()]}function W(ae){return l[ae.getUTCMonth()]}function le(ae){return a[ae.getUTCMonth()]}function ce(ae){return i[+(ae.getUTCHours()>=12)]}function Ne(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var J=k(ae+="",E);return J.toString=function(){return ae},J},parse:function(ae){var J=C(ae+="",!1);return J.toString=function(){return ae},J},utcFormat:function(ae){var J=k(ae+="",P);return J.toString=function(){return ae},J},utcParse:function(ae){var J=C(ae+="",!0);return J.toString=function(){return ae},J}}}var RN={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,Zme=/^%/,ege=/[\\^$*+?|[\]().{}]/g;function qe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function tge(t){return t.replace(ege,"\\$&")}function cc(t){return new RegExp("^(?:"+t.map(tge).join("|")+")","i")}function dc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function nge(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rge(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ige(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function oge(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function sge(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ON(t,e,n){var r=qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function MN(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function age(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lge(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function uge(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function DN(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function cge(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jN(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dge(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function fge(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function hge(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pge(t,e,n){var r=qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mge(t,e,n){var r=Zme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gge(t,e,n){var r=qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function yge(t,e,n){var r=qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function LN(t,e){return qe(t.getDate(),e,2)}function vge(t,e){return qe(t.getHours(),e,2)}function xge(t,e){return qe(t.getHours()%12||12,e,2)}function bge(t,e){return qe(1+Bf.count(Gi(t),t),e,3)}function uV(t,e){return qe(t.getMilliseconds(),e,3)}function _ge(t,e){return uV(t,e)+"000"}function wge(t,e){return qe(t.getMonth()+1,e,2)}function Ege(t,e){return qe(t.getMinutes(),e,2)}function Tge(t,e){return qe(t.getSeconds(),e,2)}function Sge(t){var e=t.getDay();return e===0?7:e}function Age(t,e){return qe(Uy.count(Gi(t)-1,t),e,2)}function cV(t){var e=t.getDay();return e>=4||e===0?Dl(t):Dl.ceil(t)}function Ige(t,e){return t=cV(t),qe(Dl.count(Gi(t),t)+(Gi(t).getDay()===4),e,2)}function Cge(t){return t.getDay()}function kge(t,e){return qe(Wm.count(Gi(t)-1,t),e,2)}function Pge(t,e){return qe(t.getFullYear()%100,e,2)}function Nge(t,e){return t=cV(t),qe(t.getFullYear()%100,e,2)}function Rge(t,e){return qe(t.getFullYear()%1e4,e,4)}function Oge(t,e){var n=t.getDay();return t=n>=4||n===0?Dl(t):Dl.ceil(t),qe(t.getFullYear()%1e4,e,4)}function Mge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qe(e/60|0,"0",2)+qe(e%60,"0",2)}function $N(t,e){return qe(t.getUTCDate(),e,2)}function Dge(t,e){return qe(t.getUTCHours(),e,2)}function jge(t,e){return qe(t.getUTCHours()%12||12,e,2)}function Lge(t,e){return qe(1+Fy.count(zi(t),t),e,3)}function dV(t,e){return qe(t.getUTCMilliseconds(),e,3)}function $ge(t,e){return dV(t,e)+"000"}function Vge(t,e){return qe(t.getUTCMonth()+1,e,2)}function Fge(t,e){return qe(t.getUTCMinutes(),e,2)}function Uge(t,e){return qe(t.getUTCSeconds(),e,2)}function Bge(t){var e=t.getUTCDay();return e===0?7:e}function Gge(t,e){return qe(By.count(zi(t)-1,t),e,2)}function fV(t){var e=t.getUTCDay();return e>=4||e===0?jl(t):jl.ceil(t)}function zge(t,e){return t=fV(t),qe(jl.count(zi(t),t)+(zi(t).getUTCDay()===4),e,2)}function qge(t){return t.getUTCDay()}function Hge(t,e){return qe(Km.count(zi(t)-1,t),e,2)}function Wge(t,e){return qe(t.getUTCFullYear()%100,e,2)}function Kge(t,e){return t=fV(t),qe(t.getUTCFullYear()%100,e,2)}function Yge(t,e){return qe(t.getUTCFullYear()%1e4,e,4)}function Jge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jl(t):jl.ceil(t),qe(t.getUTCFullYear()%1e4,e,4)}function Xge(){return"+0000"}function VN(){return"%"}function FN(t){return+t}function UN(t){return Math.floor(+t/1e3)}var Sa,hV,pV;Qge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qge(t){return Sa=Qme(t),hV=Sa.format,Sa.parse,pV=Sa.utcFormat,Sa.utcParse,Sa}function Zge(t){return new Date(t)}function eye(t){return t instanceof Date?+t:+new Date(+t)}function rS(t,e,n,r,i,o,s,a,l,u){var c=GT(),d=c.invert,h=c.domain,y=u(".%L"),v=u(":%S"),b=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),_=u("%b %d"),E=u("%B"),P=u("%Y");function S(k){return(l(k)<k?y:a(k)<k?v:s(k)<k?b:o(k)<k?x:r(k)<k?i(k)<k?w:_:n(k)<k?E:P)(k)}return c.invert=function(k){return new Date(d(k))},c.domain=function(k){return arguments.length?h(Array.from(k,eye)):h().map(Zge)},c.ticks=function(k){var C=h();return t(C[0],C[C.length-1],k??10)},c.tickFormat=function(k,C){return C==null?S:u(C)},c.nice=function(k){var C=h();return(!k||typeof k.range!="function")&&(k=e(C[0],C[C.length-1],k??10)),k?h(eV(C,k)):c},c.copy=function(){return Uf(c,rS(t,e,n,r,i,o,s,a,l,u))},c}function tye(){return gr.apply(rS(Jme,Xme,Gi,tS,Uy,Bf,ZT,XT,Ps,hV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nye(){return gr.apply(rS(Kme,Yme,zi,nS,By,Fy,eS,QT,Ps,pV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gy(){var t=0,e=1,n,r,i,o,s=Tn,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var y,v;return arguments.length?([y,v]=h,s=d(y,v),u):[s(0),s(1)]}}return u.range=c(Cu),u.rangeRound=c(BT),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function rs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function mV(){var t=ns(Gy()(Tn));return t.copy=function(){return rs(t,mV())},eo.apply(t,arguments)}function gV(){var t=HT(Gy()).domain([1,10]);return t.copy=function(){return rs(t,gV()).base(t.base())},eo.apply(t,arguments)}function yV(){var t=WT(Gy());return t.copy=function(){return rs(t,yV()).constant(t.constant())},eo.apply(t,arguments)}function iS(){var t=KT(Gy());return t.copy=function(){return rs(t,iS()).exponent(t.exponent())},eo.apply(t,arguments)}function rye(){return iS.apply(null,arguments).exponent(.5)}function vV(){var t=[],e=Tn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Vf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Vo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Gpe(t,o/r))},n.copy=function(){return vV(e).domain(t)},eo.apply(n,arguments)}function zy(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Tn,c,d=!1,h;function y(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-o)*(r*b<r*o?a:l),u(d?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(d=!!b,y):d},y.interpolator=function(b){return arguments.length?(u=b,y):u};function v(b){return function(x){var w,_,E;return arguments.length?([w,_,E]=x,u=mme(b,[w,_,E]),y):[u(0),u(.5),u(1)]}}return y.range=v(Cu),y.rangeRound=v(BT),y.unknown=function(b){return arguments.length?(h=b,y):h},function(b){return c=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function xV(){var t=ns(zy()(Tn));return t.copy=function(){return rs(t,xV())},eo.apply(t,arguments)}function bV(){var t=HT(zy()).domain([.1,1,10]);return t.copy=function(){return rs(t,bV()).base(t.base())},eo.apply(t,arguments)}function _V(){var t=WT(zy());return t.copy=function(){return rs(t,_V()).constant(t.constant())},eo.apply(t,arguments)}function oS(){var t=KT(zy());return t.copy=function(){return rs(t,oS()).exponent(t.exponent())},eo.apply(t,arguments)}function iye(){return oS.apply(null,arguments).exponent(.5)}const BN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jd,scaleDiverging:xV,scaleDivergingLog:bV,scaleDivergingPow:oS,scaleDivergingSqrt:iye,scaleDivergingSymlog:_V,scaleIdentity:Z4,scaleImplicit:Zb,scaleLinear:qm,scaleLog:tV,scaleOrdinal:VT,scalePoint:Gc,scalePow:YT,scaleQuantile:iV,scaleQuantize:oV,scaleRadial:rV,scaleSequential:mV,scaleSequentialLog:gV,scaleSequentialPow:iS,scaleSequentialQuantile:vV,scaleSequentialSqrt:rye,scaleSequentialSymlog:yV,scaleSqrt:$me,scaleSymlog:nV,scaleThreshold:sV,scaleTime:tye,scaleUtc:nye,tickFormat:Q4},Symbol.toStringTag,{value:"Module"}));var oye=xu;function sye(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!oye(s):n(s,a)))var a=s,l=o}return l}var qy=sye;function aye(t,e){return t>e}var wV=aye,lye=qy,uye=wV,cye=Iu;function dye(t){return t&&t.length?lye(t,cye,uye):void 0}var fye=dye;const Eo=Ke(fye);function hye(t,e){return t<e}var EV=hye,pye=qy,mye=EV,gye=Iu;function yye(t){return t&&t.length?pye(t,gye,mye):void 0}var vye=yye;const Hy=Ke(vye);var xye=xT,bye=oi,_ye=R4,wye=jn;function Eye(t,e){var n=wye(t)?xye:_ye;return n(t,bye(e))}var Tye=Eye,Sye=P4,Aye=Tye;function Iye(t,e){return Sye(Aye(t,e),1)}var Cye=Iye;const kye=Ke(Cye);var Pye=MT;function Nye(t,e){return Pye(t,e)}var Rye=Nye;const Ho=Ke(Rye);var ku=1e9,Oye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aS,dt=!0,hr="[DecimalError] ",$s=hr+"Invalid argument: ",sS=hr+"Exponent out of range: ",Pu=Math.floor,bs=Math.pow,Mye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bn,Vt=1e7,lt=7,TV=9007199254740991,Ym=Pu(TV/lt),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*lt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(t){return ki(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,n=e.constructor;return tt(ki(e,new n(t),0,1),n.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return kt(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Bn))throw Error(hr+"NaN");if(n.s<1)throw Error(hr+(n.s?"NaN":"-Infinity"));return n.eq(Bn)?new r(0):(dt=!1,e=ki(Ud(n,o),Ud(t,o),o),dt=!0,tt(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?IV(e,t):SV(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(hr+"NaN");return n.s?(dt=!1,e=ki(n,t,0,1).times(t),dt=!0,n.minus(e)):tt(new r(n),i)};me.naturalExponential=me.exp=function(){return AV(this)};me.naturalLogarithm=me.ln=function(){return Ud(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SV(e,t):IV(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($s+t);if(e=kt(i)+1,r=i.d.length-1,n=r*lt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};me.squareRoot=me.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(hr+"NaN")}for(t=kt(a),dt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=zr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(ki(a,o,s+2)).times(.5),zr(o.d).slice(0,s)===(e=zr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(tt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return dt=!0,tt(r,n)};me.times=me.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,d=c.constructor,h=c.d,y=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%Vt|0,e=a/Vt|0;o[i]=(o[i]+e)%Vt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,dt?tt(t,d.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ei(t,0,ku),e===void 0?e=r.rounding:ei(e,0,8),tt(n,t+kt(n)+1,e))};me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=na(r,!0):(ei(t,0,ku),e===void 0?e=i.rounding:ei(e,0,8),r=tt(new i(r),t+1,e),n=na(r,!0,t+1)),n};me.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?na(i):(ei(t,0,ku),e===void 0?e=o.rounding:ei(e,0,8),r=tt(new o(i),t+kt(i)+1,e),n=na(r.abs(),!1,t+kt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return tt(new e(t),kt(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Bn);if(a=new l(a),!a.s){if(t.s<1)throw Error(hr+"Infinity");return a}if(a.eq(Bn))return a;if(r=l.precision,t.eq(Bn))return tt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=TV){for(i=new l(Bn),e=Math.ceil(r/lt+4),dt=!1;n%2&&(i=i.times(a),zN(i.d,e)),n=Pu(n/2),n!==0;)a=a.times(a),zN(a.d,e);return dt=!0,t.s<0?new l(Bn).div(i):tt(i,r)}}else if(o<0)throw Error(hr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,dt=!1,i=t.times(Ud(a,r+u)),dt=!0,i=AV(i),i.s=o,i};me.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=kt(i),r=na(i,n<=o.toExpNeg||n>=o.toExpPos)):(ei(t,1,ku),e===void 0?e=o.rounding:ei(e,0,8),i=tt(new o(i),t,e),n=kt(i),r=na(i,t<=n||n<=o.toExpNeg,t)),r};me.toSignificantDigits=me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ei(t,1,ku),e===void 0?e=r.rounding:ei(e,0,8)),tt(new r(n),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kt(t),n=t.constructor;return na(t,e<=n.toExpNeg||e>=n.toExpPos)};function SV(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),dt?tt(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(d/lt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Vt|0,l[o]%=Vt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,dt?tt(e,d):e}function ei(t,e,n){if(t!==~~t||t<e||t>n)throw Error($s+t)}function zr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=lt-r.length,n&&(o+=co(n)),o+=r;s=t[e],r=s+"",n=lt-r.length,n&&(o+=co(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ki=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Vt|0,s=o/Vt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Vt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,d,h,y,v,b,x,w,_,E,P,S,k,C,T,I=r.constructor,N=r.s==i.s?1:-1,M=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(hr+"Division by zero");for(l=r.e-i.e,C=D.length,S=M.length,y=new I(N),v=y.d=[],u=0;D[u]==(M[u]||0);)++u;if(D[u]>(M[u]||0)&&--l,o==null?_=o=I.precision:s?_=o+(kt(r)-kt(i))+1:_=o,_<0)return new I(0);if(_=_/lt+2|0,u=0,C==1)for(c=0,D=D[0],_++;(u<S||c)&&_--;u++)E=c*Vt+(M[u]||0),v[u]=E/D|0,c=E%D|0;else{for(c=Vt/(D[0]+1)|0,c>1&&(D=t(D,c),M=t(M,c),C=D.length,S=M.length),P=C,b=M.slice(0,C),x=b.length;x<C;)b[x++]=0;T=D.slice(),T.unshift(0),k=D[0],D[1]>=Vt/2&&++k;do c=0,a=e(D,b,C,x),a<0?(w=b[0],C!=x&&(w=w*Vt+(b[1]||0)),c=w/k|0,c>1?(c>=Vt&&(c=Vt-1),d=t(D,c),h=d.length,x=b.length,a=e(d,b,h,x),a==1&&(c--,n(d,C<h?T:D,h))):(c==0&&(a=c=1),d=D.slice()),h=d.length,h<x&&d.unshift(0),n(b,d,x),a==-1&&(x=b.length,a=e(D,b,C,x),a<1&&(c++,n(b,C<x?T:D,x))),x=b.length):a===0&&(c++,b=[0]),v[u++]=c,a&&b[0]?b[x++]=M[P]||0:(b=[M[P]],x=1);while((P++<S||b[0]!==void 0)&&_--)}return v[0]||v.shift(),y.e=l,tt(y,s?o+kt(y)+1:o)}}();function AV(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,d=c.precision;if(kt(t)>16)throw Error(sS+kt(t));if(!t.s)return new c(Bn);for(dt=!1,a=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(bs(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Bn),c.precision=a;;){if(i=tt(i.times(t),a),n=n.times(++l),s=o.plus(ki(i,n,a)),zr(s.d).slice(0,a)===zr(o.d).slice(0,a)){for(;u--;)o=tt(o.times(o),a);return c.precision=d,e==null?(dt=!0,tt(o,d)):o}o=s}}function kt(t){for(var e=t.e*lt,n=t.d[0];n>=10;n/=10)e++;return e}function A0(t,e,n){if(e>t.LN10.sd())throw dt=!0,n&&(t.precision=n),Error(hr+"LN10 precision limit exceeded");return tt(new t(t.LN10),e)}function co(t){for(var e="";t--;)e+="0";return e}function Ud(t,e){var n,r,i,o,s,a,l,u,c,d=1,h=10,y=t,v=y.d,b=y.constructor,x=b.precision;if(y.s<1)throw Error(hr+(y.s?"NaN":"-Infinity"));if(y.eq(Bn))return new b(0);if(e==null?(dt=!1,u=x):u=e,y.eq(10))return e==null&&(dt=!0),A0(b,u);if(u+=h,b.precision=u,n=zr(v),r=n.charAt(0),o=kt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=zr(y.d),r=n.charAt(0),d++;o=kt(y),r>1?(y=new b("0."+n),o++):y=new b(r+"."+n.slice(1))}else return l=A0(b,u+2,x).times(o+""),y=Ud(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=x,e==null?(dt=!0,tt(y,x)):y;for(a=s=y=ki(y.minus(Bn),y.plus(Bn),u),c=tt(y.times(y),u),i=3;;){if(s=tt(s.times(c),u),l=a.plus(ki(s,new b(i),u)),zr(l.d).slice(0,u)===zr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(A0(b,u+2,x).times(o+""))),a=ki(a,new b(d),u),b.precision=x,e==null?(dt=!0,tt(a,x)):a;a=l,i+=2}}function GN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Pu(n/lt),t.d=[],r=(n+1)%lt,n<0&&(r+=lt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=lt;r<i;)t.d.push(+e.slice(r,r+=lt));e=e.slice(r),r=lt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dt&&(t.e>Ym||t.e<-Ym))throw Error(sS+n)}else t.s=0,t.e=0,t.d=[0];return t}function tt(t,e,n){var r,i,o,s,a,l,u,c,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=lt,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/lt),o=d.length,c>=o)return t;for(u=o=d[c],s=1;o>=10;o/=10)s++;r%=lt,i=r-lt+s}if(n!==void 0&&(o=bs(10,s-i-1),a=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/bs(10,s-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=kt(t),d.length=1,e=e-o-1,d[0]=bs(10,(lt-e%lt)%lt),t.e=Pu(-e/lt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=bs(10,lt-r),d[c]=i>0?(u/bs(10,s-i)%bs(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Vt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=Vt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(dt&&(t.e>Ym||t.e<-Ym))throw Error(sS+kt(t));return t}function IV(t,e){var n,r,i,o,s,a,l,u,c,d,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),dt?tt(e,y):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=d.length):(n=d,r=u,a=l.length),i=Math.max(Math.ceil(y/lt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Vt-1;--l[o],l[i]+=Vt}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,dt?tt(e,y):e):new h(0)}function na(t,e,n){var r,i=kt(t),o=zr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+co(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+co(-i-1)+o,n&&(r=n-s)>0&&(o+=co(r))):i>=s?(o+=co(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+co(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=co(r))),t.s<0?"-"+o:o}function zN(t,e){if(t.length>e)return t.length=e,!0}function CV(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error($s+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return GN(s,o.toString())}else if(typeof o!="string")throw Error($s+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Mye.test(o))GN(s,o);else throw Error($s+o)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CV,i.config=i.set=Dye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Dye(t){if(!t||typeof t!="object")throw Error(hr+"Object expected");var e,n,r,i=["precision",1,ku,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Pu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($s+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($s+n+": "+r);return this}var aS=CV(Oye);Bn=new aS(1);const Qe=aS;function jye(t){return Fye(t)||Vye(t)||$ye(t)||Lye()}function Lye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ye(t,e){if(t){if(typeof t=="string")return r_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r_(t,e)}}function Vye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Fye(t){if(Array.isArray(t))return r_(t)}function r_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Uye=function(e){return e},kV={},PV=function(e){return e===kV},qN=function(e){return function n(){return arguments.length===0||arguments.length===1&&PV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Bye=function t(e,n){return e===1?n:qN(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==kV}).length;return s>=e?n.apply(void 0,i):t(e-s,qN(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(d){return PV(d)?l.shift():d});return n.apply(void 0,jye(c).concat(l))}))})},Wy=function(e){return Bye(e.length,e)},i_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Gye=Wy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),zye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Uye;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},o_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},NV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function qye(t){var e;return t===0?e=1:e=Math.floor(new Qe(t).abs().log(10).toNumber())+1,e}function Hye(t,e,n){for(var r=new Qe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Wye=Wy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Kye=Wy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Yye=Wy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Ky={rangeStep:Hye,getDigitCount:qye,interpolateNumber:Wye,uninterpolateNumber:Kye,uninterpolateTruncation:Yye};function s_(t){return Qye(t)||Xye(t)||RV(t)||Jye()}function Jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qye(t){if(Array.isArray(t))return a_(t)}function Bd(t,e){return tve(t)||eve(t,e)||RV(t,e)||Zye()}function Zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eve(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function tve(t){if(Array.isArray(t))return t}function OV(t){var e=Bd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function MV(t,e,n){if(t.lte(0))return new Qe(0);var r=Ky.getDigitCount(t.toNumber()),i=new Qe(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Qe(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Qe(Math.ceil(l))}function nve(t,e,n){var r=1,i=new Qe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Qe(10).pow(Ky.getDigitCount(t)-1),i=new Qe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Qe(Math.floor(t)))}else t===0?i=new Qe(Math.floor((e-1)/2)):n||(i=new Qe(Math.floor(t)));var s=Math.floor((e-1)/2),a=zye(Gye(function(l){return i.add(new Qe(l-s).mul(r)).toNumber()}),i_);return a(0,e)}function DV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var o=MV(new Qe(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Qe(0):(s=new Qe(t).add(e).div(2),s=s.sub(new Qe(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Qe(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?DV(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Qe(a).mul(o)),tickMax:s.add(new Qe(l).mul(o))})}function rve(t){var e=Bd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=OV([n,r]),l=Bd(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(s_(i_(0,i-1).map(function(){return 1/0}))):[].concat(s_(i_(0,i-1).map(function(){return-1/0})),[c]);return n>r?o_(d):d}if(u===c)return nve(u,i,o);var h=DV(u,c,s,o),y=h.step,v=h.tickMin,b=h.tickMax,x=Ky.rangeStep(v,b.add(new Qe(.1).mul(y)),y);return n>r?o_(x):x}function ive(t,e){var n=Bd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=OV([r,i]),a=Bd(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=MV(new Qe(u).sub(l).div(c-1),o,0),h=[].concat(s_(Ky.rangeStep(new Qe(l),new Qe(u).sub(new Qe(.99).mul(d)),d)),[u]);return r>i?o_(h):h}var ove=NV(rve),sve=NV(ive),ave="Invariant failed";function ra(t,e){throw new Error(ave)}var lve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function uve(t,e){return hve(t)||fve(t,e)||dve(t,e)||cve()}function cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dve(t,e){if(t){if(typeof t=="string")return HN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HN(t,e)}}function HN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function hve(t){if(Array.isArray(t))return t}function pve(t,e){if(t==null)return{};var n=mve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$V(r.key),r)}}function vve(t,e,n){return e&&yve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xve(t,e,n){return e=Xm(e),bve(t,jV()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n))}function bve(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ve(t)}function _ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jV=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function wve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l_(t,e)}function LV(t,e,n){return e=$V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t){var e=Eve(t,"string");return Ll(e)=="symbol"?e:e+""}function Eve(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gf=function(t){function e(){return gve(this,e),xve(this,e,arguments)}return wve(e,t),vve(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=pve(r,lve),y=ge(h,!1);this.props.direction==="x"&&c.type!=="number"&&ra();var v=l.map(function(b){var x=u(b,a),w=x.x,_=x.y,E=x.value,P=x.errorVal;if(!P)return null;var S=[],k,C;if(Array.isArray(P)){var T=uve(P,2);k=T[0],C=T[1]}else k=C=P;if(o==="vertical"){var I=c.scale,N=_+i,M=N+s,D=N-s,R=I(E-k),j=I(E+C);S.push({x1:j,y1:M,x2:j,y2:D}),S.push({x1:R,y1:N,x2:j,y2:N}),S.push({x1:R,y1:M,x2:R,y2:D})}else if(o==="horizontal"){var F=d.scale,V=w+i,z=V-s,$=V+s,G=F(E-k),q=F(E+C);S.push({x1:z,y1:q,x2:$,y2:q}),S.push({x1:V,y1:G,x2:V,y2:q}),S.push({x1:z,y1:G,x2:$,y2:G})}return U.createElement(Oe,Jm({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},y),S.map(function(Y){return U.createElement("line",Jm({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return U.createElement(Oe,{className:"recharts-errorBars"},v)}}])}(U.Component);LV(Gf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LV(Gf,"displayName","ErrorBar");function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){Tve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tve(t,e,n){return e=Sve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sve(t){var e=Ave(t,"string");return Gd(e)=="symbol"?e:e+""}function Ave(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Un(n,Jr);if(!s)return null;var a=Jr.defaultProps,l=a!==void 0?ds(ds({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,y=d.props,v=y.sectors||y.data||[];return c.concat(v.map(function(b){return{type:s.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,y=h!==void 0?ds(ds({},h),d.props):{},v=y.dataKey,b=y.name,x=y.legendType,w=y.hide;return{inactive:w,dataKey:v,type:l.iconType||x||"square",color:lS(d),value:b||v,payload:y}}),ds(ds(ds({},l),Jr.getWithHeight(s,i)),{},{payload:u,item:s})};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function KN(t){return Pve(t)||kve(t)||Cve(t)||Ive()}function Ive(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cve(t,e){if(t){if(typeof t=="string")return u_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(t,e)}}function kve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pve(t){if(Array.isArray(t))return u_(t)}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){pl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pl(t,e,n){return e=Nve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nve(t){var e=Rve(t,"string");return zd(e)=="symbol"?e:e+""}function Rve(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pt(t,e,n){return Ae(t)||Ae(e)?n:Dt(e)?Wn(t,e,n):be(e)?e(t):n}function zc(t,e,n,r){var i=kye(t,function(a){return pt(a,e)});if(n==="number"){var o=i.filter(function(a){return oe(a)||parseFloat(a)});return o.length?[Hy(o),Eo(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Ae(a)}):i;return s.map(function(a){return Dt(a)||a instanceof Date?a:""})}var Ove=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,d=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(wn(d-c)!==wn(h-d)){var v=[];if(wn(h-d)===wn(l[1]-l[0])){y=h;var b=d+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{y=c;var x=h+l[1]-l[0];v[0]=Math.min(d,(x+d)/2),v[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var _=Math.min(c,h),E=Math.max(c,h);if(e>(_+d)/2&&e<=(E+d)/2){s=i[u].index;break}}}else for(var P=0;P<a;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){s=r[P].index;break}return s},lS=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Mve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,d=Object.keys(c),h=0,y=d.length;h<y;h++){var v=c[d[h]],b=v.items,x=v.cateAxisId,w=b.filter(function(C){return Ci(C.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,E=_!==void 0?_t(_t({},_),w[0].props):w[0].props,P=E.barSize,S=E[x];s[S]||(s[S]=[]);var k=Ae(P)?n:P;s[S].push({item:w[0],stackList:w.slice(1),barSize:Ae(k)?void 0:En(k,r,0)})}}return s},Dve=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=En(n,i,0,!0),c,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,v=s.reduce(function(P,S){return P+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&y>0&&(h=!0,y*=.9,v=l*y);var b=(i-v)/2>>0,x={offset:b-u,size:0};c=s.reduce(function(P,S){var k={item:S.item,position:{offset:x.offset+x.size+u,size:h?y:S.barSize}},C=[].concat(KN(P),[k]);return x=C[C.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){C.push({item:T,position:x})}),C},d)}else{var w=En(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var _=(i-2*w-(l-1)*u)/l;_>1&&(_>>=0);var E=a===+a?Math.min(_,a):_;c=s.reduce(function(P,S,k){var C=[].concat(KN(P),[{item:S.item,position:{offset:w+(_+u)*k+(_-E)/2,size:E}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){C.push({item:T,position:C[C.length-1].position})}),C},d)}return c},jve=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=VV({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,y=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&y!=="center"&&oe(e[y]))return _t(_t({},e),{},pl({},y,e[y]+(d||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&v!=="middle"&&oe(e[v]))return _t(_t({},e),{},pl({},v,e[v]+(h||0)))}return e},Lve=function(e,n,r){return Ae(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},FV=function(e,n,r,i,o){var s=n.props.children,a=Kn(s,Gf).filter(function(u){return Lve(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=pt(c,r);if(Ae(d))return u;var h=Array.isArray(d)?[Hy(d),Eo(d)]:[d,d],y=l.reduce(function(v,b){var x=pt(c,b,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),_=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},$ve=function(e,n,r,i,o){var s=n.map(function(a){return FV(e,a,r,o,i)}).filter(function(a){return!Ae(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},UV=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&FV(e,l,u,i)||zc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},BV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},GV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},Ti=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?wn(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Tu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},I0=new WeakMap,Hh=function(e,n){if(typeof n!="function")return e;I0.has(e)||I0.set(e,new WeakMap);var r=I0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},zV=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:jd(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:qm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Gc(),realScaleType:"point"}:o==="category"?{scale:jd(),realScaleType:"band"}:{scale:qm(),realScaleType:"linear"};if(Zs(i)){var l="scale".concat(Ry(i));return{scale:(BN[l]||Gc)(),realScaleType:BN[l]?l:"point"}}return be(i)?{scale:i}:{scale:Gc(),realScaleType:"point"}},JN=1e-4,qV=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-JN,s=Math.max(i[0],i[1])+JN,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Vve=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Fve=function(e,n){if(!n||n.length!==2||!oe(n[0])||!oe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(o[0]=r),(!oe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Uve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Tu(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},Bve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Tu(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Gve={sign:Uve,expand:loe,none:kl,silhouette:uoe,wiggle:coe,positive:Bve},zve=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Gve[r],s=aoe().keys(i).value(function(a,l){return+pt(a,l,0)}).order(Mb).offset(o);return s(e)},qve=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(d,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?_t(_t({},h.type.defaultProps),h.props):h.props,b=v.stackId,x=v.hide;if(x)return d;var w=v[r],_=d[w]||{hasStack:!1,stackGroups:{}};if(Dt(b)){var E=_.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(h),_.hasStack=!0,_.stackGroups[b]=E}else _.stackGroups[fa("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return _t(_t({},d),{},pl({},w,_))},l),c={};return Object.keys(u).reduce(function(d,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,x){var w=y.stackGroups[x];return _t(_t({},b),{},pl({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:zve(e,w.items,o)}))},v)}return _t(_t({},d),{},pl({},h,y))},c)},HV=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=ove(u,o,a);return e.domain([Hy(c),Eo(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=sve(d,o,a);return{niceTicks:h}}return null};function Qm(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ae(i[e.dataKey])){var a=Em(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=pt(i,Ae(s)?e.dataKey:s);return Ae(l)?null:e.scale(l)}var XN=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=pt(s,n.dataKey,n.domain[a]);return Ae(l)?null:n.scale(l)-o/2+i},Hve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Wve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Dt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},Kve=function(e){return e.reduce(function(n,r){return[Hy(r.concat([n[0]]).filter(oe)),Eo(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},WV=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var d=Kve(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},QN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c_=function(e,n,r){if(be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(QN.test(e[0])){var o=+QN.exec(e[0])[1];i[0]=n[0]-o}else be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(ZN.test(e[1])){var s=+ZN.exec(e[1])[1];i[1]=n[1]+s}else be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Zm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=jT(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},eR=function(e,n,r){return!e||!e.length||Ho(e,Wn(r,"type.defaultProps.domain"))?n:e},KV=function(e,n){var r=e.type.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return _t(_t({},ge(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:lS(e),value:pt(n,i),type:l,payload:n,chartType:u,hide:c})};function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){YV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YV(t,e,n){return e=Yve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yve(t){var e=Jve(t,"string");return qd(e)=="symbol"?e:e+""}function Jve(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xve(t,e){return t0e(t)||e0e(t,e)||Zve(t,e)||Qve()}function Qve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zve(t,e){if(t){if(typeof t=="string")return nR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nR(t,e)}}function nR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function t0e(t){if(Array.isArray(t))return t}var eg=Math.PI/180,n0e=function(e){return e*180/Math.PI},He=function(e,n,r,i){return{x:e+Math.cos(-eg*i)*r,y:n+Math.sin(-eg*i)*r}},JV=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},XV=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,u=e.endAngle,c=En(e.cx,s,s/2),d=En(e.cy,a,a/2),h=JV(s,a,r),y=En(e.innerRadius,h,0),v=En(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(x,w){var _=n[w],E=_.domain,P=_.reversed,S;if(Ae(_.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[y,v]),P&&(S=[S[1],S[0]]);else{S=_.range;var k=S,C=Xve(k,2);l=C[0],u=C[1]}var T=zV(_,o),I=T.realScaleType,N=T.scale;N.domain(E).range(S),qV(N);var M=HV(N,hi(hi({},_),{},{realScaleType:I})),D=hi(hi(hi({},_),M),{},{range:S,radius:v,realScaleType:I,scale:N,cx:c,cy:d,innerRadius:y,outerRadius:v,startAngle:l,endAngle:u});return hi(hi({},x),{},YV({},w,D))},{})},r0e=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},i0e=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=r0e({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:n0e(u),angleInRadian:u}},o0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},s0e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},rR=function(e,n){var r=e.x,i=e.y,o=i0e({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=o0e(n),d=c.startAngle,h=c.endAngle,y=a,v;if(d<=h){for(;y>h;)y-=360;for(;y<d;)y+=360;v=y>=d&&y<=h}else{for(;y>d;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=d}return v?hi(hi({},n),{},{radius:s,angle:s0e(y,n)}):null},QV=function(e){return!B.isValidElement(e)&&!be(e)&&typeof e!="boolean"?e.className:""};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}var a0e=["offset"];function l0e(t){return f0e(t)||d0e(t)||c0e(t)||u0e()}function u0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c0e(t,e){if(t){if(typeof t=="string")return d_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(t,e)}}function d0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f0e(t){if(Array.isArray(t))return d_(t)}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h0e(t,e){if(t==null)return{};var n=p0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){m0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m0e(t,e,n){return e=g0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g0e(t){var e=y0e(t,"string");return Hd(e)=="symbol"?e:e+""}function y0e(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}var v0e=function(e){var n=e.value,r=e.formatter,i=Ae(e.children)?n:e.children;return be(r)?r(i):i},x0e=function(e,n){var r=wn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},b0e=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,y=l.startAngle,v=l.endAngle,b=l.clockWise,x=(d+h)/2,w=x0e(y,v),_=w>=0?1:-1,E,P;i==="insideStart"?(E=y+_*s,P=b):i==="insideEnd"?(E=v-_*s,P=!b):i==="end"&&(E=v+_*s,P=b),P=w<=0?P:!P;var S=He(u,c,x,E),k=He(u,c,x,E+(P?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(P?0:1,`,
    `).concat(k.x,",").concat(k.y),T=Ae(e.id)?fa("recharts-radial-line-"):e.id;return U.createElement("text",Wd({},r,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",a)}),U.createElement("defs",null,U.createElement("path",{id:T,d:C})),U.createElement("textPath",{xlinkHref:"#".concat(T)},n))},_0e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var y=He(s,a,u+r,h),v=y.x,b=y.y;return{x:v,y:b,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,w=He(s,a,x,h),_=w.x,E=w.y;return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},w0e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,d=c>=0?1:-1,h=d*i,y=d>0?"end":"start",v=d>0?"start":"end",b=u>=0?1:-1,x=b*i,w=b>0?"end":"start",_=b>0?"start":"end";if(o==="top"){var E={x:a+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:y};return Nt(Nt({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var P={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return Nt(Nt({},P),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:a-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Nt(Nt({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var k={x:a+u+x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Nt(Nt({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var C=r?{width:u,height:c}:{};return o==="insideLeft"?Nt({x:a+x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},C):o==="insideRight"?Nt({x:a+u-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},C):o==="insideTop"?Nt({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},C):o==="insideBottom"?Nt({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},C):o==="insideTopLeft"?Nt({x:a+x,y:l+h,textAnchor:_,verticalAnchor:v},C):o==="insideTopRight"?Nt({x:a+u-x,y:l+h,textAnchor:w,verticalAnchor:v},C):o==="insideBottomLeft"?Nt({x:a+x,y:l+c-h,textAnchor:_,verticalAnchor:y},C):o==="insideBottomRight"?Nt({x:a+u-x,y:l+c-h,textAnchor:w,verticalAnchor:y},C):bu(o)&&(oe(o.x)||Cs(o.x))&&(oe(o.y)||Cs(o.y))?Nt({x:a+En(o.x,u),y:l+En(o.y,c),textAnchor:"end",verticalAnchor:"end"},C):Nt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},C)},E0e=function(e){return"cx"in e&&oe(e.cx)};function Bt(t){var e=t.offset,n=e===void 0?5:e,r=h0e(t,a0e),i=Nt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||Ae(a)&&Ae(l)&&!B.isValidElement(u)&&!be(u))return null;if(B.isValidElement(u))return B.cloneElement(u,i);var y;if(be(u)){if(y=B.createElement(u,i),B.isValidElement(y))return y}else y=v0e(i);var v=E0e(o),b=ge(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return b0e(i,y,b);var x=v?_0e(i):w0e(i);return U.createElement(ta,Wd({className:Ie("recharts-label",d)},b,x,{breakAll:h}),y)}Bt.displayName="Label";var ZV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,y=e.top,v=e.left,b=e.width,x=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(oe(b)&&oe(x)){if(oe(d)&&oe(h))return{x:d,y:h,width:b,height:x};if(oe(y)&&oe(v))return{x:y,y:v,width:b,height:x}}return oe(d)&&oe(h)?{x:d,y:h,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:w}:e.viewBox?e.viewBox:{}},T0e=function(e,n){return e?e===!0?U.createElement(Bt,{key:"label-implicit",viewBox:n}):Dt(e)?U.createElement(Bt,{key:"label-implicit",viewBox:n,value:e}):B.isValidElement(e)?e.type===Bt?B.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(Bt,{key:"label-implicit",content:e,viewBox:n}):be(e)?U.createElement(Bt,{key:"label-implicit",content:e,viewBox:n}):bu(e)?U.createElement(Bt,Wd({viewBox:n},e,{key:"label-implicit"})):null:null},S0e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=ZV(e),s=Kn(i,Bt).map(function(l,u){return B.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=T0e(e.label,n||o);return[a].concat(l0e(s))};Bt.parseViewBox=ZV;Bt.renderCallByParent=S0e;function A0e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var I0e=A0e;const eF=Ke(I0e);function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}var C0e=["valueAccessor"],k0e=["data","dataKey","clockWise","id","textBreakAll"];function P0e(t){return M0e(t)||O0e(t)||R0e(t)||N0e()}function N0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R0e(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function O0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M0e(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tg.apply(this,arguments)}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){D0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D0e(t,e,n){return e=j0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j0e(t){var e=L0e(t,"string");return Kd(e)=="symbol"?e:e+""}function L0e(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aR(t,e){if(t==null)return{};var n=$0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var V0e=function(e){return Array.isArray(e.value)?eF(e.value):e.value};function Or(t){var e=t.valueAccessor,n=e===void 0?V0e:e,r=aR(t,C0e),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=aR(r,k0e);return!i||!i.length?null:U.createElement(Oe,{className:"recharts-label-list"},i.map(function(c,d){var h=Ae(o)?n(c,d):pt(c&&c.payload,o),y=Ae(a)?{}:{id:"".concat(a,"-").concat(d)};return U.createElement(Bt,tg({},ge(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Bt.parseViewBox(Ae(s)?c:sR(sR({},c),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Or.displayName="LabelList";function F0e(t,e){return t?t===!0?U.createElement(Or,{key:"labelList-implicit",data:e}):U.isValidElement(t)||be(t)?U.createElement(Or,{key:"labelList-implicit",data:e,content:t}):bu(t)?U.createElement(Or,tg({data:e},t,{key:"labelList-implicit"})):null:null}function U0e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Kn(r,Or).map(function(s,a){return B.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=F0e(t.label,e);return[o].concat(P0e(i))}Or.renderCallByParent=U0e;function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){B0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B0e(t,e,n){return e=G0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G0e(t){var e=z0e(t,"string");return Yd(e)=="symbol"?e:e+""}function z0e(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q0e=function(e,n){var r=wn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Wh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,d=Math.asin(l/c)/eg,h=u?o:o+s*d,y=He(n,r,c,h),v=He(n,r,i,h),b=u?o-s*d:o,x=He(n,r,c*Math.cos(d*eg),b);return{center:y,circleTangency:v,lineTangency:x,theta:d}},tF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=q0e(s,a),u=s+l,c=He(n,r,o,s),d=He(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var y=He(n,r,i,s),v=He(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},H0e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=wn(c-u),h=Wh({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,v=h.lineTangency,b=h.theta,x=Wh({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),w=x.circleTangency,_=x.lineTangency,E=x.theta,P=l?Math.abs(u-c):Math.abs(u-c)-b-E;if(P<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):tF({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var k=Wh({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=k.circleTangency,T=k.lineTangency,I=k.theta,N=Wh({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),M=N.circleTangency,D=N.lineTangency,R=N.theta,j=l?Math.abs(u-c):Math.abs(u-c)-I-R;if(j<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(d>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},W0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nF=function(e){var n=uR(uR({},W0e),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(s<o||c===d)return null;var y=Ie("recharts-sector",h),v=s-o,b=En(a,v,0,!0),x;return b>0&&Math.abs(c-d)<360?x=H0e({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):x=tF({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:d}),U.createElement("path",h_({},ge(n,!0),{className:y,d:x,role:"img"}))};function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){K0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0e(t,e,n){return e=Y0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y0e(t){var e=J0e(t,"string");return Jd(e)=="symbol"?e:e+""}function J0e(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fR={curveBasisClosed:Jie,curveBasisOpen:Xie,curveBasis:Yie,curveBumpX:Die,curveBumpY:jie,curveLinearClosed:Qie,curveLinear:My,curveMonotoneX:Zie,curveMonotoneY:eoe,curveNatural:toe,curveStep:noe,curveStepAfter:ioe,curveStepBefore:roe},Kh=function(e){return e.x===+e.x&&e.y===+e.y},fc=function(e){return e.x},hc=function(e){return e.y},X0e=function(e,n){if(be(e))return e;var r="curve".concat(Ry(e));return(r==="curveMonotone"||r==="curveBump")&&n?fR["".concat(r).concat(n==="vertical"?"Y":"X")]:fR[r]||My},Q0e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=X0e(r,a),d=u?o.filter(function(b){return Kh(b)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(b){return Kh(b)}):s,v=d.map(function(b,x){return dR(dR({},b),{},{base:y[x]})});return a==="vertical"?h=$h().y(hc).x1(fc).x0(function(b){return b.base.x}):h=$h().x(fc).y1(hc).y0(function(b){return b.base.y}),h.defined(Kh).curve(c),h(v)}return a==="vertical"&&oe(s)?h=$h().y(hc).x1(fc).x0(s):oe(s)?h=$h().x(fc).y1(hc).y0(s):h=Y$().x(fc).y(hc),h.defined(Kh).curve(c),h(d)},Vs=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Q0e(e):i;return B.createElement("path",p_({},ge(e,!1),Tm(e),{className:Ie("recharts-curve",n),d:s,ref:o}))},rF={exports:{}},Z0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",exe=Z0e,txe=exe;function iF(){}function oF(){}oF.resetWarningCache=iF;var nxe=function(){function t(r,i,o,s,a,l){if(l!==txe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:oF,resetWarningCache:iF};return n.PropTypes=n,n};rF.exports=nxe();var rxe=rF.exports;const We=Ke(rxe),{getOwnPropertyNames:ixe,getOwnPropertySymbols:oxe}=Object,{hasOwnProperty:sxe}=Object.prototype;function C0(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Yh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function axe(t){return t!=null?t[Symbol.toStringTag]:void 0}function hR(t){return ixe(t).concat(oxe(t))}const lxe=Object.hasOwn||((t,e)=>sxe.call(t,e));function ga(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const uxe="__v",cxe="__o",dxe="_owner",{getOwnPropertyDescriptor:pR,keys:mR}=Object;function fxe(t,e){return t.byteLength===e.byteLength&&ng(new Uint8Array(t),new Uint8Array(e))}function hxe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function pxe(t,e){return t.byteLength===e.byteLength&&ng(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function mxe(t,e){return ga(t.getTime(),e.getTime())}function gxe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function yxe(t,e){return t===e}function gR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,d=0;for(;(a=u.next())&&!a.done;){if(i[d]){d++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,d,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const vxe=ga;function xxe(t,e,n){const r=mR(t);let i=r.length;if(mR(e).length!==i)return!1;for(;i-- >0;)if(!sF(t,e,n,r[i]))return!1;return!0}function pc(t,e,n){const r=hR(t);let i=r.length;if(hR(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!sF(t,e,n,o)||(s=pR(t,o),a=pR(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function bxe(t,e){return ga(t.valueOf(),e.valueOf())}function _xe(t,e){return t.source===e.source&&t.flags===e.flags}function yR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function ng(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function wxe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function sF(t,e,n,r){return(r===dxe||r===cxe||r===uxe)&&(t.$$typeof||e.$$typeof)?!0:lxe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Exe="[object ArrayBuffer]",Txe="[object Arguments]",Sxe="[object Boolean]",Axe="[object DataView]",Ixe="[object Date]",Cxe="[object Error]",kxe="[object Map]",Pxe="[object Number]",Nxe="[object Object]",Rxe="[object RegExp]",Oxe="[object Set]",Mxe="[object String]",Dxe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},jxe="[object URL]",Lxe=Object.prototype.toString;function $xe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:v}){return function(x,w,_){if(x===w)return!0;if(x==null||w==null)return!1;const E=typeof x;if(E!==typeof w)return!1;if(E!=="object")return E==="number"?a(x,w,_):E==="function"?o(x,w,_):!1;const P=x.constructor;if(P!==w.constructor)return!1;if(P===Object)return l(x,w,_);if(Array.isArray(x))return e(x,w,_);if(P===Date)return r(x,w,_);if(P===RegExp)return c(x,w,_);if(P===Map)return s(x,w,_);if(P===Set)return d(x,w,_);const S=Lxe.call(x);if(S===Ixe)return r(x,w,_);if(S===Rxe)return c(x,w,_);if(S===kxe)return s(x,w,_);if(S===Oxe)return d(x,w,_);if(S===Nxe)return typeof x.then!="function"&&typeof w.then!="function"&&l(x,w,_);if(S===jxe)return y(x,w,_);if(S===Cxe)return i(x,w,_);if(S===Txe)return l(x,w,_);if(Dxe[S])return h(x,w,_);if(S===Exe)return t(x,w,_);if(S===Axe)return n(x,w,_);if(S===Sxe||S===Pxe||S===Mxe)return u(x,w,_);if(v){let k=v[S];if(!k){const C=axe(x);C&&(k=v[C])}if(k)return k(x,w,_)}return!1}}function Vxe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:fxe,areArraysEqual:n?pc:hxe,areDataViewsEqual:pxe,areDatesEqual:mxe,areErrorsEqual:gxe,areFunctionsEqual:yxe,areMapsEqual:n?C0(gR,pc):gR,areNumbersEqual:vxe,areObjectsEqual:n?pc:xxe,arePrimitiveWrappersEqual:bxe,areRegExpsEqual:_xe,areSetsEqual:n?C0(yR,pc):yR,areTypedArraysEqual:n?C0(ng,pc):ng,areUrlsEqual:wxe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Yh(r.areArraysEqual),o=Yh(r.areMapsEqual),s=Yh(r.areObjectsEqual),a=Yh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function Fxe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function Uxe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const Bxe=is();is({strict:!0});is({circular:!0});is({circular:!0,strict:!0});is({createInternalComparator:()=>ga});is({strict:!0,createInternalComparator:()=>ga});is({circular:!0,createInternalComparator:()=>ga});is({circular:!0,createInternalComparator:()=>ga,strict:!0});function is(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Vxe(t),s=$xe(o),a=n?n(s):Fxe(s);return Uxe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function Gxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function vR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Gxe(i)};requestAnimationFrame(r)}function m_(t){"@babel/helpers - typeof";return m_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m_(t)}function zxe(t){return Kxe(t)||Wxe(t)||Hxe(t)||qxe()}function qxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hxe(t,e){if(t){if(typeof t=="string")return xR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xR(t,e)}}function xR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kxe(t){if(Array.isArray(t))return t}function Yxe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=zxe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){vR(i.bind(null,u),l);return}i(l),vR(i.bind(null,u));return}m_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){aF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aF(t,e,n){return e=Jxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jxe(t){var e=Xxe(t,"string");return Xd(e)==="symbol"?e:String(e)}function Xxe(t,e){if(Xd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qxe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Zxe=function(e){return e},ebe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},qc=function(e,n){return Object.keys(n).reduce(function(r,i){return _R(_R({},r),{},aF({},i,e(i,n[i])))},{})},wR=function(e,n,r){return e.map(function(i){return"".concat(ebe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function tbe(t,e){return ibe(t)||rbe(t,e)||lF(t,e)||nbe()}function nbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ibe(t){if(Array.isArray(t))return t}function obe(t){return lbe(t)||abe(t)||lF(t)||sbe()}function sbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lF(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function abe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lbe(t){if(Array.isArray(t))return g_(t)}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rg=1e-4,uF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},cF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},ER=function(e,n){return function(r){var i=uF(e,n);return cF(i,r)}},ube=function(e,n){return function(r){var i=uF(e,n),o=[].concat(obe(i.map(function(s,a){return s*a}).slice(1)),[0]);return cF(o,r)}},TR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=tbe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var d=ER(i,s),h=ER(o,a),y=ube(i,s),v=function(w){return w>1?1:w<0?0:w},b=function(w){for(var _=w>1?1:w,E=_,P=0;P<8;++P){var S=d(E)-_,k=y(E);if(Math.abs(S-_)<rg||k<rg)return h(E);E=v(E-S/k)}return h(E)};return b.isStepper=!1,b},cbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,d,h){var y=-(c-d)*r,v=h*o,b=h+(y-v)*a/1e3,x=h*a/1e3+c;return Math.abs(x-d)<rg&&Math.abs(b)<rg?[d,0]:[x,b]};return l.isStepper=!0,l.dt=a,l},dbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TR(i);case"spring":return cbe();default:if(i.split("(")[0]==="cubic-bezier")return TR(i)}return typeof i=="function"?i:null};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function SR(t){return pbe(t)||hbe(t)||dF(t)||fbe()}function fbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pbe(t){if(Array.isArray(t))return v_(t)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y_(t,e,n){return e=mbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mbe(t){var e=gbe(t,"string");return Qd(e)==="symbol"?e:String(e)}function gbe(t,e){if(Qd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ybe(t,e){return bbe(t)||xbe(t,e)||dF(t,e)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dF(t,e){if(t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function bbe(t){if(Array.isArray(t))return t}var ig=function(e,n,r){return e+(n-e)*r},x_=function(e){var n=e.from,r=e.to;return n!==r},_be=function t(e,n,r){var i=qc(function(o,s){if(x_(s)){var a=e(s.from,s.to,s.velocity),l=ybe(a,2),u=l[0],c=l[1];return Wt(Wt({},s),{},{from:u,velocity:c})}return s},n);return r<1?qc(function(o,s){return x_(s)?Wt(Wt({},s),{},{velocity:ig(s.velocity,i[o].velocity,r),from:ig(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const wbe=function(t,e,n,r,i){var o=Qxe(t,e),s=o.reduce(function(x,w){return Wt(Wt({},x),{},y_({},w,[t[w],e[w]]))},{}),a=o.reduce(function(x,w){return Wt(Wt({},x),{},y_({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return qc(function(w,_){return _.from},a)},y=function(){return!Object.values(a).filter(x_).length},v=function(w){u||(u=w);var _=w-u,E=_/n.dt;a=_be(n,a,E),i(Wt(Wt(Wt({},t),e),h())),u=w,y()||(l=requestAnimationFrame(d))},b=function(w){c||(c=w);var _=(w-c)/r,E=qc(function(S,k){return ig.apply(void 0,SR(k).concat([n(_)]))},s);if(i(Wt(Wt(Wt({},t),e),E)),_<1)l=requestAnimationFrame(d);else{var P=qc(function(S,k){return ig.apply(void 0,SR(k).concat([n(1)]))},s);i(Wt(Wt(Wt({},t),e),P))}};return d=n.isStepper?v:b,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}var Ebe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Tbe(t,e){if(t==null)return{};var n=Sbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function k0(t){return kbe(t)||Cbe(t)||Ibe(t)||Abe()}function Abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ibe(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function Cbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kbe(t){if(Array.isArray(t))return b_(t)}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){Ac(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ac(t,e,n){return e=fF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fF(r.key),r)}}function Rbe(t,e,n){return e&&Nbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fF(t){var e=Obe(t,"string");return $l(e)==="symbol"?e:String(e)}function Obe(t,e){if($l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&__(t,e)}function __(t,e){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},__(t,e)}function Dbe(t){var e=jbe();return function(){var r=og(t),i;if(e){var o=og(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return w_(this,i)}}function w_(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E_(t)}function E_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},og(t)}var pr=function(t){Mbe(n,t);var e=Dbe(n);function n(r,i){var o;Pbe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,d=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(E_(o)),o.changeStyle=o.changeStyle.bind(E_(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),w_(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},w_(o);o.state={style:l?Ac({},l,u):u}}else o.state={style:{}};return o}return Rbe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(a){if(!s){var y={style:l?Ac({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(Bxe(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?d:i.to;if(this.state&&h){var x={style:l?Ac({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation(xr(xr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,y=wbe(s,a,dbe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,d=u.duration,h=d===void 0?0:d,y=function(b,x,w){if(w===0)return b;var _=x.duration,E=x.easing,P=E===void 0?"ease":E,S=x.style,k=x.properties,C=x.onAnimationEnd,T=w>0?s[w-1]:x,I=k||Object.keys(S);if(typeof P=="function"||P==="spring")return[].concat(k0(b),[o.runJSAnimation.bind(o,{from:T.style,to:S,duration:_,easing:P}),_]);var N=wR(I,_,P),M=xr(xr(xr({},T.style),S),{},{transition:N});return[].concat(k0(b),[M,_,C]).filter(Zxe)};return this.manager.start([l].concat(k0(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Yxe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=a?Ac({},a,l):l,x=wR(Object.keys(b),s,u);v.start([c,o,xr(xr({},b),{},{transition:x}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Tbe(i,Ebe),u=B.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var d=function(y){var v=y.props,b=v.style,x=b===void 0?{}:b,w=v.className,_=B.cloneElement(y,xr(xr({},l),{},{style:xr(xr({},x),c),className:w}));return _};return u===1?d(B.Children.only(o)):U.createElement("div",null,B.Children.map(o,function(h){return d(h)}))}}]),n}(B.PureComponent);pr.displayName="Animate";pr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pr.propTypes={from:We.oneOfType([We.object,We.string]),to:We.oneOfType([We.object,We.string]),attributeName:We.string,duration:We.number,begin:We.number,easing:We.oneOfType([We.string,We.func]),steps:We.arrayOf(We.shape({duration:We.number.isRequired,style:We.object.isRequired,easing:We.oneOfType([We.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),We.func]),properties:We.arrayOf("string"),onAnimationEnd:We.func})),children:We.oneOfType([We.node,We.func]),isActive:We.bool,canBegin:We.bool,onAnimationEnd:We.func,shouldReAnimate:We.bool,onAnimationStart:We.func,onAnimationReStart:We.func};function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function Lbe(t,e){return Ube(t)||Fbe(t,e)||Vbe(t,e)||$be()}function $be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vbe(t,e){if(t){if(typeof t=="string")return CR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CR(t,e)}}function CR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ube(t){if(Array.isArray(t))return t}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){Bbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bbe(t,e,n){return e=Gbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gbe(t){var e=zbe(t,"string");return Zd(e)=="symbol"?e:e+""}function zbe(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NR=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,y=4;h<y;h++)d[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*d[1])),c+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*d[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},qbe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},Hbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uS=function(e){var n=PR(PR({},Hbe),e),r=B.useRef(),i=B.useState(-1),o=Lbe(i,2),s=o[0],a=o[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&a(P)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var E=Ie("recharts-rectangle",y);return _?U.createElement(pr,{canBegin:s>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:b,animationEasing:v,isActive:_},function(P){var S=P.width,k=P.height,C=P.x,T=P.y;return U.createElement(pr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:w,easing:v},U.createElement("path",sg({},ge(n,!0),{className:E,d:NR(C,T,S,k,h),ref:r})))}):U.createElement("path",sg({},ge(n,!0),{className:E,d:NR(l,u,c,d,h)}))},Wbe=["points","className","baseLinePoints","connectNulls"];function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ja.apply(this,arguments)}function Kbe(t,e){if(t==null)return{};var n=Ybe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ybe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RR(t){return Zbe(t)||Qbe(t)||Xbe(t)||Jbe()}function Jbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xbe(t,e){if(t){if(typeof t=="string")return T_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(t,e)}}function Qbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zbe(t){if(Array.isArray(t))return T_(t)}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var OR=function(e){return e&&e.x===+e.x&&e.y===+e.y},e_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){OR(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),OR(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Hc=function(e,n){var r=e_e(e);n&&(r=[r.reduce(function(o,s){return[].concat(RR(o),RR(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},t_e=function(e,n,r){var i=Hc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Hc(n.reverse(),r).slice(1))},hF=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=Kbe(e,Wbe);if(!n||!n.length)return null;var a=Ie("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=t_e(n,i,o);return U.createElement("g",{className:a},U.createElement("path",Ja({},ge(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?U.createElement("path",Ja({},ge(s,!0),{fill:"none",d:Hc(n,o)})):null,l?U.createElement("path",Ja({},ge(s,!0),{fill:"none",d:Hc(i,o)})):null)}var c=Hc(n,o);return U.createElement("path",Ja({},ge(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",className:a,d:c}))};function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}var Nu=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ie("recharts-dot",o);return n===+n&&r===+r&&i===+i?B.createElement("circle",S_({},ge(e,!1),Tm(e),{className:s,cx:n,cy:r,r:i})):null};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}var n_e=["x","y","top","left","width","height","className"];function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(this,arguments)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){i_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_e(t,e,n){return e=o_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o_e(t){var e=s_e(t,"string");return ef(e)=="symbol"?e:e+""}function s_e(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a_e(t,e){if(t==null)return{};var n=l_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var u_e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},c_e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,y=h===void 0?0:h,v=e.className,b=a_e(e,n_e),x=r_e({x:r,y:o,top:a,left:u,width:d,height:y},b);return!oe(r)||!oe(o)||!oe(d)||!oe(y)||!oe(a)||!oe(u)?null:U.createElement("path",A_({},ge(x,!0),{className:Ie("recharts-cross",v),d:u_e(r,o,d,y,a,u)}))},d_e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function f_e(t,e){if(t==null)return{};var n=h_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qi(){return qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qi.apply(this,arguments)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){p_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_e(t,e,n){return e=m_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m_e(t){var e=g_e(t,"string");return tf(e)=="symbol"?e:e+""}function g_e(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y_e=function(e,n,r,i){var o="";return i.forEach(function(s,a){var l=He(n,r,e,s);a?o+="L ".concat(l.x,",").concat(l.y):o+="M ".concat(l.x,",").concat(l.y)}),o+="Z",o},v_e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.polarAngles,a=e.radialLines;if(!s||!s.length||!a)return null;var l=nf({stroke:"#ccc"},ge(e,!1));return U.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(u){var c=He(n,r,i,u),d=He(n,r,o,u);return U.createElement("line",qi({},l,{key:"line-".concat(u),x1:c.x,y1:c.y,x2:d.x,y2:d.y}))}))},x_e=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.index,s=nf(nf({stroke:"#ccc"},ge(e,!1)),{},{fill:"none"});return U.createElement("circle",qi({},s,{className:Ie("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(o),cx:n,cy:r,r:i}))},b_e=function(e){var n=e.radius,r=e.index,i=nf(nf({stroke:"#ccc"},ge(e,!1)),{},{fill:"none"});return U.createElement("path",qi({},i,{className:Ie("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:y_e(n,e.cx,e.cy,e.polarAngles)}))},__e=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:U.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,o){var s=o;return r==="circle"?U.createElement(x_e,qi({key:s},e,{radius:i,index:o})):U.createElement(b_e,qi({key:s},e,{radius:i,index:o}))}))},pF=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,o=i===void 0?0:i,s=e.innerRadius,a=s===void 0?0:s,l=e.outerRadius,u=l===void 0?0:l,c=e.gridType,d=c===void 0?"polygon":c,h=e.radialLines,y=h===void 0?!0:h,v=f_e(e,d_e);return u<=0?null:U.createElement("g",{className:"recharts-polar-grid"},U.createElement(v_e,qi({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:d,radialLines:y},v)),U.createElement(__e,qi({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:d,radialLines:y},v)))};pF.displayName="PolarGrid";var w_e=qy,E_e=wV,T_e=oi;function S_e(t,e){return t&&t.length?w_e(t,T_e(e),E_e):void 0}var A_e=S_e;const I_e=Ke(A_e);var C_e=qy,k_e=oi,P_e=EV;function N_e(t,e){return t&&t.length?C_e(t,k_e(e),P_e):void 0}var R_e=N_e;const O_e=Ke(R_e);var M_e=["cx","cy","angle","ticks","axisLine"],D_e=["ticks","tick","angle","tickFormatter","stroke"];function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Yy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LR(t,e){if(t==null)return{};var n=j_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function L_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gF(r.key),r)}}function $_e(t,e,n){return e&&$R(t.prototype,e),n&&$R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V_e(t,e,n){return e=ag(e),F_e(t,mF()?Reflect.construct(e,n||[],ag(t).constructor):e.apply(t,n))}function F_e(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U_e(t)}function U_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function B_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function Yy(t,e,n){return e=gF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){var e=G_e(t,"string");return Vl(e)=="symbol"?e:e+""}function G_e(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ru=function(t){function e(){return L_e(this,e),V_e(this,e,arguments)}return B_e(e,t),$_e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return He(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=I_e(a,function(c){return c.coordinate||0}),u=O_e(a,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,u=LR(r,M_e),c=a.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),d=He(i,o,c[0],s),h=He(i,o,c[1],s),y=fs(fs(fs({},ge(u,!1)),{},{fill:"none"},ge(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return U.createElement("line",Wc({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,c=LR(i,D_e),d=this.getTickTextAnchor(),h=ge(c,!1),y=ge(s,!1),v=o.map(function(b,x){var w=r.getTickValueCoord(b),_=fs(fs(fs(fs({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},y),{},{index:x},w),{},{payload:b});return U.createElement(Oe,Wc({className:Ie("recharts-polar-radius-axis-tick",QV(s)),key:"tick-".concat(b.coordinate)},ea(r.props,b,x)),e.renderTickItem(s,_,l?l(b.value,x):b.value))});return U.createElement(Oe,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:U.createElement(Oe,{className:Ie("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Bt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return U.isValidElement(r)?s=U.cloneElement(r,i):be(r)?s=r(i):s=U.createElement(ta,Wc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(B.PureComponent);Yy(Ru,"displayName","PolarRadiusAxis");Yy(Ru,"axisType","radiusAxis");Yy(Ru,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ws.apply(this,arguments)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){Jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vF(r.key),r)}}function q_e(t,e,n){return e&&FR(t.prototype,e),n&&FR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function H_e(t,e,n){return e=lg(e),W_e(t,yF()?Reflect.construct(e,n||[],lg(t).constructor):e.apply(t,n))}function W_e(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K_e(t)}function K_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yF=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}function Y_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function Jy(t,e,n){return e=vF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vF(t){var e=J_e(t,"string");return Fl(e)=="symbol"?e:e+""}function J_e(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var X_e=Math.PI/180,UR=1e-5,Ou=function(t){function e(){return z_e(this,e),H_e(this,e,arguments)}return Y_e(e,t),q_e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=He(o,s,a,r.coordinate),h=He(o,s,a+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*X_e),s;return o>UR?s=i==="outer"?"start":"end":o<-UR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,u=hs(hs({},ge(this.props,!1)),{},{fill:"none"},ge(a,!1));if(l==="circle")return U.createElement(Nu,ws({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var c=this.props.ticks,d=c.map(function(h){return He(i,o,s,h.coordinate)});return U.createElement(hF,ws({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ge(this.props,!1),d=ge(s,!1),h=hs(hs({},c),{},{fill:"none"},ge(a,!1)),y=o.map(function(v,b){var x=r.getTickLineCoord(v),w=r.getTickTextAnchor(v),_=hs(hs(hs({textAnchor:w},c),{},{stroke:"none",fill:u},d),{},{index:b,payload:v,x:x.x2,y:x.y2});return U.createElement(Oe,ws({className:Ie("recharts-polar-angle-axis-tick",QV(s)),key:"tick-".concat(v.coordinate)},ea(r.props,v,b)),a&&U.createElement("line",ws({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&e.renderTickItem(s,_,l?l(v.value,b):v.value))});return U.createElement(Oe,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:U.createElement(Oe,{className:Ie("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return U.isValidElement(r)?s=U.cloneElement(r,i):be(r)?s=r(i):s=U.createElement(ta,ws({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(B.PureComponent);Jy(Ou,"displayName","PolarAngleAxis");Jy(Ou,"axisType","angleAxis");Jy(Ou,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Q_e=x4,Z_e=Q_e(Object.getPrototypeOf,Object),ewe=Z_e,twe=Xi,nwe=ewe,rwe=Qi,iwe="[object Object]",owe=Function.prototype,swe=Object.prototype,xF=owe.toString,awe=swe.hasOwnProperty,lwe=xF.call(Object);function uwe(t){if(!rwe(t)||twe(t)!=iwe)return!1;var e=nwe(t);if(e===null)return!0;var n=awe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&xF.call(n)==lwe}var cwe=uwe;const dwe=Ke(cwe);var fwe=Xi,hwe=Qi,pwe="[object Boolean]";function mwe(t){return t===!0||t===!1||hwe(t)&&fwe(t)==pwe}var gwe=mwe;const ywe=Ke(gwe);function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}function vwe(t,e){return wwe(t)||_we(t,e)||bwe(t,e)||xwe()}function xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bwe(t,e){if(t){if(typeof t=="string")return BR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BR(t,e)}}function BR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _we(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wwe(t){if(Array.isArray(t))return t}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){Ewe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ewe(t,e,n){return e=Twe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Twe(t){var e=Swe(t,"string");return rf(e)=="symbol"?e:e+""}function Swe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qR=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Awe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Iwe=function(e){var n=zR(zR({},Awe),e),r=B.useRef(),i=B.useState(-1),o=vwe(i,2),s=o[0],a=o[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var _=Ie("recharts-trapezoid",y);return w?U.createElement(pr,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(E){var P=E.upperWidth,S=E.lowerWidth,k=E.height,C=E.x,T=E.y;return U.createElement(pr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},U.createElement("path",ug({},ge(n,!0),{className:_,d:qR(C,T,P,S,k),ref:r})))}):U.createElement("g",null,U.createElement("path",ug({},ge(n,!0),{className:_,d:qR(l,u,c,d,h)})))},Cwe=["option","shapeType","propTransformer","activeClassName","isActive"];function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function kwe(t,e){if(t==null)return{};var n=Pwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){Nwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nwe(t,e,n){return e=Rwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rwe(t){var e=Owe(t,"string");return of(e)=="symbol"?e:e+""}function Owe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mwe(t,e){return cg(cg({},e),t)}function Dwe(t,e){return t==="symbols"}function WR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(uS,n);case"trapezoid":return U.createElement(Iwe,n);case"sector":return U.createElement(nF,n);case"symbols":if(Dwe(e))return U.createElement(CT,n);break;default:return null}}function jwe(t){return B.isValidElement(t)?t.props:t}function bF(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Mwe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=kwe(t,Cwe),u;if(B.isValidElement(e))u=B.cloneElement(e,cg(cg({},l),jwe(e)));else if(be(e))u=e(l);else if(dwe(e)&&!ywe(e)){var c=i(e,l);u=U.createElement(WR,{shapeType:n,elementProps:c})}else{var d=l;u=U.createElement(WR,{shapeType:n,elementProps:d})}return a?U.createElement(Oe,{className:s},u):u}function Xy(t,e){return e!=null&&"trapezoids"in t.props}function Qy(t,e){return e!=null&&"sectors"in t.props}function sf(t,e){return e!=null&&"points"in t.props}function Lwe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function $we(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Vwe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Fwe(t,e){var n;return Xy(t,e)?n=Lwe:Qy(t,e)?n=$we:sf(t,e)&&(n=Vwe),n}function Uwe(t,e){var n;return Xy(t,e)?n="trapezoids":Qy(t,e)?n="sectors":sf(t,e)&&(n="points"),n}function Bwe(t,e){if(Xy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Qy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return sf(t,e)?e.payload:{}}function Gwe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Uwe(n,e),o=Bwe(n,e),s=r.filter(function(l,u){var c=Ho(o,l),d=n.props[i].filter(function(v){var b=Fwe(n,e);return b(v,e)}),h=n.props[i].indexOf(d[d.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var Ep;function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wF(r.key),r)}}function qwe(t,e,n){return e&&YR(t.prototype,e),n&&YR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hwe(t,e,n){return e=dg(e),Wwe(t,_F()?Reflect.construct(e,n||[],dg(t).constructor):e.apply(t,n))}function Wwe(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kwe(t)}function Kwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function Ywe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function rr(t,e,n){return e=wF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wF(t){var e=Jwe(t,"string");return Ul(e)=="symbol"?e:e+""}function Jwe(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var si=function(t){function e(n){var r;return zwe(this,e),r=Hwe(this,e,[n]),rr(r,"pieRef",null),rr(r,"sectorRefs",[]),rr(r,"id",fa("recharts-pie-")),rr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),be(i)&&i()}),rr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Ywe(e,t),qwe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,u=o.valueKey,c=ge(this.props,!1),d=ge(s,!1),h=ge(a,!1),y=s&&s.offsetRadius||20,v=r.map(function(b,x){var w=(b.startAngle+b.endAngle)/2,_=He(b.cx,b.cy,b.outerRadius+y,w),E=nt(nt(nt(nt({},c),b),{},{stroke:"none"},d),{},{index:x,textAnchor:e.getTextAnchor(_.x,b.cx)},_),P=nt(nt(nt(nt({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:x,points:[He(b.cx,b.cy,b.outerRadius,w),_]}),S=l;return Ae(l)&&Ae(u)?S="value":Ae(l)&&(S=u),U.createElement(Oe,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},a&&e.renderLabelLineItem(a,P,"line"),e.renderLabelItem(s,E,pt(b,S)))});return U.createElement(Oe,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,y=d?s:h,v=nt(nt({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return U.createElement(Oe,Xa({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},ea(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),U.createElement(bF,Xa({option:y,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,y=d.prevIsAnimationActive;return U.createElement(pr,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],w=o&&o[0],_=w.startAngle;return o.forEach(function(E,P){var S=h&&h[P],k=P>0?Wn(E,"paddingAngle",0):0;if(S){var C=ht(S.endAngle-S.startAngle,E.endAngle-E.startAngle),T=nt(nt({},E),{},{startAngle:_+k,endAngle:_+C(b)+k});x.push(T),_=T.endAngle}else{var I=E.endAngle,N=E.startAngle,M=ht(0,I-N),D=M(b),R=nt(nt({},E),{},{startAngle:_+k,endAngle:_+D+k});x.push(R),_=R.endAngle}}),U.createElement(Oe,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!Ho(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,y=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!s||!s.length||!oe(u)||!oe(c)||!oe(d)||!oe(h))return null;var b=Ie("recharts-pie",a);return U.createElement(Oe,{tabIndex:this.props.rootTabIndex,className:b,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(s),Bt.renderCallByParent(this.props,null,!1),(!y||v)&&Or.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(U.isValidElement(r))return U.cloneElement(r,i);if(be(r))return r(i);var s=Ie("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return U.createElement(Vs,Xa({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(U.isValidElement(r))return U.cloneElement(r,i);var s=o;if(be(r)&&(s=r(i),U.isValidElement(s)))return s;var a=Ie("recharts-pie-label-text",typeof r!="boolean"&&!be(r)?r.className:"");return U.createElement(ta,Xa({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(B.PureComponent);Ep=si;rr(si,"displayName","Pie");rr(si,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Zi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});rr(si,"parseDeltaAngle",function(t,e){var n=wn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});rr(si,"getRealPieData",function(t){var e=t.data,n=t.children,r=ge(t,!1),i=Kn(n,ha);return e&&e.length?e.map(function(o,s){return nt(nt(nt({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return nt(nt({},r),o.props)}):[]});rr(si,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=JV(i,o),a=r+En(t.cx,i,i/2),l=n+En(t.cy,o,o/2),u=En(t.innerRadius,s,0),c=En(t.outerRadius,s,s*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});rr(si,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?nt(nt({},e.type.defaultProps),e.props):e.props,i=Ep.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,y=Math.abs(r.minAngle),v=Ep.parseCoordinateOfPie(r,n),b=Ep.parseDeltaAngle(s,a),x=Math.abs(b),w=u;Ae(u)&&Ae(d)?(Rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Ae(u)&&(Rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var _=i.filter(function(T){return pt(T,w,0)!==0}).length,E=(x>=360?_:_-1)*l,P=x-_*y-E,S=i.reduce(function(T,I){var N=pt(I,w,0);return T+(oe(N)?N:0)},0),k;if(S>0){var C;k=i.map(function(T,I){var N=pt(T,w,0),M=pt(T,c,I),D=(oe(N)?N:0)/S,R;I?R=C.endAngle+wn(b)*l*(N!==0?1:0):R=s;var j=R+wn(b)*((N!==0?y:0)+D*P),F=(R+j)/2,V=(v.innerRadius+v.outerRadius)/2,z=[{name:M,value:N,payload:T,dataKey:w,type:h}],$=He(v.cx,v.cy,V,F);return C=nt(nt(nt({percent:D,cornerRadius:o,name:M,tooltipPayload:z,midAngle:F,middleRadius:V,tooltipPosition:$},T),v),{},{value:pt(T,w),startAngle:R,endAngle:j,payload:T,paddingAngle:wn(b)*l}),C})}return nt(nt({},v),{},{sectors:k,data:i})});function Xwe(t){return t&&t.length?t[0]:void 0}var Qwe=Xwe,Zwe=Qwe;const eEe=Ke(Zwe);var tEe=["key"];function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function nEe(t,e){if(t==null)return{};var n=rEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){gi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TF(r.key),r)}}function oEe(t,e,n){return e&&XR(t.prototype,e),n&&XR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sEe(t,e,n){return e=hg(e),aEe(t,EF()?Reflect.construct(e,n||[],hg(t).constructor):e.apply(t,n))}function aEe(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lEe(t)}function lEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}function uEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function gi(t,e,n){return e=TF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TF(t){var e=cEe(t,"string");return Bl(e)=="symbol"?e:e+""}function cEe(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gl=function(t){function e(){var n;iEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=sEe(this,e,[].concat(i)),gi(n,"state",{isAnimationFinished:!1}),gi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),be(s)&&s()}),gi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),be(s)&&s()}),gi(n,"handleMouseEnter",function(s){var a=n.props.onMouseEnter;a&&a(n.props,s)}),gi(n,"handleMouseLeave",function(s){var a=n.props.onMouseLeave;a&&a(n.props,s)}),n}return uEe(e,t),oEe(e,[{key:"renderDots",value:function(r){var i=this.props,o=i.dot,s=i.dataKey,a=ge(this.props,!1),l=ge(o,!0),u=r.map(function(c,d){var h=xn(xn(xn({key:"dot-".concat(d),r:3},a),l),{},{dataKey:s,cx:c.x,cy:c.y,index:d,payload:c});return e.renderDotItem(o,h)});return U.createElement(Oe,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,o=i.shape,s=i.dot,a=i.isRange,l=i.baseLinePoints,u=i.connectNulls,c;return U.isValidElement(o)?c=U.cloneElement(o,xn(xn({},this.props),{},{points:r})):be(o)?c=o(xn(xn({},this.props),{},{points:r})):c=U.createElement(hF,fg({},ge(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:a?l:null,connectNulls:u})),U.createElement(Oe,{className:"recharts-radar-polygon"},c,s?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,o=i.points,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state.prevPoints;return U.createElement(pr,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,v=d&&d.length/o.length,b=o.map(function(x,w){var _=d&&d[Math.floor(w*v)];if(_){var E=ht(_.x,x.x),P=ht(_.y,x.y);return xn(xn({},x),{},{x:E(y),y:P(y)})}var S=ht(x.cx,x.x),k=ht(x.cy,x.y);return xn(xn({},x),{},{x:S(y),y:k(y)})});return r.renderPolygonStatically(b)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,s=r.isRange,a=this.state.prevPoints;return o&&i&&i.length&&!s&&(!a||!Ho(a,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.className,s=r.points,a=r.isAnimationActive;if(i||!s||!s.length)return null;var l=this.state.isAnimationFinished,u=Ie("recharts-radar",o);return U.createElement(Oe,{className:u},this.renderPolygon(),(!a||l)&&Or.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var o;if(U.isValidElement(r))o=U.cloneElement(r,i);else if(be(r))o=r(i);else{var s=i.key,a=nEe(i,tEe);o=U.createElement(Nu,fg({},a,{key:s,className:Ie("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(B.PureComponent);gi(Gl,"displayName","Radar");gi(Gl,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Zi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});gi(Gl,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,o=t.bandSize,s=n.cx,a=n.cy,l=!1,u=[],c=n.type!=="number"?o??0:0;r.forEach(function(h,y){var v=pt(h,n.dataKey,y),b=pt(h,i),x=n.scale(v)+c,w=Array.isArray(b)?eF(b):b,_=Ae(w)?void 0:e.scale(w);Array.isArray(b)&&b.length>=2&&(l=!0),u.push(xn(xn({},He(s,a,_,x)),{},{name:v,value:b,cx:s,cy:a,radius:_,angle:x,payload:h}))});var d=[];return l&&u.forEach(function(h){if(Array.isArray(h.value)){var y=eEe(h.value),v=Ae(y)?void 0:e.scale(y);d.push(xn(xn({},h),{},{radius:v},He(s,a,v,h.angle)))}else d.push(h)}),{points:u,isRange:l,baseLinePoints:d}});var dEe=Math.ceil,fEe=Math.max;function hEe(t,e,n,r){for(var i=-1,o=fEe(dEe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var pEe=hEe,mEe=$4,QR=1/0,gEe=17976931348623157e292;function yEe(t){if(!t)return t===0?t:0;if(t=mEe(t),t===QR||t===-QR){var e=t<0?-1:1;return e*gEe}return t===t?t:0}var SF=yEe,vEe=pEe,xEe=$y,P0=SF;function bEe(t){return function(e,n,r){return r&&typeof r!="number"&&xEe(e,n,r)&&(n=r=void 0),e=P0(e),n===void 0?(n=e,e=0):n=P0(n),r=r===void 0?e<n?1:-1:P0(r),vEe(e,n,r,t)}}var _Ee=bEe,wEe=_Ee,EEe=wEe(),TEe=EEe;const pg=Ke(TEe);function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){AF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AF(t,e,n){return e=SEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SEe(t){var e=AEe(t,"string");return af(e)=="symbol"?e:e+""}function AEe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IEe=["Webkit","Moz","O","ms"],CEe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=IEe.reduce(function(o,s){return e2(e2({},o),{},AF({},s+r,n))},{});return i[e]=n,i};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){Vn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CF(r.key),r)}}function PEe(t,e,n){return e&&n2(t.prototype,e),n&&n2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NEe(t,e,n){return e=gg(e),REe(t,IF()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function REe(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OEe(t)}function OEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function MEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function Vn(t,e,n){return e=CF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CF(t){var e=DEe(t,"string");return zl(e)=="symbol"?e:e+""}function DEe(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Gc().domain(pg(0,l)).range([o,o+s-a]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},r2=function(e){return e.changedTouches&&!!e.changedTouches.length},ql=function(t){function e(n){var r;return kEe(this,e),r=NEe(this,e,[n]),Vn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Vn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vn(r,"handleSlideDragStart",function(i){var o=r2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return MEe(e,t),PEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,d),v=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=pt(o[r],a,r);return be(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,y=l.endIndex,v=l.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+c-d-a,u+c-d-s):b<0&&(b=Math.max(b,u-s,u-a));var x=this.getIndex({startX:s+b,endX:a+b});(x.startIndex!==h||x.endIndex!==y)&&v&&v(x),this.setState({startX:s+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=r2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,d=c.x,h=c.width,y=c.travellerWidth,v=c.onChange,b=c.gap,x=c.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,d+h-y-u):_<0&&(_=Math.max(_,d-u)),w[s]=u+_;var E=this.getIndex(w),P=E.startIndex,S=E.endIndex,k=function(){var T=x.length-1;return s==="startX"&&(a>l?P%b===0:S%b===0)||a<l&&S===T||s==="endX"&&(a>l?S%b===0:P%b===0)||a>l&&S===T};this.setState(Vn(Vn({},s,u+_),"brushMoveStartX",r.pageX),function(){v&&k()&&v(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],d=a.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Vn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return U.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,d=B.Children.only(u);return d?U.cloneElement(d,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,y=l.ariaLabel,v=l.data,b=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),_=N0(N0({},ge(this.props,!1)),{},{x:w,y:u,width:c,height:d}),E=y||"Min value: ".concat((o=v[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return U.createElement(Oe,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,y=5,v={pointerEvents:"none",fill:u};return U.createElement(Oe,{className:"recharts-brush-texts"},U.createElement(ta,mg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-y,y:s+a/2},v),this.getTextOfTick(i)),U.createElement(ta,mg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+y,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,y=h.startX,v=h.endX,b=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!oe(a)||!oe(l)||!oe(u)||!oe(c)||u<=0||c<=0)return null;var E=Ie("recharts-brush",o),P=U.Children.count(s)===1,S=CEe("userSelect","none");return U.createElement(Oe,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||w||_||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):be(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return N0({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?jEe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(B.PureComponent);Vn(ql,"displayName","Brush");Vn(ql,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var LEe=DT;function $Ee(t,e){var n;return LEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var VEe=$Ee,FEe=d4,UEe=oi,BEe=VEe,GEe=jn,zEe=$y;function qEe(t,e,n){var r=GEe(t)?FEe:BEe;return n&&zEe(t,e,n)&&(e=void 0),r(t,UEe(e))}var HEe=qEe;const WEe=Ke(HEe);var Qr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},i2=O4;function KEe(t,e,n){e=="__proto__"&&i2?i2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var YEe=KEe,JEe=YEe,XEe=N4,QEe=oi;function ZEe(t,e){var n={};return e=QEe(e),XEe(t,function(r,i,o){JEe(n,i,e(r,i,o))}),n}var eTe=ZEe;const tTe=Ke(eTe);function nTe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var rTe=nTe,iTe=DT;function oTe(t,e){var n=!0;return iTe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var sTe=oTe,aTe=rTe,lTe=sTe,uTe=oi,cTe=jn,dTe=$y;function fTe(t,e,n){var r=cTe(t)?aTe:lTe;return n&&dTe(t,e,n)&&(e=void 0),r(t,uTe(e))}var hTe=fTe;const kF=Ke(hTe);var pTe=["x","y"];function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){mTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mTe(t,e,n){return e=gTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gTe(t){var e=yTe(t,"string");return lf(e)=="symbol"?e:e+""}function yTe(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vTe(t,e){if(t==null)return{};var n=xTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bTe(t,e){var n=t.x,r=t.y,i=vTe(t,pTe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return mc(mc(mc(mc(mc({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function s2(t){return U.createElement(bF,R_({shapeType:"rectangle",propTransformer:bTe,activeClassName:"recharts-active-bar"},t))}var _Te=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=oe(r)||_re(r);return o?e(r,i):(o||ra(),n)}},wTe=["value","background"],PF;function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function ETe(t,e){if(t==null)return{};var n=TTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){To(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function STe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RF(r.key),r)}}function ATe(t,e,n){return e&&l2(t.prototype,e),n&&l2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ITe(t,e,n){return e=vg(e),CTe(t,NF()?Reflect.construct(e,n||[],vg(t).constructor):e.apply(t,n))}function CTe(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kTe(t)}function kTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!t})()}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vg(t)}function PTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function To(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RF(t){var e=NTe(t,"string");return Hl(e)=="symbol"?e:e+""}function NTe(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ti=function(t){function e(){var n;STe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ITe(this,e,[].concat(i)),To(n,"state",{isAnimationFinished:!1}),To(n,"id",fa("recharts-bar-")),To(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),To(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return PTe(e,t),ATe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ge(this.props,!1);return r&&r.map(function(d,h){var y=h===l,v=y?u:s,b=At(At(At({},c),d),{},{isActive:y,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(Oe,yg({className:"recharts-bar-rectangle"},ea(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),U.createElement(s2,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return U.createElement(pr,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,b=o.map(function(x,w){var _=h&&h[w];if(_){var E=ht(_.x,x.x),P=ht(_.y,x.y),S=ht(_.width,x.width),k=ht(_.height,x.height);return At(At({},x),{},{x:E(v),y:P(v),width:S(v),height:k(v)})}if(s==="horizontal"){var C=ht(0,x.height),T=C(v);return At(At({},x),{},{y:x.y+x.height-T,height:T})}var I=ht(0,x.width),N=I(v);return At(At({},x),{},{width:N})});return U.createElement(Oe,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Ho(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=ge(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=ETe(u,wTe);if(!d)return null;var y=At(At(At(At(At({},h),{},{fill:"#eee"},d),l),ea(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return U.createElement(s2,yg({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Kn(c,Gf);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(x,w){var _=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:_,errorVal:pt(x,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(Oe,v,d.map(function(b){return U.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,y=r.isAnimationActive,v=r.background,b=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,w=Ie("recharts-bar",s),_=a&&a.allowDataOverflow,E=l&&l.allowDataOverflow,P=_||E,S=Ae(b)?this.id:b;return U.createElement(Oe,{className:w},_||E?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(S)},U.createElement("rect",{x:_?u:u-d/2,y:E?c:c-h/2,width:_?d:d*2,height:E?h:h*2}))):null,U.createElement(Oe,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,S),(!y||x)&&Or.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(B.PureComponent);PF=ti;To(ti,"displayName","Bar");To(ti,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});To(ti,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,y=Vve(r,n);if(!y)return null;var v=e.layout,b=n.type.defaultProps,x=b!==void 0?At(At({},b),n.props):n.props,w=x.dataKey,_=x.children,E=x.minPointSize,P=v==="horizontal"?s:o,S=u?P.scale.domain():null,k=Hve({numericAxis:P}),C=Kn(_,ha),T=d.map(function(I,N){var M,D,R,j,F,V;u?M=Fve(u[c+N],S):(M=pt(I,w),Array.isArray(M)||(M=[k,M]));var z=_Te(E,PF.defaultProps.minPointSize)(M[1],N);if(v==="horizontal"){var $,G=[s.scale(M[0]),s.scale(M[1])],q=G[0],Y=G[1];D=XN({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:I,index:N}),R=($=Y??q)!==null&&$!==void 0?$:void 0,j=y.size;var H=q-Y;if(F=Number.isNaN(H)?0:H,V={x:D,y:s.y,width:j,height:s.height},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var ne=wn(F||z)*(Math.abs(z)-Math.abs(F));R-=ne,F+=ne}}else{var he=[o.scale(M[0]),o.scale(M[1])],W=he[0],le=he[1];if(D=W,R=XN({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:I,index:N}),j=le-W,F=y.size,V={x:o.x,y:R,width:o.width,height:F},Math.abs(z)>0&&Math.abs(j)<Math.abs(z)){var ce=wn(j||z)*(Math.abs(z)-Math.abs(j));j+=ce}}return At(At(At({},I),{},{x:D,y:R,width:j,height:F,value:u?M:M[1],payload:I,background:V},C&&C[N]&&C[N].props),{},{tooltipPayload:[KV(n,I)],tooltipPosition:{x:D+j/2,y:R+F/2}})});return At({data:T,layout:v},h)});function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function RTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OF(r.key),r)}}function OTe(t,e,n){return e&&u2(t.prototype,e),n&&u2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){Zy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zy(t,e,n){return e=OF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OF(t){var e=MTe(t,"string");return uf(e)=="symbol"?e:e+""}function MTe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cS=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Un(u,ti);return c.reduce(function(y,v){var b=n[v],x=b.orientation,w=b.domain,_=b.padding,E=_===void 0?{}:_,P=b.mirror,S=b.reversed,k="".concat(x).concat(P?"Mirror":""),C,T,I,N,M;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var D=w[1]-w[0],R=1/0,j=b.categoricalDomain.sort(Tre);if(j.forEach(function(he,W){W>0&&(R=Math.min((he||0)-(j[W-1]||0),R))}),Number.isFinite(R)){var F=R/D,V=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(C=F*V/2),b.padding==="no-gap"){var z=En(e.barCategoryGap,F*V),$=F*V/2;C=$-z-($-z)/V*z}}}i==="xAxis"?T=[r.left+(E.left||0)+(C||0),r.left+r.width-(E.right||0)-(C||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(C||0),r.top+r.height-(E.bottom||0)-(C||0)]:T=b.range,S&&(T=[T[1],T[0]]);var G=zV(b,o,h),q=G.scale,Y=G.realScaleType;q.domain(w).range(T),qV(q);var H=HV(q,wr(wr({},b),{},{realScaleType:Y}));i==="xAxis"?(M=x==="top"&&!P||x==="bottom"&&P,I=r.left,N=d[k]-M*b.height):i==="yAxis"&&(M=x==="left"&&!P||x==="right"&&P,I=d[k]-M*b.width,N=r.top);var ne=wr(wr(wr({},b),H),{},{realScaleType:Y,x:I,y:N,scale:q,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return ne.bandSize=Zm(ne,H),!b.hide&&i==="xAxis"?d[k]+=(M?-1:1)*ne.height:b.hide||(d[k]+=(M?-1:1)*ne.width),wr(wr({},y),{},Zy({},v,ne))},{})},MF=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},DTe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return MF({x:n,y:r},{x:i,y:o})},DF=function(){function t(e){RTe(this,t),this.scale=e}return OTe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Zy(DF,"EPS",1e-4);var dS=function(e){var n=Object.keys(e).reduce(function(r,i){return wr(wr({},r),{},Zy({},i,DF.create(e[i])))},{});return wr(wr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return tTe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return kF(i,function(o,s){return n[s].isInRange(o)})}})};function jTe(t){return(t%180+180)%180}var LTe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=jTe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},$Te=oi,VTe=$f,FTe=jy;function UTe(t){return function(e,n,r){var i=Object(e);if(!VTe(e)){var o=$Te(n);e=FTe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var BTe=UTe,GTe=SF;function zTe(t){var e=GTe(t),n=e%1;return e===e?n?e-n:e:0}var qTe=zTe,HTe=S4,WTe=oi,KTe=qTe,YTe=Math.max;function JTe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:KTe(n);return i<0&&(i=YTe(r+i,0)),HTe(t,WTe(e),i)}var XTe=JTe,QTe=BTe,ZTe=XTe,eSe=QTe(ZTe),tSe=eSe;const nSe=Ke(tSe);var rSe=Ine(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),fS=B.createContext(void 0),hS=B.createContext(void 0),jF=B.createContext(void 0),LF=B.createContext({}),$F=B.createContext(void 0),VF=B.createContext(0),FF=B.createContext(0),d2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=rSe(o);return U.createElement(fS.Provider,{value:r},U.createElement(hS.Provider,{value:i},U.createElement(LF.Provider,{value:o},U.createElement(jF.Provider,{value:c},U.createElement($F.Provider,{value:s},U.createElement(VF.Provider,{value:u},U.createElement(FF.Provider,{value:l},a)))))))},iSe=function(){return B.useContext($F)},UF=function(e){var n=B.useContext(fS);n==null&&ra();var r=n[e];return r==null&&ra(),r},oSe=function(){var e=B.useContext(fS);return vo(e)},sSe=function(){var e=B.useContext(hS),n=nSe(e,function(r){return kF(r.domain,Number.isFinite)});return n||vo(e)},BF=function(e){var n=B.useContext(hS);n==null&&ra();var r=n[e];return r==null&&ra(),r},aSe=function(){var e=B.useContext(jF);return e},lSe=function(){return B.useContext(LF)},pS=function(){return B.useContext(FF)},mS=function(){return B.useContext(VF)};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function uSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zF(r.key),r)}}function dSe(t,e,n){return e&&cSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fSe(t,e,n){return e=xg(e),hSe(t,GF()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function hSe(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pSe(t)}function pSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GF=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function mSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){gS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gS(t,e,n){return e=zF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zF(t){var e=gSe(t,"string");return Wl(e)=="symbol"?e:e+""}function gSe(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ySe(t,e){return _Se(t)||bSe(t,e)||xSe(t,e)||vSe()}function vSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xSe(t,e){if(t){if(typeof t=="string")return p2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p2(t,e)}}function p2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function _Se(t){if(Array.isArray(t))return t}function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}var wSe=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):be(e)?r=e(n):r=U.createElement("line",D_({},n,{className:"recharts-reference-line-line"})),r},ESe=function(e,n,r,i,o,s,a,l,u){var c=o.x,d=o.y,h=o.width,y=o.height;if(r){var v=u.y,b=e.y.apply(v,{position:s});if(Qr(u,"discard")&&!e.y.isInRange(b))return null;var x=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?x.reverse():x}if(n){var w=u.x,_=e.x.apply(w,{position:s});if(Qr(u,"discard")&&!e.x.isInRange(_))return null;var E=[{x:_,y:d+y},{x:_,y:d}];return a==="top"?E.reverse():E}if(i){var P=u.segment,S=P.map(function(k){return e.apply(k,{position:s})});return Qr(u,"discard")&&WEe(S,function(k){return!e.isInRange(k)})?null:S}return null};function TSe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=iSe(),c=UF(i),d=BF(o),h=aSe();if(!u||!h)return null;Rr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=dS({x:c.scale,y:d.scale}),v=Dt(e),b=Dt(n),x=r&&r.length===2,w=ESe(y,v,b,x,h,t.position,c.orientation,d.orientation,t);if(!w)return null;var _=ySe(w,2),E=_[0],P=E.x,S=E.y,k=_[1],C=k.x,T=k.y,I=Qr(t,"hidden")?"url(#".concat(u,")"):void 0,N=h2(h2({clipPath:I},ge(t,!0)),{},{x1:P,y1:S,x2:C,y2:T});return U.createElement(Oe,{className:Ie("recharts-reference-line",a)},wSe(s,N),Bt.renderCallByParent(t,DTe({x1:P,y1:S,x2:C,y2:T})))}var zf=function(t){function e(){return uSe(this,e),fSe(this,e,arguments)}return mSe(e,t),dSe(e,[{key:"render",value:function(){return U.createElement(TSe,this.props)}}])}(U.Component);gS(zf,"displayName","ReferenceLine");gS(zf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){ev(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ASe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HF(r.key),r)}}function ISe(t,e,n){return e&&ASe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CSe(t,e,n){return e=bg(e),kSe(t,qF()?Reflect.construct(e,n||[],bg(t).constructor):e.apply(t,n))}function kSe(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PSe(t)}function PSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qF=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}function NSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L_(t,e)}function ev(t,e,n){return e=HF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HF(t){var e=RSe(t,"string");return Kl(e)=="symbol"?e:e+""}function RSe(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OSe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=dS({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Qr(e,"discard")&&!s.isInRange(a)?null:a},tv=function(t){function e(){return SSe(this,e),CSe(this,e,arguments)}return NSe(e,t),ISe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Dt(i),c=Dt(o);if(Rr(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=OSe(this.props);if(!d)return null;var h=d.x,y=d.y,v=this.props,b=v.shape,x=v.className,w=Qr(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=g2(g2({clipPath:w},ge(this.props,!0)),{},{cx:h,cy:y});return U.createElement(Oe,{className:Ie("recharts-reference-dot",x)},e.renderDot(b,_),Bt.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}(U.Component);ev(tv,"displayName","ReferenceDot");ev(tv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ev(tv,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):be(t)?n=t(e):n=U.createElement(Nu,j_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){nv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KF(r.key),r)}}function jSe(t,e,n){return e&&DSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LSe(t,e,n){return e=_g(e),$Se(t,WF()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function $Se(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VSe(t)}function VSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function FSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function nv(t,e,n){return e=KF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KF(t){var e=USe(t,"string");return Yl(e)=="symbol"?e:e+""}function USe(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BSe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=dS({x:c.scale,y:d.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Qr(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:MF(y,v)},rv=function(t){function e(){return MSe(this,e),LSe(this,e,arguments)}return FSe(e,t),jSe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Rr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Dt(i),h=Dt(o),y=Dt(s),v=Dt(a),b=this.props.shape;if(!d&&!h&&!y&&!v&&!b)return null;var x=BSe(d,h,y,v,this.props);if(!x&&!b)return null;var w=Qr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return U.createElement(Oe,{className:Ie("recharts-reference-area",l)},e.renderRect(b,v2(v2({clipPath:w},ge(this.props,!0)),x)),Bt.renderCallByParent(this.props,x))}}])}(U.Component);nv(rv,"displayName","ReferenceArea");nv(rv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});nv(rv,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):be(t)?n=t(e):n=U.createElement(uS,$_({},e,{className:"recharts-reference-area-rect"})),n});function YF(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function GSe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return LTe(r,n)}function zSe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function wg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function qSe(t,e){return YF(t,e+1)}function HSe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:YF(r,u)};var b=l,x,w=function(){return x===void 0&&(x=n(v,b)),x},_=v.coordinate,E=l===0||wg(t,_,w,c,a);E||(l=0,c=s,u+=1),E&&(c=_+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){WSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WSe(t,e,n){return e=KSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KSe(t){var e=YSe(t,"string");return cf(e)=="symbol"?e:e+""}function YSe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JSe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],v,b=function(){return v===void 0&&(v=n(y,h)),v};if(h===s-1){var x=t*(y.coordinate+t*b()/2-l);o[h]=y=un(un({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else o[h]=y=un(un({},y),{},{tickCoord:y.coordinate});var w=wg(t,y.tickCoord,b,a,l);w&&(l=y.tickCoord-t*(b()/2+i),o[h]=un(un({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function XSe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],d=n(c,a-1),h=t*(c.coordinate+t*d/2-u);s[a-1]=c=un(un({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=wg(t,c.tickCoord,function(){return d},l,u);y&&(u=c.tickCoord-t*(d/2+i),s[a-1]=un(un({},c),{},{isShow:!0}))}for(var v=o?a-1:a,b=function(_){var E=s[_],P,S=function(){return P===void 0&&(P=n(E,_)),P};if(_===0){var k=t*(E.coordinate-t*S()/2-l);s[_]=E=un(un({},E),{},{tickCoord:k<0?E.coordinate-k*t:E.coordinate})}else s[_]=E=un(un({},E),{},{tickCoord:E.coordinate});var C=wg(t,E.tickCoord,S,l,u);C&&(l=E.tickCoord+t*(S()/2+i),s[_]=un(un({},E),{},{isShow:!0}))},x=0;x<v;x++)b(x);return s}function yS(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(oe(l)||Zi.isSsr)return qSe(i,typeof l=="number"&&oe(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",v=c&&y==="width"?Bc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(E,P){var S=be(u)?u(E.value,P):E.value;return y==="width"?GSe(Bc(S,{fontSize:e,letterSpacing:n}),v,d):Bc(S,{fontSize:e,letterSpacing:n})[y]},x=i.length>=2?wn(i[1].coordinate-i[0].coordinate):1,w=zSe(o,x,y);return l==="equidistantPreserveStart"?HSe(x,w,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=XSe(x,w,b,i,s,l==="preserveStartEnd"):h=JSe(x,w,b,i,s),h.filter(function(_){return _.isShow}))}var QSe=["viewBox"],ZSe=["viewBox"],e1e=["ticks"];function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){vS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R0(t,e){if(t==null)return{};var n=t1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XF(r.key),r)}}function r1e(t,e,n){return e&&_2(t.prototype,e),n&&_2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i1e(t,e,n){return e=Eg(e),o1e(t,JF()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function o1e(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s1e(t)}function s1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JF=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function a1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function vS(t,e,n){return e=XF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XF(t){var e=l1e(t,"string");return Jl(e)=="symbol"?e:e+""}function l1e(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mu=function(t){function e(n){var r;return n1e(this,e),r=i1e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return a1e(e,t),r1e(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=R0(r,QSe),a=this.props,l=a.viewBox,u=R0(a,ZSe);return!fl(o,l)||!fl(s,u)||!fl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,y,v,b,x,w,_,E=d?-1:1,P=r.tickSize||c,S=oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=v=r.coordinate,x=s+ +!d*l,b=x-E*P,_=b-E*h,w=S;break;case"left":b=x=r.coordinate,v=o+ +!d*a,y=v-E*P,w=y-E*h,_=S;break;case"right":b=x=r.coordinate,v=o+ +d*a,y=v+E*P,w=y+E*h,_=S;break;default:y=v=r.coordinate,x=s+ +d*l,b=x+E*P,_=b+E*h,w=S;break}return{line:{x1:y,y1:b,x2:v,y2:x},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=Pt(Pt(Pt({},ge(this.props,!1)),ge(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=Pt(Pt({},d),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);d=Pt(Pt({},d),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return U.createElement("line",Qa({},d,{className:Ie("recharts-cartesian-axis-line",Wn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,d=a.tickFormatter,h=a.unit,y=yS(Pt(Pt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=ge(this.props,!1),w=ge(c,!1),_=Pt(Pt({},x),{},{fill:"none"},ge(l,!1)),E=y.map(function(P,S){var k=s.getTickLineCoord(P),C=k.line,T=k.tick,I=Pt(Pt(Pt(Pt({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:u},w),T),{},{index:S,payload:P,visibleTicksCount:y.length,tickFormatter:d});return U.createElement(Oe,Qa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},ea(s.props,P,S)),l&&U.createElement("line",Qa({},_,C,{className:Ie("recharts-cartesian-axis-tick-line",Wn(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(be(d)?d(P.value,S):P.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,y=R0(d,e1e),v=h;return be(l)&&(v=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!v||!v.length?null:U.createElement(Oe,{className:Ie("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Bt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ie(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?s=U.cloneElement(r,Pt(Pt({},i),{},{className:a})):be(r)?s=r(Pt(Pt({},i),{},{className:a})):s=U.createElement(ta,Qa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(B.Component);vS(Mu,"displayName","CartesianAxis");vS(Mu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var u1e=["x1","y1","x2","y2","key"],c1e=["offset"];function ia(t){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ia(t)}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){d1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d1e(t,e,n){return e=f1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f1e(t){var e=h1e(t,"string");return ia(e)=="symbol"?e:e+""}function h1e(t,e){if(ia(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ia(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ns.apply(this,arguments)}function E2(t,e){if(t==null)return{};var n=p1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var m1e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return U.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function QF(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(be(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=E2(e,u1e),u=ge(l,!1);u.offset;var c=E2(u,c1e);n=U.createElement("line",Ns({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function g1e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=dn(dn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return QF(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function y1e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=dn(dn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return QF(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function v1e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var d=c.map(function(h,y){var v=!c[y+1],b=v?i+s-h:c[y+1]-h;if(b<=0)return null;var x=y%e.length;return U.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:b,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function x1e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var d=c.map(function(h,y){var v=!c[y+1],b=v?o+a-h:c[y+1]-h;if(b<=0)return null;var x=y%r.length;return U.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var b1e=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return GV(yS(dn(dn(dn({},Mu.defaultProps),r),{},{ticks:Ti(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},_1e=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return GV(yS(dn(dn(dn({},Mu.defaultProps),r),{},{ticks:Ti(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},Aa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Xl(t){var e,n,r,i,o,s,a=pS(),l=mS(),u=lSe(),c=dn(dn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Aa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Aa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Aa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Aa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Aa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Aa.verticalFill,x:oe(t.x)?t.x:u.left,y:oe(t.y)?t.y:u.top,width:oe(t.width)?t.width:u.width,height:oe(t.height)?t.height:u.height}),d=c.x,h=c.y,y=c.width,v=c.height,b=c.syncWithTicks,x=c.horizontalValues,w=c.verticalValues,_=oSe(),E=sSe();if(!oe(y)||y<=0||!oe(v)||v<=0||!oe(d)||d!==+d||!oe(h)||h!==+h)return null;var P=c.verticalCoordinatesGenerator||b1e,S=c.horizontalCoordinatesGenerator||_1e,k=c.horizontalPoints,C=c.verticalPoints;if((!k||!k.length)&&be(S)){var T=x&&x.length,I=S({yAxis:E?dn(dn({},E),{},{ticks:T?x:E.ticks}):void 0,width:a,height:l,offset:u},T?!0:b);Rr(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ia(I),"]")),Array.isArray(I)&&(k=I)}if((!C||!C.length)&&be(P)){var N=w&&w.length,M=P({xAxis:_?dn(dn({},_),{},{ticks:N?w:_.ticks}):void 0,width:a,height:l,offset:u},N?!0:b);Rr(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ia(M),"]")),Array.isArray(M)&&(C=M)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(m1e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),U.createElement(g1e,Ns({},c,{offset:u,horizontalPoints:k,xAxis:_,yAxis:E})),U.createElement(y1e,Ns({},c,{offset:u,verticalPoints:C,xAxis:_,yAxis:E})),U.createElement(v1e,Ns({},c,{horizontalPoints:k})),U.createElement(x1e,Ns({},c,{verticalPoints:C})))}Xl.displayName="CartesianGrid";var w1e=["type","layout","connectNulls","ref"],E1e=["key"];function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function T2(t,e){if(t==null)return{};var n=T1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){Er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ia(t){return C1e(t)||I1e(t)||A1e(t)||S1e()}function S1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1e(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function I1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C1e(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e3(r.key),r)}}function P1e(t,e,n){return e&&A2(t.prototype,e),n&&A2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function N1e(t,e,n){return e=Tg(e),R1e(t,ZF()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function R1e(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O1e(t)}function O1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZF=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function M1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function Er(t,e,n){return e=e3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e3(t){var e=D1e(t,"string");return Ql(e)=="symbol"?e:e+""}function D1e(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qf=function(t){function e(){var n;k1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=N1e(this,e,[].concat(i)),Er(n,"state",{isAnimationFinished:!0,totalLength:0}),Er(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Er(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(w,_){return w+_});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),d=s%u,h=a-s,y=[],v=0,b=0;v<l.length;b+=l[v],++v)if(b+l[v]>d){y=[].concat(Ia(l.slice(0,v)),[d-b]);break}var x=y.length%2===0?[0,h]:[h];return[].concat(Ia(e.repeat(l,c)),Ia(y),x).map(function(w){return"".concat(w,"px")}).join(", ")}),Er(n,"id",fa("recharts-line-")),Er(n,"pathRef",function(s){n.mainCurve=s}),Er(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Er(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return M1e(e,t),P1e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Kn(c,Gf);if(!d)return null;var h=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:pt(b.payload,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(Oe,y,d.map(function(v){return U.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,d=ge(this.props,!1),h=ge(l,!0),y=u.map(function(b,x){var w=$n($n($n({key:"dot-".concat(x),r:3},d),h),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:c,payload:b.payload,points:u});return e.renderDotItem(l,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return U.createElement(Oe,Kc({className:"recharts-line-dots",key:"dots"},v),y)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var d=T2(a,w1e),h=$n($n($n({},ge(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return U.createElement(Vs,Kc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,y=s.animationId,v=s.animateNewValues,b=s.width,x=s.height,w=this.state,_=w.prevPoints,E=w.totalLength;return U.createElement(pr,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var S=P.t;if(_){var k=_.length/a.length,C=a.map(function(D,R){var j=Math.floor(R*k);if(_[j]){var F=_[j],V=ht(F.x,D.x),z=ht(F.y,D.y);return $n($n({},D),{},{x:V(S),y:z(S)})}if(v){var $=ht(b*2,D.x),G=ht(x/2,D.y);return $n($n({},D),{},{x:$(S),y:G(S)})}return $n($n({},D),{},{x:D.x,y:D.y})});return o.renderCurveStatically(C,r,i)}var T=ht(0,E),I=T(S),N;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});N=o.getStrokeDasharray(I,E,M)}else N=o.generateSimpleStrokeDasharray(E,I);return o.renderCurveStatically(a,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!Ho(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,h=i.left,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,_=a.length===1,E=Ie("recharts-line",l),P=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,k=P||S,C=Ae(x)?this.id:x,T=(r=ge(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=T.r,N=I===void 0?3:I,M=T.strokeWidth,D=M===void 0?2:M,R=j$(s)?s:{},j=R.clipDot,F=j===void 0?!0:j,V=N*2+D;return U.createElement(Oe,{className:E},P||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(C)},U.createElement("rect",{x:P?h:h-y/2,y:S?d:d-v/2,width:P?y:y*2,height:S?v:v*2})),!F&&U.createElement("clipPath",{id:"clipPath-dots-".concat(C)},U.createElement("rect",{x:h-V/2,y:d-V/2,width:y+V,height:v+V}))):null,!_&&this.renderCurve(k,C),this.renderErrorBar(k,C),(_||s)&&this.renderDots(k,F,C),(!b||w)&&Or.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ia(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Ia(s),Ia(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(U.isValidElement(r))o=U.cloneElement(r,i);else if(be(r))o=r(i);else{var s=i.key,a=T2(i,E1e),l=Ie("recharts-line-dot",typeof r!="boolean"?r.className:"");o=U.createElement(Nu,Kc({key:s},a,{className:l}))}return o}}])}(B.PureComponent);Er(qf,"displayName","Line");Er(qf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Er(qf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(h,y){var v=pt(h,s);return c==="horizontal"?{x:Qm({axis:n,ticks:i,bandSize:a,entry:h,index:y}),y:Ae(v)?null:r.scale(v),value:v,payload:h}:{x:Ae(v)?null:n.scale(v),y:Qm({axis:r,ticks:o,bandSize:a,entry:h,index:y}),value:v,payload:h}});return $n({points:d,layout:c},u)});var j1e=["layout","type","stroke","connectNulls","isRange","ref"],L1e=["key"],t3;function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function n3(t,e){if(t==null)return{};var n=$1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rs.apply(this,arguments)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i3(r.key),r)}}function F1e(t,e,n){return e&&C2(t.prototype,e),n&&C2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U1e(t,e,n){return e=Sg(e),B1e(t,r3()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function B1e(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1e(t)}function G1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r3=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function z1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G_(t,e)}function qr(t,e,n){return e=i3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i3(t){var e=q1e(t,"string");return Zl(e)=="symbol"?e:e+""}function q1e(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var os=function(t){function e(){var n;V1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=U1e(this,e,[].concat(i)),qr(n,"state",{isAnimationFinished:!0}),qr(n,"id",fa("recharts-area-")),qr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),be(s)&&s()}),qr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),be(s)&&s()}),n}return z1e(e,t),F1e(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=ge(this.props,!1),y=ge(u,!0),v=c.map(function(x,w){var _=ao(ao(ao({key:"dot-".concat(w),r:3},h),y),{},{index:w,cx:x.x,cy:x.y,dataKey:d,value:x.value,payload:x.payload,points:c});return e.renderDotItem(u,_)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return U.createElement(Oe,Rs({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),d=Eo(s.map(function(h){return h.y||0}));return oe(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Eo(o.map(function(h){return h.y||0})),d)),oe(d)?U.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),d=Eo(s.map(function(h){return h.x||0}));return oe(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Eo(o.map(function(h){return h.x||0})),d)),oe(d)?U.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,d=a.connectNulls,h=a.isRange;a.ref;var y=n3(a,j1e);return U.createElement(Oe,{clipPath:o?"url(#clipPath-".concat(s,")"):null},U.createElement(Vs,Rs({},ge(y,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&U.createElement(Vs,Rs({},ge(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&U.createElement(Vs,Rs({},ge(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,y=s.animationId,v=this.state,b=v.prevPoints,x=v.prevBaseLine;return U.createElement(pr,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t;if(b){var E=b.length/a.length,P=a.map(function(T,I){var N=Math.floor(I*E);if(b[N]){var M=b[N],D=ht(M.x,T.x),R=ht(M.y,T.y);return ao(ao({},T),{},{x:D(_),y:R(_)})}return T}),S;if(oe(l)&&typeof l=="number"){var k=ht(x,l);S=k(_)}else if(Ae(l)||Tu(l)){var C=ht(x,0);S=C(_)}else S=l.map(function(T,I){var N=Math.floor(I*E);if(x[N]){var M=x[N],D=ht(M.x,T.x),R=ht(M.y,T.y);return ao(ao({},T),{},{x:D(_),y:R(_)})}return T});return o.renderAreaStatically(P,S,r,i)}return U.createElement(Oe,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(_))),U.createElement(Oe,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!Ho(c,s)||!Ho(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,_=a.length===1,E=Ie("recharts-area",l),P=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,k=P||S,C=Ae(x)?this.id:x,T=(r=ge(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=T.r,N=I===void 0?3:I,M=T.strokeWidth,D=M===void 0?2:M,R=j$(s)?s:{},j=R.clipDot,F=j===void 0?!0:j,V=N*2+D;return U.createElement(Oe,{className:E},P||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(C)},U.createElement("rect",{x:P?c:c-y/2,y:S?u:u-v/2,width:P?y:y*2,height:S?v:v*2})),!F&&U.createElement("clipPath",{id:"clipPath-dots-".concat(C)},U.createElement("rect",{x:c-V/2,y:u-V/2,width:y+V,height:v+V}))):null,_?null:this.renderArea(k,C),(s||_)&&this.renderDots(k,F,C),(!b||w)&&Or.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(B.PureComponent);t3=os;qr(os,"displayName","Area");qr(os,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Zi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});qr(os,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(oe(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return a==="dataMin"?d:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});qr(os,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,y=e.layout,v=u&&u.length,b=t3.getBaseValue(e,n,r,i),x=y==="horizontal",w=!1,_=d.map(function(P,S){var k;v?k=u[c+S]:(k=pt(P,l),Array.isArray(k)?w=!0:k=[b,k]);var C=k[1]==null||v&&pt(P,l)==null;return x?{x:Qm({axis:r,ticks:o,bandSize:a,entry:P,index:S}),y:C?null:i.scale(k[1]),value:k,payload:P}:{x:C?null:r.scale(k[1]),y:Qm({axis:i,ticks:s,bandSize:a,entry:P,index:S}),value:k,payload:P}}),E;return v||w?E=_.map(function(P){var S=Array.isArray(P.value)?P.value[0]:null;return x?{x:P.x,y:S!=null&&P.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:P.y}}):E=x?i.scale(b):r.scale(b),ao({points:_,baseLine:E,layout:y,isRange:w},h)});qr(os,"renderDotItem",function(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(be(t))n=t(e);else{var r=Ie("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=n3(e,L1e);n=U.createElement(Nu,Rs({},o,{key:i,className:r}))}return n});function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function H1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a3(r.key),r)}}function K1e(t,e,n){return e&&W1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y1e(t,e,n){return e=Ag(e),J1e(t,o3()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function J1e(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1e(t)}function X1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o3=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function Q1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function s3(t,e,n){return e=a3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a3(t){var e=Z1e(t,"string");return eu(e)=="symbol"?e:e+""}function Z1e(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function eAe(t){var e=t.xAxisId,n=pS(),r=mS(),i=UF(e);return i==null?null:B.createElement(Mu,q_({},i,{className:Ie("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ti(s,!0)}}))}var ni=function(t){function e(){return H1e(this,e),Y1e(this,e,arguments)}return Q1e(e,t),K1e(e,[{key:"render",value:function(){return B.createElement(eAe,this.props)}}])}(B.Component);s3(ni,"displayName","XAxis");s3(ni,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function tAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c3(r.key),r)}}function rAe(t,e,n){return e&&nAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iAe(t,e,n){return e=Ig(e),oAe(t,l3()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function oAe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sAe(t)}function sAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function aAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function u3(t,e,n){return e=c3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c3(t){var e=lAe(t,"string");return tu(e)=="symbol"?e:e+""}function lAe(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}var uAe=function(e){var n=e.yAxisId,r=pS(),i=mS(),o=BF(n);return o==null?null:B.createElement(Mu,W_({},o,{className:Ie("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Ti(a,!0)}}))},ri=function(t){function e(){return tAe(this,e),iAe(this,e,arguments)}return aAe(e,t),rAe(e,[{key:"render",value:function(){return B.createElement(uAe,this.props)}}])}(B.Component);u3(ri,"displayName","YAxis");u3(ri,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function k2(t){return hAe(t)||fAe(t)||dAe(t)||cAe()}function cAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dAe(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function fAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hAe(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y_=function(e,n,r,i,o){var s=Kn(e,zf),a=Kn(e,tv),l=[].concat(k2(s),k2(a)),u=Kn(e,rv),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(b,x){if(x.props[c]===r&&Qr(x.props,"extendDomain")&&oe(x.props[d])){var w=x.props[d];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},h)),u.length){var y="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(b,x){if(x.props[c]===r&&Qr(x.props,"extendDomain")&&oe(x.props[y])&&oe(x.props[v])){var w=x.props[y],_=x.props[v];return[Math.min(b[0],w,_),Math.max(b[1],w,_)]}return b},h)}return o&&o.length&&(h=o.reduce(function(b,x){return oe(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},d3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,y=d.length,v=new Array(y);h<y;h++)v[h]=d[h].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,h,y,v){var b=n?n+u:u;if(!this._events[b])return!1;var x=this._events[b],w=arguments.length,_,E;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,h),!0;case 5:return x.fn.call(x.context,c,d,h,y),!0;case 6:return x.fn.call(x.context,c,d,h,y,v),!0}for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];x.fn.apply(x.context,_)}else{var P=x.length,S;for(E=0;E<P;E++)switch(x[E].once&&this.removeListener(u,x[E].fn,void 0,!0),w){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,c);break;case 3:x[E].fn.call(x[E].context,c,d);break;case 4:x[E].fn.call(x[E].context,c,d,h);break;default:if(!_)for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];x[E].fn.apply(x[E].context,_)}}return!0},a.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&s(this,y);else{for(var b=0,x=[],w=v.length;b<w;b++)(v[b].fn!==c||h&&!v[b].once||d&&v[b].context!==d)&&x.push(v[b]);x.length?this._events[y]=x.length===1?x[0]:x:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(d3);var pAe=d3.exports;const mAe=Ke(pAe);var O0=new mAe,M0="recharts.syncMouseEvents";function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function gAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f3(r.key),r)}}function vAe(t,e,n){return e&&yAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D0(t,e,n){return e=f3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f3(t){var e=xAe(t,"string");return df(e)=="symbol"?e:e+""}function xAe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bAe=function(){function t(){gAe(this,t),D0(this,"activeIndex",0),D0(this,"coordinateList",[]),D0(this,"layout","horizontal")}return vAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function _Ae(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function wAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function h3(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=He(e,n,r,i),a=He(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function EAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=He(a,l,u,d),y=He(a,l,c,d);r=h.x,i=h.y,o=y.x,s=y.y}else return h3(e);return[{x:r,y:i},{x:o,y:s}]}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){TAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TAe(t,e,n){return e=SAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SAe(t){var e=AAe(t,"string");return ff(e)=="symbol"?e:e+""}function AAe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,b=Vs;if(h==="ScatterChart")v=s,b=c_e;else if(h==="BarChart")v=wAe(d,s,l,c),b=uS;else if(d==="radial"){var x=h3(s),w=x.cx,_=x.cy,E=x.radius,P=x.startAngle,S=x.endAngle;v={cx:w,cy:_,startAngle:P,endAngle:S,innerRadius:E,outerRadius:E},b=nF}else v={points:EAe(d,s,l)},b=Vs;var k=Jh(Jh(Jh(Jh({stroke:"#ccc",pointerEvents:"none"},l),v),ge(y,!1)),{},{payload:a,payloadIndex:u,className:Ie("recharts-tooltip-cursor",y.className)});return B.isValidElement(y)?B.cloneElement(y,k):B.createElement(b,k)}var CAe=["item"],kAe=["children","className","width","height","style","compact","title","desc"];function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function N2(t,e){return RAe(t)||NAe(t,e)||m3(t,e)||PAe()}function PAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function RAe(t){if(Array.isArray(t))return t}function R2(t,e){if(t==null)return{};var n=OAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g3(r.key),r)}}function jAe(t,e,n){return e&&DAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LAe(t,e,n){return e=Cg(e),$Ae(t,p3()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function $Ae(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VAe(t)}function VAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p3=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function FAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J_(t,e)}function ru(t){return GAe(t)||BAe(t)||m3(t)||UAe()}function UAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m3(t,e){if(t){if(typeof t=="string")return X_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(t,e)}}function BAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GAe(t){if(Array.isArray(t))return X_(t)}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=g3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g3(t){var e=zAe(t,"string");return nu(e)=="symbol"?e:e+""}function zAe(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qAe={xAxis:["bottom","top"],yAxis:["left","right"]},HAe={width:"100%",height:"100%"},y3={x:0,y:0};function Xh(t){return t}var WAe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},KAe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return ee(ee(ee({},i),He(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return ee(ee(ee({},i),He(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return y3},iv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(ru(a),ru(u)):a},[]);return s.length>0?s:e&&e.length&&oe(i)&&oe(o)?e.slice(i,o+1):[]};function v3(t){return t==="number"?[0,"auto"]:void 0}var Q_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=iv(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=d===void 0?a:d;h=Em(y,s.dataKey,i)}else h=d&&d[r]||a[r];return h?[].concat(ru(l),[KV(u,h)]):l},[])},M2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=WAe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Ove(s,a,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=Q_(e,n,c,d),y=KAe(r,a,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:y}}return null},YAe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,y=BV(c,o);return r.reduce(function(v,b){var x,w=b.type.defaultProps!==void 0?ee(ee({},b.type.defaultProps),b.props):b.props,_=w.type,E=w.dataKey,P=w.allowDataOverflow,S=w.allowDuplicatedCategory,k=w.scale,C=w.ticks,T=w.includeHidden,I=w[s];if(v[I])return v;var N=iv(e.data,{graphicalItems:i.filter(function(H){var ne,he=s in H.props?H.props[s]:(ne=H.type.defaultProps)===null||ne===void 0?void 0:ne[s];return he===I}),dataStartIndex:l,dataEndIndex:u}),M=N.length,D,R,j;_Ae(w.domain,P,_)&&(D=c_(w.domain,null,P),y&&(_==="number"||k!=="auto")&&(j=zc(N,E,"category")));var F=v3(_);if(!D||D.length===0){var V,z=(V=w.domain)!==null&&V!==void 0?V:F;if(E){if(D=zc(N,E,_),_==="category"&&y){var $=Ere(D);S&&$?(R=D,D=pg(0,M)):S||(D=eR(z,D,b).reduce(function(H,ne){return H.indexOf(ne)>=0?H:[].concat(ru(H),[ne])},[]))}else if(_==="category")S?D=D.filter(function(H){return H!==""&&!Ae(H)}):D=eR(z,D,b).reduce(function(H,ne){return H.indexOf(ne)>=0||ne===""||Ae(ne)?H:[].concat(ru(H),[ne])},[]);else if(_==="number"){var G=$ve(N,i.filter(function(H){var ne,he,W=s in H.props?H.props[s]:(ne=H.type.defaultProps)===null||ne===void 0?void 0:ne[s],le="hide"in H.props?H.props.hide:(he=H.type.defaultProps)===null||he===void 0?void 0:he.hide;return W===I&&(T||!le)}),E,o,c);G&&(D=G)}y&&(_==="number"||k!=="auto")&&(j=zc(N,E,"category"))}else y?D=pg(0,M):a&&a[I]&&a[I].hasStack&&_==="number"?D=h==="expand"?[0,1]:WV(a[I].stackGroups,l,u):D=UV(N,i.filter(function(H){var ne=s in H.props?H.props[s]:H.type.defaultProps[s],he="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return ne===I&&(T||!he)}),_,c,!0);if(_==="number")D=Y_(d,D,I,o,C),z&&(D=c_(z,D,P));else if(_==="category"&&z){var q=z,Y=D.every(function(H){return q.indexOf(H)>=0});Y&&(D=q)}}return ee(ee({},v),{},we({},I,ee(ee({},w),{},{axisType:o,domain:D,categoricalDomain:j,duplicateDomain:R,originalDomain:(x=w.domain)!==null&&x!==void 0?x:F,isCategorical:y,layout:c})))},{})},JAe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=iv(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,v=BV(c,o),b=-1;return r.reduce(function(x,w){var _=w.type.defaultProps!==void 0?ee(ee({},w.type.defaultProps),w.props):w.props,E=_[s],P=v3("number");if(!x[E]){b++;var S;return v?S=pg(0,y):a&&a[E]&&a[E].hasStack?(S=WV(a[E].stackGroups,l,u),S=Y_(d,S,E,o)):(S=c_(P,UV(h,r.filter(function(k){var C,T,I=s in k.props?k.props[s]:(C=k.type.defaultProps)===null||C===void 0?void 0:C[s],N="hide"in k.props?k.props.hide:(T=k.type.defaultProps)===null||T===void 0?void 0:T.hide;return I===E&&!N}),"number",c),i.defaultProps.allowDataOverflow),S=Y_(d,S,E,o)),ee(ee({},x),{},we({},E,ee(ee({axisType:o},i.defaultProps),{},{hide:!0,orientation:Wn(qAe,"".concat(o,".").concat(b%2),null),domain:S,originalDomain:P,isCategorical:v,layout:c})))}return x},{})},XAe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Kn(c,o),y={};return h&&h.length?y=YAe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=JAe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},QAe=function(e){var n=vo(e),r=Ti(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:jT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Zm(n,r)}},D2=function(e){var n=e.children,r=e.defaultShowTooltip,i=Un(n,ql),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},ZAe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ci(n&&n.type);return r&&r.indexOf("Bar")>=0})},j2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},eIe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,d=r.children,h=r.margin||{},y=Un(d,ql),v=Un(d,Jr),b=Object.keys(l).reduce(function(S,k){var C=l[k],T=C.orientation;return!C.mirror&&!C.hide?ee(ee({},S),{},we({},T,S[T]+C.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(S,k){var C=s[k],T=C.orientation;return!C.mirror&&!C.hide?ee(ee({},S),{},we({},T,Wn(S,"".concat(T))+C.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=ee(ee({},x),b),_=w.bottom;y&&(w.bottom+=y.props.height||ql.defaultProps.height),v&&n&&(w=jve(w,i,r,n));var E=u-w.left-w.right,P=c-w.top-w.bottom;return ee(ee({brushBottom:_},w),{},{width:Math.max(E,0),height:Math.max(P,0)})},tIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Hf=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(w,_){var E=_.graphicalItems,P=_.stackGroups,S=_.offset,k=_.updateId,C=_.dataStartIndex,T=_.dataEndIndex,I=w.barSize,N=w.layout,M=w.barGap,D=w.barCategoryGap,R=w.maxBarSize,j=j2(N),F=j.numericAxisName,V=j.cateAxisName,z=ZAe(E),$=[];return E.forEach(function(G,q){var Y=iv(w.data,{graphicalItems:[G],dataStartIndex:C,dataEndIndex:T}),H=G.type.defaultProps!==void 0?ee(ee({},G.type.defaultProps),G.props):G.props,ne=H.dataKey,he=H.maxBarSize,W=H["".concat(F,"Id")],le=H["".concat(V,"Id")],ce={},Ne=l.reduce(function(Fr,li){var ss=_["".concat(li.axisType,"Map")],ya=H["".concat(li.axisType,"Id")];ss&&ss[ya]||li.axisType==="zAxis"||ra();var Du=ss[ya];return ee(ee({},Fr),{},we(we({},li.axisType,Du),"".concat(li.axisType,"Ticks"),Ti(Du)))},ce),ae=Ne[V],J=Ne["".concat(V,"Ticks")],Q=P&&P[W]&&P[W].hasStack&&Wve(G,P[W].stackGroups),X=Ci(G.type).indexOf("Bar")>=0,ve=Zm(ae,J),_e=[],Ce=z&&Mve({barSize:I,stackGroups:P,totalSize:tIe(Ne,V)});if(X){var Ve,vt,Vr=Ae(he)?R:he,ai=(Ve=(vt=Zm(ae,J,!0))!==null&&vt!==void 0?vt:Vr)!==null&&Ve!==void 0?Ve:0;_e=Dve({barGap:M,barCategoryGap:D,bandSize:ai!==ve?ai:ve,sizeList:Ce[le],maxBarSize:Vr}),ai!==ve&&(_e=_e.map(function(Fr){return ee(ee({},Fr),{},{position:ee(ee({},Fr.position),{},{offset:Fr.position.offset-ai/2})})}))}var to=G&&G.type&&G.type.getComposedData;to&&$.push({props:ee(ee({},to(ee(ee({},Ne),{},{displayedData:Y,props:w,dataKey:ne,item:G,bandSize:ve,barPosition:_e,offset:S,stackedData:Q,layout:N,dataStartIndex:C,dataEndIndex:T}))),{},we(we(we({key:G.key||"item-".concat(q)},F,Ne[F]),V,Ne[V]),"animationId",k)),childIndex:Dre(G,w.children),item:G})}),$},y=function(w,_){var E=w.props,P=w.dataStartIndex,S=w.dataEndIndex,k=w.updateId;if(!Kk({props:E}))return null;var C=E.children,T=E.layout,I=E.stackOffset,N=E.data,M=E.reverseStackOrder,D=j2(T),R=D.numericAxisName,j=D.cateAxisName,F=Kn(C,r),V=qve(N,F,"".concat(R,"Id"),"".concat(j,"Id"),I,M),z=l.reduce(function(H,ne){var he="".concat(ne.axisType,"Map");return ee(ee({},H),{},we({},he,XAe(E,ee(ee({},ne),{},{graphicalItems:F,stackGroups:ne.axisType===R&&V,dataStartIndex:P,dataEndIndex:S}))))},{}),$=eIe(ee(ee({},z),{},{props:E,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(z).forEach(function(H){z[H]=c(E,z[H],$,H.replace("Map",""),n)});var G=z["".concat(j,"Map")],q=QAe(G),Y=h(E,ee(ee({},z),{},{dataStartIndex:P,dataEndIndex:S,updateId:k,graphicalItems:F,stackGroups:V,offset:$}));return ee(ee({formattedGraphicalItems:Y,graphicalItems:F,offset:$,stackGroups:V},q),z)},v=function(x){function w(_){var E,P,S;return MAe(this,w),S=LAe(this,w,[_]),we(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(S,"accessibilityManager",new bAe),we(S,"handleLegendBBoxUpdate",function(k){if(k){var C=S.state,T=C.dataStartIndex,I=C.dataEndIndex,N=C.updateId;S.setState(ee({legendBBox:k},y({props:S.props,dataStartIndex:T,dataEndIndex:I,updateId:N},ee(ee({},S.state),{},{legendBBox:k}))))}}),we(S,"handleReceiveSyncEvent",function(k,C,T){if(S.props.syncId===k){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(C)}}),we(S,"handleBrushChange",function(k){var C=k.startIndex,T=k.endIndex;if(C!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var I=S.state.updateId;S.setState(function(){return ee({dataStartIndex:C,dataEndIndex:T},y({props:S.props,dataStartIndex:C,dataEndIndex:T,updateId:I},S.state))}),S.triggerSyncEvent({dataStartIndex:C,dataEndIndex:T})}}),we(S,"handleMouseEnter",function(k){var C=S.getMouseInfo(k);if(C){var T=ee(ee({},C),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var I=S.props.onMouseEnter;be(I)&&I(T,k)}}),we(S,"triggeredAfterMouseMove",function(k){var C=S.getMouseInfo(k),T=C?ee(ee({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var I=S.props.onMouseMove;be(I)&&I(T,k)}),we(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),we(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),we(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),we(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var T=S.props.onMouseLeave;be(T)&&T(C,k)}),we(S,"handleOuterEvent",function(k){var C=Mre(k),T=Wn(S.props,"".concat(C));if(C&&be(T)){var I,N;/.*touch.*/i.test(C)?N=S.getMouseInfo(k.changedTouches[0]):N=S.getMouseInfo(k),T((I=N)!==null&&I!==void 0?I:{},k)}}),we(S,"handleClick",function(k){var C=S.getMouseInfo(k);if(C){var T=ee(ee({},C),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var I=S.props.onClick;be(I)&&I(T,k)}}),we(S,"handleMouseDown",function(k){var C=S.props.onMouseDown;if(be(C)){var T=S.getMouseInfo(k);C(T,k)}}),we(S,"handleMouseUp",function(k){var C=S.props.onMouseUp;if(be(C)){var T=S.getMouseInfo(k);C(T,k)}}),we(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),we(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),we(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),we(S,"handleDoubleClick",function(k){var C=S.props.onDoubleClick;if(be(C)){var T=S.getMouseInfo(k);C(T,k)}}),we(S,"handleContextMenu",function(k){var C=S.props.onContextMenu;if(be(C)){var T=S.getMouseInfo(k);C(T,k)}}),we(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&O0.emit(M0,S.props.syncId,k,S.eventEmitterSymbol)}),we(S,"applySyncEvent",function(k){var C=S.props,T=C.layout,I=C.syncMethod,N=S.state.updateId,M=k.dataStartIndex,D=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(ee({dataStartIndex:M,dataEndIndex:D},y({props:S.props,dataStartIndex:M,dataEndIndex:D,updateId:N},S.state)));else if(k.activeTooltipIndex!==void 0){var R=k.chartX,j=k.chartY,F=k.activeTooltipIndex,V=S.state,z=V.offset,$=V.tooltipTicks;if(!z)return;if(typeof I=="function")F=I($,k);else if(I==="value"){F=-1;for(var G=0;G<$.length;G++)if($[G].value===k.activeLabel){F=G;break}}var q=ee(ee({},z),{},{x:z.left,y:z.top}),Y=Math.min(R,q.x+q.width),H=Math.min(j,q.y+q.height),ne=$[F]&&$[F].value,he=Q_(S.state,S.props.data,F),W=$[F]?{x:T==="horizontal"?$[F].coordinate:Y,y:T==="horizontal"?H:$[F].coordinate}:y3;S.setState(ee(ee({},k),{},{activeLabel:ne,activeCoordinate:W,activePayload:he,activeTooltipIndex:F}))}else S.setState(k)}),we(S,"renderCursor",function(k){var C,T=S.state,I=T.isTooltipActive,N=T.activeCoordinate,M=T.activePayload,D=T.offset,R=T.activeTooltipIndex,j=T.tooltipAxisBandSize,F=S.getTooltipEventType(),V=(C=k.props.active)!==null&&C!==void 0?C:I,z=S.props.layout,$=k.key||"_recharts-cursor";return U.createElement(IAe,{key:$,activeCoordinate:N,activePayload:M,activeTooltipIndex:R,chartName:n,element:k,isActive:V,layout:z,offset:D,tooltipAxisBandSize:j,tooltipEventType:F})}),we(S,"renderPolarAxis",function(k,C,T){var I=Wn(k,"type.axisType"),N=Wn(S.state,"".concat(I,"Map")),M=k.type.defaultProps,D=M!==void 0?ee(ee({},M),k.props):k.props,R=N&&N[D["".concat(I,"Id")]];return B.cloneElement(k,ee(ee({},R),{},{className:Ie(I,R.className),key:k.key||"".concat(C,"-").concat(T),ticks:Ti(R,!0)}))}),we(S,"renderPolarGrid",function(k){var C=k.props,T=C.radialLines,I=C.polarAngles,N=C.polarRadius,M=S.state,D=M.radiusAxisMap,R=M.angleAxisMap,j=vo(D),F=vo(R),V=F.cx,z=F.cy,$=F.innerRadius,G=F.outerRadius;return B.cloneElement(k,{polarAngles:Array.isArray(I)?I:Ti(F,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(N)?N:Ti(j,!0).map(function(q){return q.coordinate}),cx:V,cy:z,innerRadius:$,outerRadius:G,key:k.key||"polar-grid",radialLines:T})}),we(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,C=S.props,T=C.children,I=C.width,N=C.height,M=S.props.margin||{},D=I-(M.left||0)-(M.right||0),R=VV({children:T,formattedGraphicalItems:k,legendWidth:D,legendContent:u});if(!R)return null;var j=R.item,F=R2(R,CAe);return B.cloneElement(j,ee(ee({},F),{},{chartWidth:I,chartHeight:N,margin:M,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),we(S,"renderTooltip",function(){var k,C=S.props,T=C.children,I=C.accessibilityLayer,N=Un(T,Jt);if(!N)return null;var M=S.state,D=M.isTooltipActive,R=M.activeCoordinate,j=M.activePayload,F=M.activeLabel,V=M.offset,z=(k=N.props.active)!==null&&k!==void 0?k:D;return B.cloneElement(N,{viewBox:ee(ee({},V),{},{x:V.left,y:V.top}),active:z,label:F,payload:z?j:[],coordinate:R,accessibilityLayer:I})}),we(S,"renderBrush",function(k){var C=S.props,T=C.margin,I=C.data,N=S.state,M=N.offset,D=N.dataStartIndex,R=N.dataEndIndex,j=N.updateId;return B.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Hh(S.handleBrushChange,k.props.onChange),data:I,x:oe(k.props.x)?k.props.x:M.left,y:oe(k.props.y)?k.props.y:M.top+M.height+M.brushBottom-(T.bottom||0),width:oe(k.props.width)?k.props.width:M.width,startIndex:D,endIndex:R,updateId:"brush-".concat(j)})}),we(S,"renderReferenceElement",function(k,C,T){if(!k)return null;var I=S,N=I.clipPathId,M=S.state,D=M.xAxisMap,R=M.yAxisMap,j=M.offset,F=k.type.defaultProps||{},V=k.props,z=V.xAxisId,$=z===void 0?F.xAxisId:z,G=V.yAxisId,q=G===void 0?F.yAxisId:G;return B.cloneElement(k,{key:k.key||"".concat(C,"-").concat(T),xAxis:D[$],yAxis:R[q],viewBox:{x:j.left,y:j.top,width:j.width,height:j.height},clipPathId:N})}),we(S,"renderActivePoints",function(k){var C=k.item,T=k.activePoint,I=k.basePoint,N=k.childIndex,M=k.isRange,D=[],R=C.props.key,j=C.item.type.defaultProps!==void 0?ee(ee({},C.item.type.defaultProps),C.item.props):C.item.props,F=j.activeDot,V=j.dataKey,z=ee(ee({index:N,dataKey:V,cx:T.x,cy:T.y,r:4,fill:lS(C.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ge(F,!1)),Tm(F));return D.push(w.renderActiveDot(F,z,"".concat(R,"-activePoint-").concat(N))),I?D.push(w.renderActiveDot(F,ee(ee({},z),{},{cx:I.x,cy:I.y}),"".concat(R,"-basePoint-").concat(N))):M&&D.push(null),D}),we(S,"renderGraphicChild",function(k,C,T){var I=S.filterFormatItem(k,C,T);if(!I)return null;var N=S.getTooltipEventType(),M=S.state,D=M.isTooltipActive,R=M.tooltipAxis,j=M.activeTooltipIndex,F=M.activeLabel,V=S.props.children,z=Un(V,Jt),$=I.props,G=$.points,q=$.isRange,Y=$.baseLine,H=I.item.type.defaultProps!==void 0?ee(ee({},I.item.type.defaultProps),I.item.props):I.item.props,ne=H.activeDot,he=H.hide,W=H.activeBar,le=H.activeShape,ce=!!(!he&&D&&z&&(ne||W||le)),Ne={};N!=="axis"&&z&&z.props.trigger==="click"?Ne={onClick:Hh(S.handleItemMouseEnter,k.props.onClick)}:N!=="axis"&&(Ne={onMouseLeave:Hh(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Hh(S.handleItemMouseEnter,k.props.onMouseEnter)});var ae=B.cloneElement(k,ee(ee({},I.props),Ne));function J(li){return typeof R.dataKey=="function"?R.dataKey(li.payload):null}if(ce)if(j>=0){var Q,X;if(R.dataKey&&!R.allowDuplicatedCategory){var ve=typeof R.dataKey=="function"?J:"payload.".concat(R.dataKey.toString());Q=Em(G,ve,F),X=q&&Y&&Em(Y,ve,F)}else Q=G==null?void 0:G[j],X=q&&Y&&Y[j];if(le||W){var _e=k.props.activeIndex!==void 0?k.props.activeIndex:j;return[B.cloneElement(k,ee(ee(ee({},I.props),Ne),{},{activeIndex:_e})),null,null]}if(!Ae(Q))return[ae].concat(ru(S.renderActivePoints({item:I,activePoint:Q,basePoint:X,childIndex:j,isRange:q})))}else{var Ce,Ve=(Ce=S.getItemByXY(S.state.activeCoordinate))!==null&&Ce!==void 0?Ce:{graphicalItem:ae},vt=Ve.graphicalItem,Vr=vt.item,ai=Vr===void 0?k:Vr,to=vt.childIndex,Fr=ee(ee(ee({},I.props),Ne),{},{activeIndex:to});return[B.cloneElement(ai,Fr),null,null]}return q?[ae,null,null]:[ae,null]}),we(S,"renderCustomized",function(k,C,T){return B.cloneElement(k,ee(ee({key:"recharts-customized-".concat(T)},S.props),S.state))}),we(S,"renderMap",{CartesianGrid:{handler:Xh,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Xh},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Xh},YAxis:{handler:Xh},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((E=_.id)!==null&&E!==void 0?E:fa("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=V4(S.triggeredAfterMouseMove,(P=_.throttleDelay)!==null&&P!==void 0?P:1e3/60),S.state={},S}return FAe(w,x),jAe(w,[{key:"componentDidMount",value:function(){var E,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,P=E.children,S=E.data,k=E.height,C=E.layout,T=Un(P,Jt);if(T){var I=T.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,M=Q_(this.state,S,I,N),D=this.state.tooltipTicks[I].coordinate,R=(this.state.offset.top+k)/2,j=C==="horizontal",F=j?{x:D,y:R}:{y:D,x:R},V=this.state.formattedGraphicalItems.find(function($){var G=$.item;return G.type.name==="Scatter"});V&&(F=ee(ee({},F),V.props.points[I].tooltipPosition),M=V.props.points[I].tooltipPayload);var z={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:N,activePayload:M,activeCoordinate:F};this.setState(z),this.renderCursor(T),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(E){Sb([Un(E.children,Jt)],[Un(this.props.children,Jt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Un(this.props.children,Jt);if(E&&typeof E.props.shared=="boolean"){var P=E.props.shared?"axis":"item";return a.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var P=this.container,S=P.getBoundingClientRect(),k=ape(S),C={chartX:Math.round(E.pageX-k.left),chartY:Math.round(E.pageY-k.top)},T=S.width/P.offsetWidth||1,I=this.inRange(C.chartX,C.chartY,T);if(!I)return null;var N=this.state,M=N.xAxisMap,D=N.yAxisMap,R=this.getTooltipEventType(),j=M2(this.state,this.props.data,this.props.layout,I);if(R!=="axis"&&M&&D){var F=vo(M).scale,V=vo(D).scale,z=F&&F.invert?F.invert(C.chartX):null,$=V&&V.invert?V.invert(C.chartY):null;return ee(ee({},C),{},{xValue:z,yValue:$},j)}return j?ee(ee({},C),j):null}},{key:"inRange",value:function(E,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,C=E/S,T=P/S;if(k==="horizontal"||k==="vertical"){var I=this.state.offset,N=C>=I.left&&C<=I.left+I.width&&T>=I.top&&T<=I.top+I.height;return N?{x:C,y:T}:null}var M=this.state,D=M.angleAxisMap,R=M.radiusAxisMap;if(D&&R){var j=vo(D);return rR({x:C,y:T},j)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,P=this.getTooltipEventType(),S=Un(E,Jt),k={};S&&P==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Tm(this.props,this.handleOuterEvent);return ee(ee({},C),k)}},{key:"addListener",value:function(){O0.on(M0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){O0.removeListener(M0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,P,S){for(var k=this.state.formattedGraphicalItems,C=0,T=k.length;C<T;C++){var I=k[C];if(I.item===E||I.props.key===E.key||P===Ci(I.item.type)&&S===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,P=this.state.offset,S=P.left,k=P.top,C=P.height,T=P.width;return U.createElement("defs",null,U.createElement("clipPath",{id:E},U.createElement("rect",{x:S,y:k,height:C,width:T})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(P,S){var k=N2(S,2),C=k[0],T=k[1];return ee(ee({},P),{},we({},C,T.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(P,S){var k=N2(S,2),C=k[0],T=k[1];return ee(ee({},P),{},we({},C,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(E){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(E){var P=this.state,S=P.formattedGraphicalItems,k=P.activeItem;if(S&&S.length)for(var C=0,T=S.length;C<T;C++){var I=S[C],N=I.props,M=I.item,D=M.type.defaultProps!==void 0?ee(ee({},M.type.defaultProps),M.props):M.props,R=Ci(M.type);if(R==="Bar"){var j=(N.data||[]).find(function($){return qbe(E,$)});if(j)return{graphicalItem:I,payload:j}}else if(R==="RadialBar"){var F=(N.data||[]).find(function($){return rR(E,$)});if(F)return{graphicalItem:I,payload:F}}else if(Xy(I,k)||Qy(I,k)||sf(I,k)){var V=Gwe({graphicalItem:I,activeTooltipItem:k,itemData:D.data}),z=D.activeIndex===void 0?V:D.activeIndex;return{graphicalItem:ee(ee({},I),{},{childIndex:z}),payload:sf(I,k)?D.data[V]:I.props.data[V]}}}return null}},{key:"render",value:function(){var E=this;if(!Kk(this))return null;var P=this.props,S=P.children,k=P.className,C=P.width,T=P.height,I=P.style,N=P.compact,M=P.title,D=P.desc,R=R2(P,kAe),j=ge(R,!1);if(N)return U.createElement(d2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(Ib,Za({},j,{width:C,height:T,title:M,desc:D}),this.renderClipPath(),Jk(S,this.renderMap)));if(this.props.accessibilityLayer){var F,V;j.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,j.role=(V=this.props.role)!==null&&V!==void 0?V:"application",j.onKeyDown=function($){E.accessibilityManager.keyboardEvent($)},j.onFocus=function(){E.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return U.createElement(d2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",Za({className:Ie("recharts-wrapper",k),style:ee({position:"relative",cursor:"default",width:C,height:T},I)},z,{ref:function(G){E.container=G}}),U.createElement(Ib,Za({},j,{width:C,height:T,title:M,desc:D,style:HAe}),this.renderClipPath(),Jk(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);we(v,"displayName",n),we(v,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),we(v,"getDerivedStateFromProps",function(x,w){var _=x.dataKey,E=x.data,P=x.children,S=x.width,k=x.height,C=x.layout,T=x.stackOffset,I=x.margin,N=w.dataStartIndex,M=w.dataEndIndex;if(w.updateId===void 0){var D=D2(x);return ee(ee(ee({},D),{},{updateId:0},y(ee(ee({props:x},D),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:E,prevWidth:S,prevHeight:k,prevLayout:C,prevStackOffset:T,prevMargin:I,prevChildren:P})}if(_!==w.prevDataKey||E!==w.prevData||S!==w.prevWidth||k!==w.prevHeight||C!==w.prevLayout||T!==w.prevStackOffset||!fl(I,w.prevMargin)){var R=D2(x),j={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},F=ee(ee({},M2(w,E,C)),{},{updateId:w.updateId+1}),V=ee(ee(ee({},R),j),F);return ee(ee(ee({},V),y(ee({props:x},V),w)),{},{prevDataKey:_,prevData:E,prevWidth:S,prevHeight:k,prevLayout:C,prevStackOffset:T,prevMargin:I,prevChildren:P})}if(!Sb(P,w.prevChildren)){var z,$,G,q,Y=Un(P,ql),H=Y&&(z=($=Y.props)===null||$===void 0?void 0:$.startIndex)!==null&&z!==void 0?z:N,ne=Y&&(G=(q=Y.props)===null||q===void 0?void 0:q.endIndex)!==null&&G!==void 0?G:M,he=H!==N||ne!==M,W=!Ae(E),le=W&&!he?w.updateId:w.updateId+1;return ee(ee({updateId:le},y(ee(ee({props:x},w),{},{updateId:le,dataStartIndex:H,dataEndIndex:ne}),w)),{},{prevChildren:P,dataStartIndex:H,dataEndIndex:ne})}return null}),we(v,"renderActiveDot",function(x,w,_){var E;return B.isValidElement(x)?E=B.cloneElement(x,w):be(x)?E=x(w):E=U.createElement(Nu,w),U.createElement(Oe,{className:"recharts-active-dot",key:_},E)});var b=B.forwardRef(function(w,_){return U.createElement(v,Za({},w,{ref:_}))});return b.displayName=v.displayName,b},nIe=Hf({chartName:"LineChart",GraphicalChild:qf,axisComponents:[{axisType:"xAxis",AxisComp:ni},{axisType:"yAxis",AxisComp:ri}],formatAxisMap:cS}),xS=Hf({chartName:"BarChart",GraphicalChild:ti,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ni},{axisType:"yAxis",AxisComp:ri}],formatAxisMap:cS}),x3=Hf({chartName:"PieChart",GraphicalChild:si,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ou},{axisType:"radiusAxis",AxisComp:Ru}],formatAxisMap:XV,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),rIe=Hf({chartName:"RadarChart",GraphicalChild:Gl,axisComponents:[{axisType:"angleAxis",AxisComp:Ou},{axisType:"radiusAxis",AxisComp:Ru}],formatAxisMap:XV,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),iIe=Hf({chartName:"AreaChart",GraphicalChild:os,axisComponents:[{axisType:"xAxis",AxisComp:ni},{axisType:"yAxis",AxisComp:ri}],formatAxisMap:cS});const L2=[{id:"first_invest",name:"Investidor Iniciante",description:"Realizou o primeiro investimento.",icon:"",condition:t=>t.investments.length>0,getProgress:t=>t.investments.length>0?100:0},{id:"controlled",name:"No Controle",description:"Tem mais receitas que despesas no ms.",icon:"",condition:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e>n&&e>0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e===0?0:e>n?100:Math.min(99,e/n*100)}},{id:"saver",name:"Poupador",description:"Acumulou mais de R$ 5.000 em investimentos.",icon:"",condition:t=>t.investments.reduce((e,n)=>e+n.amount,0)>=5e3,getProgress:t=>Math.min(100,t.investments.reduce((e,n)=>e+n.amount,0)/5e3*100)},{id:"diversified",name:"Mente Diversificada",description:"Investiu em 3 ou mais categorias diferentes.",icon:"",condition:t=>new Set(t.investments.map(n=>n.type)).size>=3,getProgress:t=>{const e=new Set(t.investments.map(n=>n.type));return Math.min(100,e.size/3*100)}},{id:"debt_free",name:"Zero Pendncias",description:"No possui nenhuma conta pendente.",icon:"",condition:t=>{const e=t.transactions.some(r=>r.type==="expense"),n=t.transactions.filter(r=>r.type==="expense"&&r.status==="pending");return e&&n.length===0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="expense");if(e.length===0)return 0;const n=e.filter(r=>r.status==="paid").length;return Math.min(100,n/e.length*100)}},{id:"goal_hitter",name:"Na Mosca",description:"Atingiu 100% da meta de um investimento.",icon:"",condition:t=>t.investments.some(e=>e.targetAmount>0&&e.amount>=e.targetAmount),getProgress:t=>{const e=t.investments.map(n=>n.targetAmount>0?n.amount/n.targetAmount*100:0);return Math.min(100,Math.max(0,...e))}},{id:"club_10k",name:"Clube dos 10k",description:"Patrimnio total superou R$ 10.000.",icon:"",condition:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return e+n>=1e4},getProgress:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return Math.min(100,(e+n)/1e4*100)}}],oIe=(t,e,n)=>{const r=n.toISOString().slice(0,7),i=t.find(o=>o.category===e&&o.month===r);return i||t.find(o=>o.category===e&&o.isRecurring)},$2=({data:t,privacyMode:e,onUnlockBadge:n})=>{const[r,i]=B.useState(()=>{const j=new Date;j.setMonth(j.getMonth()-5);const F=String(j.getMonth()+1).padStart(2,"0");return`${j.getFullYear()}-${F}`}),[o,s]=B.useState("flow"),a=B.useMemo(()=>{const j=new Date().getHours();return j<12?"Bom dia":j<18?"Boa tarde":"Boa noite"},[]);B.useEffect(()=>{L2.forEach(j=>{!t.unlockedBadges.includes(j.id)&&j.condition(t)&&n(j.id)})},[t,n]);const l=B.useMemo(()=>{const j=[],F=new Date,V=F.getMonth(),z=F.getFullYear(),$=Array.from(new Set(t.budgets.map(G=>G.category)));return F.getDate()<=25&&$.forEach(G=>{const q=oIe(t.budgets,G,F);if(!q)return;const Y=t.transactions.filter(H=>H.type==="expense"&&H.category===G&&new Date(H.date).getMonth()===V&&new Date(H.date).getFullYear()===z).reduce((H,ne)=>H+ne.amount,0);Y>=q.limit*.8&&Y<q.limit?j.push({title:`Ateno: ${G}`,message:`Voc j usou ${(Y/q.limit*100).toFixed(0)}% do oramento e ainda  dia ${F.getDate()}. Cuidado!`,type:"warning"}):Y>=q.limit&&j.push({title:`Limite Excedido: ${G}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),j},[t.budgets,t.transactions]),u=j=>e?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,c=t.transactions.filter(j=>j.type==="income").reduce((j,F)=>j+F.amount,0),d=t.transactions.filter(j=>j.type==="expense").reduce((j,F)=>j+F.amount,0),h=t.transactions.filter(j=>j.type==="expense"&&j.status==="pending").reduce((j,F)=>j+F.amount,0),y=t.transactions.filter(j=>j.status==="paid").reduce((j,F)=>j+(F.type==="income"?F.amount:-F.amount),0),v=t.transactions.length<300?y:t.walletBalance!==void 0?t.walletBalance:y,b=t.investments.reduce((j,F)=>j+F.amount,0),x=B.useMemo(()=>t.transactions.filter(F=>F.type==="expense"&&F.status==="pending").sort((F,V)=>new Date(F.date).getTime()-new Date(V.date).getTime()).slice(0,3),[t.transactions]),w=B.useMemo(()=>[...t.investments].sort((j,F)=>F.amount-j.amount).slice(0,3),[t.investments]),_=B.useMemo(()=>{const j=d>0?d:c*.5||1e3;return v/j},[v,d,c]),{healthScore:E,scoreLabel:P,scoreColor:S,factors:k}=B.useMemo(()=>{let j=0;const F=[],V=W=>{const le=new Date(W);return(new Date().getTime()-le.getTime())/(1e3*60*60*24*365.25)>=5},z=t.debts.filter(W=>(W.status==="open"||W.status==="negotiating")&&!V(W.dueDate)),$=z.length>0;$?(j+=200,F.push({text:`Negativado: ${z.length} dvidas`,type:"bad"})):(j+=350,F.push({text:"Nome Limpo",type:"good"}));const G=d>0?d:1e3,q=b/G;q>=6?(j+=200,F.push({text:"Reserva Robusta",type:"good"})):q>=1?(j+=100,F.push({text:"Reserva Iniciada",type:"neutral"})):F.push({text:"Sem Reserva",type:"bad"});const Y=c-d,H=c>0?Y/c:0;H>=.2?(j+=150,F.push({text:"Poupador (20%+)",type:"good"})):H<0&&(j-=50,F.push({text:"Dficit Mensal",type:"bad"})),v>=h?j+=150:(j-=100,F.push({text:"Risco de Calote",type:"bad"})),$&&(j=Math.min(j,550)),j=Math.max(0,Math.min(1e3,Math.round(j)));let ne="",he="";return j>=850?(ne="Elite",he="text-emerald-500"):j>=700?(ne="Excelente",he="text-emerald-600"):j>=500?(ne="Regular",he="text-amber-500"):j>=300?(ne="Ruim",he="text-orange-500"):(ne="Crtico",he="text-rose-600"),{healthScore:j,scoreLabel:ne,scoreColor:he,factors:F}},[t.debts,c,d,h,v,b]),C=B.useMemo(()=>{const j=new Map,[F,V]=r.split("-").map(Number),z=new Date(F,V-1,1),$=new Date;for(;z<=$||z.getMonth()===$.getMonth()&&z.getFullYear()===$.getFullYear();){const G=z.getFullYear(),q=String(z.getMonth()+1).padStart(2,"0");j.set(`${G}-${q}`,0),z.setMonth(z.getMonth()+1)}return t.transactions.forEach(G=>{if(G.type==="expense"){const q=G.date.slice(0,7);j.has(q)&&j.set(q,(j.get(q)||0)+G.amount)}}),Array.from(j.entries()).map(([G,q])=>{const[Y,H]=G.split("-").map(Number);return{name:new Date(Y,H-1,1).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),amount:q,fullDate:G}})},[t.transactions,r]),T=B.useMemo(()=>{const j=new Map;for(let F=5;F>=0;F--){const V=new Date;V.setMonth(V.getMonth()-F),j.set(V.toISOString().slice(0,7),{income:0,expense:0})}return t.transactions.forEach(F=>{const V=F.date.slice(0,7);if(j.has(V)){const z=j.get(V);F.type==="income"?z.income+=F.amount:z.expense+=F.amount}}),Array.from(j.entries()).map(([F,V])=>{const[z,$]=F.split("-");return{name:new Date(parseInt(z),parseInt($)-1,2).toLocaleDateString("pt-BR",{month:"short"}),Receitas:V.income,Despesas:V.expense}})},[t.transactions]),I=[{name:"Saldo Livre",value:Math.max(0,v),color:"#10b981"},{name:"Contas Pendentes",value:h,color:"#ef4444"},{name:"Investido",value:b,color:"#3b82f6"}].filter(j=>j.value>0),N=()=>{const j=`data:text/csv;charset=utf-8,Data,Descricao,Categoria,Tipo,Valor,Status
`+t.transactions.map(z=>`${z.date},${z.description},${z.category},${z.type},${z.amount},${z.status}`).join(`
`),F=encodeURI(j),V=document.createElement("a");V.setAttribute("href",F),V.setAttribute("download","finansmart_relatorio.csv"),document.body.appendChild(V),V.click(),document.body.removeChild(V)},M=f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[f.jsx(fd,{className:"w-5 h-5 text-indigo-500"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Fluxo de Caixa (6 Meses)"})]}),f.jsx("div",{className:"h-[300px] w-full",children:f.jsx($o,{width:"100%",height:"100%",children:f.jsxs(xS,{data:T,margin:{top:10,right:10,bottom:20,left:0},children:[f.jsx(Xl,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),f.jsx(ni,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),f.jsx(ri,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:j=>`R$${j>=1e3?(j/1e3).toFixed(0)+"k":j}`,width:60}),f.jsx(Jt,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:j=>[e?"":`R$ ${j.toLocaleString("pt-BR")}`,""]}),f.jsx(Jr,{iconType:"circle"}),f.jsx(ti,{dataKey:"Receitas",fill:"#10b981",radius:[4,4,0,0]}),f.jsx(ti,{dataKey:"Despesas",fill:"#f43f5e",radius:[4,4,0,0]})]})})})]}),D=f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[f.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[f.jsx(dp,{className:"w-5 h-5 text-indigo-500"}),"Distribuio de Patrimnio"]}),f.jsx("div",{className:"h-[300px]",children:f.jsx($o,{width:"100%",height:"100%",children:f.jsxs(x3,{children:[f.jsx(si,{data:I,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"value",children:I.map((j,F)=>f.jsx(ha,{fill:j.color},`cell-${F}`))}),f.jsx(Jt,{formatter:j=>e?"":`R$ ${j.toLocaleString("pt-BR")}`}),f.jsx(Jr,{verticalAlign:"bottom",height:36})]})})})]}),R=f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Zp,{className:"w-5 h-5 text-rose-500"}),"Tendncia de Despesas"]}),f.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700",children:[f.jsx(Bo,{className:"w-4 h-4 text-slate-400"}),f.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase",children:"Incio:"}),f.jsx("input",{type:"month",value:r,onChange:j=>i(j.target.value),className:"bg-transparent text-sm text-slate-700 dark:text-slate-200 focus:outline-none font-medium"})]})]}),f.jsx("div",{className:"h-[200px] w-full",children:f.jsx($o,{width:"100%",height:"100%",children:f.jsxs(nIe,{data:C,margin:{top:10,right:10,bottom:25,left:10},children:[f.jsx(Xl,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),f.jsx(ni,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10,padding:{left:10,right:10}}),f.jsx(ri,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:j=>`R$${j>=1e3?(j/1e3).toFixed(0)+"k":j}`,width:60}),f.jsx(Jt,{cursor:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"5 5"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:j=>[e?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Despesas"],labelStyle:{color:"#64748b",marginBottom:"0.25rem"}}),f.jsx(qf,{type:"monotone",dataKey:"amount",stroke:"#f43f5e",strokeWidth:3,dot:{r:4,fill:"#f43f5e",strokeWidth:2,stroke:"#fff"},activeDot:{r:6,stroke:"#f43f5e",strokeWidth:2,fill:"#fff"},isAnimationActive:!1})]})})})]});return f.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.length>0&&f.jsx("div",{className:"space-y-2",children:l.map((j,F)=>f.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down",children:[f.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:f.jsx(SB,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:j.title}),f.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:j.message})]})]},F))}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-2",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 w-full md:flex-1 min-w-0",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white whitespace-nowrap",children:[a,"!"]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Viso geral das suas finanas."})]}),f.jsx("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 sm:border-l sm:border-slate-300 dark:sm:border-slate-600 overflow-x-auto no-scrollbar mask-gradient w-full",children:L2.map(j=>{const F=t.unlockedBadges.includes(j.id),V=j.getProgress(t);return f.jsxs("div",{className:"group relative flex-shrink-0 cursor-help",children:[f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:`text-xl md:text-2xl transition-all duration-300 block ${F?"filter-none opacity-100 scale-100":"grayscale opacity-30 scale-90"}`,children:j.icon}),!F&&V>0&&f.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${V}%`}})})]}),f.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-3 w-max max-w-[180px] hidden group-hover:block z-50 pointer-events-none animate-fade-in",children:[f.jsxs("div",{className:"bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl text-center border border-slate-700",children:[f.jsx("p",{className:"font-bold mb-0.5",children:j.name}),f.jsx("p",{className:"opacity-80 mb-2",children:j.description}),f.jsx("div",{className:"flex items-center justify-between text-[10px] uppercase font-semibold",children:f.jsx("span",{className:F?"text-emerald-400":"text-slate-400",children:F?"Desbloqueado":`${V.toFixed(0)}% Concludo`})}),!F&&f.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full mt-1 overflow-hidden",children:f.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${V}%`}})})]}),f.jsx("div",{className:"w-2 h-2 bg-slate-800 rotate-45 absolute -top-1 left-1/2 -translate-x-1/2 border-t border-l border-slate-700"})]})]},j.id)})})]}),f.jsxs("button",{onClick:N,className:"flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors self-end md:self-auto flex-shrink-0",children:[f.jsx(lD,{className:"w-4 h-4"})," Exportar CSV"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 relative overflow-hidden group flex flex-col justify-between hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:f.jsx(t6,{className:"w-20 h-20 text-slate-400"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Score Financeiro"}),f.jsx(EB,{className:`w-4 h-4 ${S}`})]}),f.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[f.jsx("span",{className:`text-3xl font-black ${S} tracking-tighter`,children:E}),f.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:"/ 1000"})]}),f.jsx("p",{className:`text-xs font-bold uppercase tracking-wide ${S}`,children:P})]}),f.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700/50 space-y-1",children:k.slice(0,2).map((j,F)=>f.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[j.type==="good"&&f.jsx(sD,{className:"w-3 h-3 text-emerald-500"}),j.type==="bad"&&f.jsx(md,{className:"w-3 h-3 text-rose-500"}),j.type==="neutral"&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),f.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:j.text})]},F))})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Saldo em Caixa"}),f.jsx(c6,{className:"w-4 h-4 text-emerald-500"})]}),f.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white truncate",children:u(v)})]}),f.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Sobrevivncia"}),f.jsx("span",{className:`text-xs font-bold ${_<1?"text-rose-500":_<3?"text-amber-500":"text-emerald-500"}`,children:_<.1?"Crtico":`${_.toFixed(1)} Meses`})]}),f.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-slate-700 rounded-full mt-1.5 overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${_<1?"bg-rose-500":_<3?"bg-amber-400":"bg-emerald-500"}`,style:{width:`${Math.min(100,_/6*100)}%`}})})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"A Pagar (Ms)"}),f.jsx("p",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400 mt-1",children:u(h)})]}),f.jsx("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-2 rounded-lg",children:f.jsx(Kp,{className:"w-5 h-5 text-rose-500"})})]}),f.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-2",children:[f.jsx("p",{className:"text-[10px] text-slate-400 font-semibold uppercase border-b border-slate-100 dark:border-slate-700/50 pb-1",children:"Prximos Vencimentos"}),x.length===0?f.jsx("div",{className:"text-xs text-slate-400 italic",children:"Nada pendente."}):x.map(j=>{const F=new Date(j.date)<new Date(new Date().setHours(0,0,0,0));return f.jsxs("div",{className:"flex justify-between items-center text-xs",children:[f.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${F?"bg-rose-500":"bg-amber-400"}`}),f.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[80px]",children:j.description})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.jsx("span",{className:"text-slate-400 text-[10px]",children:new Date(j.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),f.jsx("span",{className:`font-semibold ${F?"text-rose-500":"text-slate-700 dark:text-slate-200"}`,children:u(j.amount).replace("R$","")})]})]},j.id)})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Total Investido"}),f.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mt-1",children:u(b)})]}),f.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-lg",children:f.jsx(Di,{className:"w-5 h-5 text-indigo-500"})})]}),f.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-2",children:[f.jsxs("p",{className:"text-[10px] text-slate-400 font-semibold uppercase border-b border-slate-100 dark:border-slate-700/50 pb-1 flex justify-between",children:[f.jsx("span",{children:"Maiores Posies"}),f.jsx(dp,{className:"w-3 h-3"})]}),w.length===0?f.jsx("div",{className:"text-xs text-slate-400 italic",children:"Carteira vazia."}):w.map((j,F)=>f.jsxs("div",{className:"flex justify-between items-center text-xs",children:[f.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[f.jsxs("span",{className:"text-slate-400 font-mono text-[10px]",children:[F+1,"."]}),f.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[90px]",title:j.name,children:j.name})]}),f.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400 flex-shrink-0",children:u(j.amount).replace("R$","")})]},j.id))]})]})]}),f.jsxs("div",{className:"hidden lg:block space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[M,D]}),R]}),f.jsxs("div",{className:"lg:hidden space-y-4",children:[f.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[f.jsxs("button",{onClick:()=>s("flow"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="flow"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[f.jsx(fd,{className:"w-3.5 h-3.5"}),"Fluxo"]}),f.jsxs("button",{onClick:()=>s("allocation"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="allocation"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[f.jsx(dp,{className:"w-3.5 h-3.5"}),"Carteira"]}),f.jsxs("button",{onClick:()=>s("history"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="history"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[f.jsx(Zp,{className:"w-3.5 h-3.5"}),"Histrico"]})]}),f.jsxs("div",{className:"min-h-[350px]",children:[o==="flow"&&M,o==="allocation"&&D,o==="history"&&R]})]})]})},V2={Casa:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800",Mobilidade:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",Alimentos:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",Lazer:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800",Sade:"bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900/30 dark:text-teal-300 dark:border-teal-800",Educao:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",Pets:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800",Salrio:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800",Investimentos:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",Outros:"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600"},j0={credit_card:"Crdito",debit_card:"Dbito",cash:"Dinheiro",pix:"PIX",direct_debit:"Db. Auto",bank_transfer:"TED/DOC",deposit:"Depsito"},sIe=({method:t,className:e})=>{switch(t){case"credit_card":return f.jsx(Jp,{className:e});case"debit_card":return f.jsx(Jp,{className:e});case"cash":return f.jsx(TB,{className:e});case"pix":return f.jsx(s6,{className:e});default:return f.jsx(fD,{className:e})}},L0=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Outros"],$0=["Salrio","Renda Extra","Investimentos","Presente","Reembolso","Outros"],F2=["credit_card","debit_card","direct_debit","pix","cash"],U2=["pix","bank_transfer","cash","deposit"],aIe=({transactions:t,budgets:e,onAdd:n,onUpdate:r,onDelete:i,onToggleStatus:o,onNavigate:s,privacyMode:a,hasApiKey:l,quickActionSignal:u})=>{const[c,d]=B.useState(!1),[h,y]=B.useState(!1),[v,b]=B.useState(!1),[x,w]=B.useState(new Date),[_,E]=B.useState("all"),[P,S]=B.useState(""),[k,C]=B.useState("all"),[T,I]=B.useState("all"),[N,M]=B.useState(!1),[D,R]=B.useState(null),[j,F]=B.useState({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,installments:""});B.useEffect(()=>{u&&Date.now()-u<2e3&&(d(!0),ce())},[u]);const V=B.useMemo(()=>j.type==="income"?$0:L0,[j.type]),z=B.useMemo(()=>j.type==="income"?U2:F2,[j.type]),$=()=>w(J=>new Date(J.getFullYear(),J.getMonth()-1,1)),G=()=>w(J=>new Date(J.getFullYear(),J.getMonth()+1,1)),q=B.useMemo(()=>t.filter(J=>{const[Q,X]=J.date.split("-");return!(!(parseInt(Q)===x.getFullYear()&&parseInt(X)===x.getMonth()+1)||_!=="all"&&J.type!==_||P&&!J.description.toLowerCase().includes(P.toLowerCase())||k!=="all"&&J.category!==k||T!=="all"&&J.paymentMethod!==T)}).sort((J,Q)=>new Date(Q.date).getTime()-new Date(J.date).getTime()),[t,x,_,P,k,T]),Y=B.useMemo(()=>{const J={};q.forEach(Ce=>{J[Ce.date]||(J[Ce.date]={transactions:[],total:0}),J[Ce.date].transactions.push(Ce);const Ve=Ce.type==="income"?Ce.amount:-Ce.amount;J[Ce.date].total+=Ve});const X=[...Object.entries(J).map(([Ce,Ve])=>({date:Ce,...Ve})).sort((Ce,Ve)=>new Date(Ve.date).getTime()-new Date(Ce.date).getTime())].reverse();let ve=0;return X.map(Ce=>(ve+=Ce.total,{...Ce,runningBalance:ve})).reverse()},[q]),H=B.useMemo(()=>{const J=q.filter(X=>X.type==="income").reduce((X,ve)=>X+ve.amount,0),Q=q.filter(X=>X.type==="expense").reduce((X,ve)=>X+ve.amount,0);return{income:J,expense:Q,balance:J-Q}},[q]),ne=J=>a?"":`R$ ${J.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,he=J=>{const Q=new Date(J+"T12:00:00"),X=new Date,ve=new Date;if(ve.setDate(ve.getDate()-1),Q.toDateString()===X.toDateString())return"Hoje";if(Q.toDateString()===ve.toDateString())return"Ontem";const _e=Q.toLocaleDateString("pt-BR",{weekday:"long"}),Ce=Q.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"});return`${_e.split("-")[0]}, ${Ce}`},W=async()=>{if(!j.description)return;y(!0);const J=await FZ(j.description),Q=V.includes(J);F(X=>({...X,category:Q?J:"Outros"})),y(!1)},le=J=>{const Q=J.target.value,X=Q==="income"?$0:L0,ve=Q==="income"?"pix":"credit_card";F(_e=>({..._e,type:Q,category:X[0],paymentMethod:ve}))},ce=()=>{F({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,installments:""}),R(null)},Ne=J=>{F({description:J.description,amount:J.amount.toString(),type:J.type,category:J.category,date:J.date,status:J.status,paymentMethod:J.paymentMethod||(J.type==="income"?"pix":"credit_card"),isRecurring:J.isRecurring||!1,installments:""}),R(J.id),d(!0)},ae=J=>{J.preventDefault();const Q={description:j.description,amount:parseFloat(j.amount),type:j.type,category:j.category,date:j.date,status:j.status,paymentMethod:j.paymentMethod,isRecurring:j.isRecurring},X=parseInt(j.installments);if(j.isRecurring&&!isNaN(X)&&X>1){const ve=new Date(j.date+"T12:00:00");for(let _e=0;_e<X;_e++){const Ce=new Date(ve);Ce.setMonth(ve.getMonth()+_e);const Ve=Ce.toISOString().split("T")[0],vt=`${j.description} (${_e+1}/${X})`;n({...Q,description:vt,date:Ve,isRecurring:!1})}}else D?r(D,Q):n(Q);ce(),d(!1)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white hidden md:block",children:"Transaes"}),f.jsxs("div",{className:"flex flex-1 w-full md:w-auto gap-3 items-center",children:[f.jsxs("div",{className:"flex-1 relative group",children:[f.jsx(kA,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2 group-focus-within:text-indigo-500 transition-colors"}),f.jsx("input",{type:"text",placeholder:"Buscar...",value:P,onChange:J=>S(J.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm transition-all shadow-sm"}),P&&f.jsx("button",{onClick:()=>S(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:f.jsx(Dr,{className:"w-3 h-3"})})]}),f.jsx("button",{onClick:()=>M(!N),className:`p-2.5 rounded-xl border transition-all ${N?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500"}`,children:f.jsx(cD,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 shrink-0",children:[f.jsx("button",{onClick:$,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:f.jsx(Kw,{className:"w-4 h-4"})}),f.jsx("span",{className:"px-2 text-xs font-bold text-slate-700 dark:text-slate-200 capitalize min-w-[80px] text-center",children:x.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})}),f.jsx("button",{onClick:G,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:f.jsx(qg,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"hidden md:flex gap-2",children:[f.jsxs("button",{onClick:()=>s(De.SUBSCRIPTIONS),className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 px-4 py-2.5 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium text-sm shadow-sm",children:[f.jsx(Oo,{className:"w-4 h-4 text-indigo-500"}),"Assinaturas"]}),f.jsxs("button",{onClick:()=>{ce(),d(!c)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 font-bold text-sm",children:[f.jsx(Mi,{className:"w-4 h-4"})," Nova"]})]})]}),N&&f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 bg-slate-50 dark:bg-slate-800/50 p-3 rounded-xl border border-slate-200 dark:border-slate-700 animate-fade-in-down",children:[f.jsxs("select",{value:k,onChange:J=>C(J.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[f.jsx("option",{value:"all",children:"Todas Categorias"}),[...L0,...$0].map(J=>f.jsx("option",{value:J,children:J},J))]}),f.jsxs("select",{value:T,onChange:J=>I(J.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[f.jsx("option",{value:"all",children:"Todos Mtodos"}),[...F2,...U2].map(J=>f.jsx("option",{value:J,children:j0[J]},J))]})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Entradas"}),f.jsx("p",{className:"text-sm md:text-lg font-bold text-emerald-600 dark:text-emerald-400 truncate",children:ne(H.income)})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Sadas"}),f.jsx("p",{className:"text-sm md:text-lg font-bold text-rose-600 dark:text-rose-400 truncate",children:ne(H.expense)})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Resultado (Proj.)"}),f.jsx("p",{className:`text-sm md:text-lg font-bold truncate ${H.balance>=0?"text-indigo-600 dark:text-indigo-400":"text-rose-600"}`,children:ne(H.balance)})]})]}),c&&f.jsxs("form",{onSubmit:ae,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[f.jsx("div",{className:"col-span-1 md:col-span-2",children:f.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:D?"Editar Transao":"Adicionar Transao"})}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"text",placeholder:"Descrio",value:j.description,onChange:J=>F({...j,description:J.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none w-full pr-10"}),f.jsx("button",{type:"button",onClick:W,disabled:h||!j.description||!l,className:`absolute right-2 top-2 ${l?"text-indigo-500 hover:text-indigo-700":"text-slate-400 opacity-50 cursor-not-allowed"} disabled:opacity-30`,children:h?f.jsx(Hg,{className:"w-5 h-5 animate-spin"}):f.jsx(d6,{className:"w-5 h-5"})})]}),f.jsx("input",{required:!0,type:"number",placeholder:"Valor (R$)",value:j.amount,onChange:J=>F({...j,amount:J.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none"}),f.jsxs("select",{value:j.type,onChange:le,className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[f.jsx("option",{value:"expense",children:"Despesa"}),f.jsx("option",{value:"income",children:"Receita"})]}),f.jsx("select",{value:j.category,onChange:J=>F({...j,category:J.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:V.map(J=>f.jsx("option",{value:J,children:J},J))}),f.jsx("input",{required:!0,type:"date",value:j.date,onChange:J=>F({...j,date:J.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2"}),f.jsxs("select",{value:j.status,onChange:J=>F({...j,status:J.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[f.jsx("option",{value:"paid",children:"Pago/Recebido"}),f.jsx("option",{value:"pending",children:"Pendente"})]}),f.jsx("select",{value:j.paymentMethod,onChange:J=>F({...j,paymentMethod:J.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:z.map(J=>f.jsx("option",{value:J,children:j0[J]},J))}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsxs("div",{className:"flex items-center gap-2 p-2 border border-dashed border-slate-300 dark:border-slate-600 rounded-lg",children:[f.jsx("input",{type:"checkbox",id:"recurring",checked:j.isRecurring,onChange:J=>F({...j,isRecurring:J.target.checked}),className:"w-4 h-4 text-indigo-600 rounded"}),f.jsxs("label",{htmlFor:"recurring",className:"text-sm text-slate-700 dark:text-slate-200 font-medium flex items-center gap-1 cursor-pointer",children:[f.jsx(Oo,{className:"w-4 h-4 text-indigo-500"})," Assinatura / Recorrente / Parcelado"]})]}),j.isRecurring&&f.jsx("div",{className:"mt-2 pl-2 md:pl-6 animate-fade-in",children:f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Repetir por quantas vezes? (Opcional)"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Jw,{className:"w-4 h-4 text-slate-400"}),f.jsx("input",{type:"number",placeholder:"Ex: 12 (Deixe vazio para assinatura infinita)",value:j.installments,onChange:J=>F({...j,installments:J.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 text-sm w-full outline-none focus:ring-2 focus:ring-indigo-500"})]})]})})]}),f.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[f.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:D?"Atualizar":"Salvar"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex",children:[f.jsxs("button",{onClick:()=>E("all"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${_==="all"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[f.jsx(Dx,{className:"w-4 h-4"})," Todas"]}),f.jsxs("button",{onClick:()=>E("income"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${_==="income"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[f.jsx(Kv,{className:"w-4 h-4"})," Entradas"]}),f.jsxs("button",{onClick:()=>E("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${_==="expense"?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[f.jsx(Wv,{className:"w-4 h-4"})," Sadas"]})]}),f.jsx("div",{className:"space-y-4 pb-20 md:pb-0",children:Y.length===0?f.jsxs("div",{className:"text-center py-16 text-slate-400",children:[f.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(kA,{className:"w-8 h-8 opacity-50"})}),f.jsx("p",{children:"Nenhuma transao encontrada."}),f.jsx("p",{className:"text-xs mt-1",children:"Tente mudar os filtros ou adicione uma nova."})]}):Y.map(J=>f.jsxs("div",{className:"animate-fade-in",children:[f.jsxs("div",{className:"flex items-center justify-between px-3 py-2 mb-1 sticky top-0 z-10 bg-slate-50/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-lg border-b border-slate-100 dark:border-slate-800",children:[f.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[f.jsx(Bo,{className:"w-3 h-3"}),he(J.date)]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:`text-xs font-bold ${J.total>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-500"}`,children:J.total!==0&&(J.total>0?"+":"")+ne(J.total)}),f.jsx("div",{className:"h-4 w-px bg-slate-300 dark:bg-slate-700"}),f.jsxs("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 flex items-center gap-1",title:"Saldo acumulado at este dia",children:[f.jsx(o6,{className:"w-3 h-3"}),ne(J.runningBalance)]})]})]}),f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden divide-y divide-slate-100 dark:divide-slate-700",children:J.transactions.map(Q=>{var X,ve;return f.jsxs("div",{className:"group hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsxs("div",{className:"md:hidden p-4 flex items-center gap-3 relative",children:[f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${Q.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:Q.type==="income"?f.jsx(Kv,{className:"w-5 h-5"}):f.jsx(Wv,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>Ne(Q),children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white truncate pr-2 text-sm",children:Q.description}),f.jsxs("span",{className:`font-bold text-sm whitespace-nowrap ${Q.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[Q.type==="expense"&&"- ",ne(Q.amount)]})]}),f.jsx("div",{className:"flex justify-between items-center mt-1",children:f.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[f.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium border ${((X=V2[Q.category])==null?void 0:X.replace("bg-","border-").split(" ")[2])||"border-slate-200"}`,children:Q.category}),Q.isRecurring&&f.jsxs("span",{className:"flex items-center gap-0.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded",children:[f.jsx(Oo,{className:"w-3 h-3"}),Q.description.match(/\(\d+\/\d+\)/)?"Parcela":"Fixo"]})]})})]}),f.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[f.jsx("button",{onClick:()=>o(Q.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${Q.status==="paid"?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:f.jsx(Ox,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>Ne(Q),className:"p-1 text-slate-400",children:f.jsx(XB,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"hidden md:flex items-center gap-4 p-3 text-sm",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${Q.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:Q.type==="income"?f.jsx(Kv,{className:"w-4 h-4"}):f.jsx(Wv,{className:"w-4 h-4"})}),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-8 text-center font-bold text-slate-400 text-xs",children:parseInt(Q.date.split("-")[2])}),f.jsx("div",{className:"w-24 shrink-0",children:f.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-medium border block text-center truncate ${((ve=V2[Q.category])==null?void 0:ve.replace("bg-","border-").split(" ")[2])||"border-slate-200"}`,children:Q.category})}),f.jsxs("div",{className:"flex-1 font-medium text-slate-700 dark:text-slate-200 truncate cursor-pointer hover:text-indigo-500",onClick:()=>Ne(Q),title:"Clique para editar",children:[Q.description,Q.isRecurring&&f.jsxs("span",{className:"ml-2 text-[10px] text-slate-400 italic",children:["(",Q.description.match(/\(\d+\/\d+\)/)?"Parcela":"Recorrente",")"]})]}),f.jsxs("div",{className:"w-24 text-xs text-slate-500 flex items-center gap-1",children:[f.jsx(sIe,{method:Q.paymentMethod||"",className:"w-3 h-3"}),f.jsx("span",{className:"truncate",children:j0[Q.paymentMethod||""]||"-"})]}),f.jsx("div",{className:`w-28 text-right font-bold cursor-pointer hover:text-indigo-500 ${Q.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-200"}`,onClick:()=>Ne(Q),children:ne(Q.amount)}),f.jsx("div",{className:"w-8 flex justify-center",children:f.jsx("button",{onClick:()=>o(Q.id),className:`transition-all hover:scale-110 ${Q.status==="paid"?"text-emerald-500":"text-slate-300 hover:text-emerald-400"}`,title:Q.status==="paid"?"Marcar como pendente":"Marcar como pago",children:f.jsx(Ox,{className:"w-5 h-5"})})}),f.jsxs("div",{className:"w-16 flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>Ne(Q),className:"p-1.5 text-slate-400 hover:text-indigo-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(QB,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>i(Q.id),className:"p-1.5 text-slate-400 hover:text-rose-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(au,{className:"w-4 h-4"})})]})]})]})]},Q.id)})})]},J.date))}),f.jsx("button",{onClick:()=>{ce(),d(!0)},className:"md:hidden fixed bottom-20 right-4 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center z-40 hover:scale-105 transition-transform",children:f.jsx(Mi,{className:"w-7 h-7"})})]})},B2=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1"],lIe=({investments:t,onAdd:e,onUpdate:n,onDelete:r,onNavigate:i,privacyMode:o,hasApiKey:s,quickActionSignal:a})=>{const[l,u]=B.useState(!1),[c,d]=B.useState(null),[h,y]=B.useState(!1),[v,b]=B.useState(!1),[x,w]=B.useState(!1),[_,E]=B.useState(null),[P,S]=B.useState(""),[k,C]=B.useState(null),[T,I]=B.useState(""),[N,M]=B.useState({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]});B.useEffect(()=>{a&&Date.now()-a<2e3&&(u(!0),M({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}))},[a]);const D=B.useMemo(()=>{const W=new Map;return t.forEach(le=>{W.set(le.type,(W.get(le.type)||0)+le.amount)}),Array.from(W.entries()).map(([le,ce])=>({name:le,value:ce})).sort((le,ce)=>ce.value-le.value)},[t]),R=W=>{W.preventDefault();const le=parseFloat(N.amount),ce=N.investedAmount?parseFloat(N.investedAmount):le;e({name:N.name,amount:le,investedAmount:ce,targetAmount:parseFloat(N.targetAmount)||0,type:N.type,date:N.date}),M({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}),u(!1)},j=W=>{if(W.preventDefault(),!_)return;const le=t.find(ce=>ce.id===_);if(le){const ce=parseFloat(P);if(!isNaN(ce)&&ce>0){const Ne=le.investedAmount||le.amount;n(_,{amount:le.amount+ce,investedAmount:Ne+ce})}}E(null),S("")},F=W=>{const le=parseFloat(T);!isNaN(le)&&le>=0&&n(W,{amount:le}),C(null)},V=async()=>{if(!s)return;b(!0),y(!0),d(null),w(!1);const W=await UZ(t);d(W),y(!1)},z=()=>{if(!c)return{recommendations:"",technical:""};const W=c.text.split("---SECTION-BREAK---");return{recommendations:W[0].trim(),technical:W.length>1?W[1].trim():""}},{recommendations:$,technical:G}=z(),q=t.reduce((W,le)=>W+le.amount,0),Y=t.reduce((W,le)=>W+(le.investedAmount||le.amount),0),H=q-Y,ne=Y>0?H/Y*100:0,he=W=>o?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;return f.jsxs("div",{className:"space-y-6 relative",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Meus Investimentos"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Acompanhe rentabilidade e metas."})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("button",{onClick:()=>i(De.BUDGETS),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-pink-50 text-pink-600 hover:bg-pink-100 dark:bg-pink-900/20 dark:text-pink-400 dark:hover:bg-pink-900/40 transition-all font-medium text-sm border border-pink-200 dark:border-pink-800",children:[f.jsx(qs,{className:"w-4 h-4"}),"Metas"]}),f.jsxs("button",{onClick:V,disabled:!s,title:s?"Consultor IA":"Configure a Chave API para usar",className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all shadow-sm text-sm font-medium
                   ${s?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-400 cursor-not-allowed opacity-60"}`,children:[f.jsx(Ds,{className:"w-4 h-4"}),"Consultor IA ",!s&&f.jsx("span",{className:"text-[10px] ml-1",children:"(Req. Chave)"})]}),f.jsxs("button",{onClick:()=>u(!l),className:"flex items-center gap-2 bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-lg hover:bg-slate-900 dark:hover:bg-slate-600 transition-colors shadow-sm text-sm font-medium",children:[f.jsx(Mi,{className:"w-4 h-4"}),"Novo Ativo"]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg flex flex-col justify-between relative overflow-hidden",children:[f.jsxs("div",{className:"relative z-10",children:[f.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-wider mb-1",children:"Patrimnio Total"}),f.jsx("h3",{className:"text-3xl font-bold mb-1",children:he(q)}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsxs("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded bg-white/20 flex items-center gap-1 ${H>=0?"text-emerald-300":"text-rose-300"}`,children:[H>=0?f.jsx(Di,{className:"w-3 h-3"}):f.jsx(Zp,{className:"w-3 h-3"}),ne.toFixed(2),"%"]}),f.jsxs("span",{className:"text-[10px] text-indigo-200",children:["(",H>=0?"+":"",he(H),")"]})]})]}),f.jsx(Xp,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20 pointer-events-none"})]}),D.length>0&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 md:col-span-2 flex items-center",children:[f.jsx("div",{className:"flex-1 h-[140px]",children:f.jsx($o,{width:"100%",height:"100%",children:f.jsxs(x3,{children:[f.jsx(si,{data:D,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:D.map((W,le)=>f.jsx(ha,{fill:B2[le%B2.length]},`cell-${le}`))}),f.jsx(Jt,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",fontSize:"12px"},formatter:W=>o?"":`R$ ${W.toLocaleString("pt-BR")}`}),f.jsx(Jr,{layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{fontSize:"11px"}})]})})}),f.jsx("div",{className:"w-px h-20 bg-slate-100 dark:bg-slate-700 mx-4"}),f.jsxs("div",{className:"pr-4 min-w-[120px]",children:[f.jsxs("p",{className:"text-xs text-slate-500 uppercase font-bold mb-2 flex items-center gap-1",children:[f.jsx(dp,{className:"w-3 h-3"})," Alocao"]}),D.slice(0,3).map((W,le)=>f.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[f.jsx("span",{className:"text-slate-600 dark:text-slate-300 truncate max-w-[80px]",children:W.name}),f.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[(W.value/q*100).toFixed(0),"%"]})]},le))]})]})]}),v&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-purple-200 dark:border-purple-900 overflow-hidden animate-fade-in",children:[f.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-slate-800 dark:to-slate-800 p-4 border-b border-purple-100 dark:border-slate-700 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(oD,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),f.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300",children:"Smart Advisor"})]}),f.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-6",children:h?f.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[f.jsx(Hg,{className:"w-8 h-8 text-purple-600 animate-spin mb-3"}),f.jsx("p",{className:"text-slate-500 text-sm animate-pulse",children:"Buscando oportunidades em tempo real..."})]}):c?f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"prose prose-sm prose-purple dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",children:f.jsx("div",{dangerouslySetInnerHTML:{__html:$.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})}),G&&f.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[f.jsxs("button",{onClick:()=>w(!x),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-700 dark:text-slate-200 text-sm font-semibold transition-colors border border-slate-200 dark:border-slate-600",children:[f.jsx(AB,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),x?"Ocultar Detalhes Tcnicos":"Ver Anlise Tcnica Detalhada",x?f.jsx(kB,{className:"w-4 h-4"}):f.jsx(CB,{className:"w-4 h-4"})]}),x&&f.jsx("div",{className:"mt-4 p-5 bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-200 dark:border-slate-700 animate-fade-in",children:f.jsx("div",{className:"prose prose-sm prose-slate dark:prose-invert max-w-none text-slate-600 dark:text-slate-400",children:f.jsx("div",{dangerouslySetInnerHTML:{__html:G.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})})})]}),c.sources.length>0&&f.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[f.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Fontes Consultadas"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:c.sources.map((W,le)=>f.jsxs("a",{href:W.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-1 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:[f.jsx(uD,{className:"w-3 h-3"}),W.title.length>30?W.title.substring(0,30)+"...":W.title]},le))})]}),f.jsx("div",{className:"mt-4 flex justify-end",children:f.jsx("button",{onClick:V,className:"text-sm text-purple-600 hover:underline",children:"Atualizar Recomendao"})})]}):f.jsx("div",{className:"text-center text-slate-500",children:"Erro ao carregar recomendao."})})]}),l&&f.jsxs("form",{onSubmit:R,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[f.jsx("div",{className:"col-span-1 md:col-span-2",children:f.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Adicionar Novo Ativo"})}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Nome"}),f.jsx("input",{required:!0,type:"text",placeholder:"Ex: CDB Banco X, PETR4",value:N.name,onChange:W=>M({...N,name:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Atual (Mercado)"}),f.jsx("input",{required:!0,type:"number",placeholder:"R$",value:N.amount,onChange:W=>M({...N,amount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Investido (Custo)"}),f.jsx("input",{type:"number",placeholder:"Igual ao atual se vazio",value:N.investedAmount,onChange:W=>M({...N,investedAmount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Objetivo Final (Meta)"}),f.jsx("input",{type:"number",placeholder:"R$",value:N.targetAmount,onChange:W=>M({...N,targetAmount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tipo"}),f.jsxs("select",{value:N.type,onChange:W=>M({...N,type:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[f.jsx("option",{value:"Renda Fixa",children:"Renda Fixa"}),f.jsx("option",{value:"Aes",children:"Aes"}),f.jsx("option",{value:"FIIs",children:"FIIs"}),f.jsx("option",{value:"Cripto",children:"Criptomoedas"}),f.jsx("option",{value:"Reserva",children:"Reserva de Emergncia"}),f.jsx("option",{value:"Outros",children:"Outros"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Data da Compra"}),f.jsx("input",{required:!0,type:"date",value:N.date,onChange:W=>M({...N,date:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2"})]}),f.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[f.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Salvar"})]})]}),_&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-sm p-6 animate-fade-in",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Novo Aporte"}),f.jsx("button",{onClick:()=>E(null),className:"text-slate-400 hover:text-slate-600",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Ao aportar, o valor ser somado ao Custo e ao Valor Atual."}),f.jsxs("form",{onSubmit:j,children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"VALOR DO APORTE"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-2 text-slate-400",children:"R$"}),f.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg py-2 pl-8 pr-3 focus:ring-2 focus:ring-indigo-500 outline-none text-lg font-medium",value:P,onChange:W=>S(W.target.value)})]})]}),f.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[f.jsx(Lx,{className:"w-5 h-5"}),"Confirmar Aporte"]})]})]})}),f.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.length===0?f.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:"Voc ainda no registrou investimentos."}):t.map(W=>{const le=W.investedAmount||W.amount,Ne=W.amount-le,ae=le>0?Ne/le*100:0,J=W.targetAmount&&W.targetAmount>0?Math.min(100,W.amount/W.targetAmount*100):0;return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-shadow relative group",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-2",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-full text-indigo-600 dark:text-indigo-400",children:f.jsx(Xp,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-lg",children:W.name}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs mt-1",children:[f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-0.5 rounded",children:W.type}),ae!==0&&f.jsxs("span",{className:`px-2 py-0.5 rounded font-bold flex items-center gap-1 ${ae>0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:[ae>0?f.jsx(Di,{className:"w-3 h-3"}):f.jsx(Zp,{className:"w-3 h-3"}),ae.toFixed(2),"%"]})]})]})]}),f.jsxs("div",{className:"flex items-start justify-between md:justify-end gap-3 md:gap-6 mt-2 md:mt-0",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"block text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Valor Atual"}),k===W.id?f.jsx("div",{className:"flex items-center justify-end gap-1 mt-1",children:f.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600 text-right",value:T,onChange:Q=>I(Q.target.value),onKeyDown:Q=>Q.key==="Enter"&&F(W.id),onBlur:()=>F(W.id)})}):f.jsxs("div",{className:"group/edit relative inline-block",children:[f.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-xl cursor-pointer hover:text-indigo-500 border-b border-dashed border-transparent hover:border-indigo-400 transition-all",onClick:()=>{C(W.id),I(W.amount.toString())},title:"Clique para atualizar cotao",children:he(W.amount)}),f.jsx(mD,{className:"w-3 h-3 text-slate-300 absolute -right-4 top-1 opacity-0 group-hover/edit:opacity-100 transition-opacity"})]}),f.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Investido: ",he(le)]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("button",{onClick:()=>E(W.id),className:"p-1.5 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 dark:text-indigo-400 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 rounded-lg transition-colors",title:"Novo Aporte",children:f.jsx(Lx,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>r(W.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir",children:f.jsx(au,{className:"w-4 h-4"})})]})]})]}),W.targetAmount>0?f.jsx("div",{className:"mt-3 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-end mb-1",children:[f.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase flex items-center gap-1",children:[f.jsx(qs,{className:"w-3 h-3"})," Meta: ",he(W.targetAmount)]}),f.jsxs("span",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400",children:[J.toFixed(0),"%"]})]}),f.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-600 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${J}%`}})})]})}):f.jsx("div",{className:"mt-2 flex justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsxs("button",{onClick:()=>u(!0),className:"text-[10px] text-slate-400 hover:text-indigo-500 flex items-center gap-1 uppercase font-bold tracking-wider",children:[f.jsx(PB,{className:"w-3 h-3"})," Definir Meta"]})})]},W.id)})})]})},uIe=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],cIe=({budgets:t,transactions:e,investments:n,onAdd:r,onUpdate:i,onDelete:o,onNavigate:s,privacyMode:a,quickActionSignal:l})=>{const[u,c]=B.useState(!1),[d,h]=B.useState(!1),[y,v]=B.useState(new Date),[b,x]=B.useState(null),[w,_]=B.useState(""),[E,P]=B.useState({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)});B.useEffect(()=>{l&&Date.now()-l<2e3&&(c(!0),P({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)}))},[l]);const S=()=>{v($=>{const G=new Date($);return G.setMonth($.getMonth()-1),G})},k=()=>{v($=>{const G=new Date($);return G.setMonth($.getMonth()+1),G})},C=$=>$.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),T=()=>{const $=y.getFullYear(),G=String(y.getMonth()+1).padStart(2,"0");return`${$}-${G}`},I=$=>{if($.preventDefault(),E.isRecurring){if(t.some(q=>q.category===E.category&&q.isRecurring)){alert(`J existe um oramento recorrente para ${E.category}. Exclua o anterior para criar um novo.`);return}}else if(t.some(q=>q.category===E.category&&q.month===E.month)){alert(`J existe um oramento de ${E.category} para ${E.month}.`);return}const G={category:E.category,limit:parseFloat(E.limit),isRecurring:E.isRecurring};E.isRecurring||(G.month=E.month),r(G),P({category:"Outros",limit:"",isRecurring:!0,month:T()}),c(!1)},N=$=>{const G=parseFloat(w);!isNaN(G)&&G>0&&i($,{limit:G}),x(null)},M=$=>{x($.id),_($.limit.toString())},D=$=>a?"":`R$ ${$.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,R=$=>{const G=y.getFullYear(),q=y.getMonth();return e.filter(Y=>{const H=new Date(Y.date);return Y.type==="expense"&&Y.category===$&&H.getMonth()===q&&H.getFullYear()===G}).reduce((Y,H)=>Y+H.amount,0)},j=B.useMemo(()=>{const $=T(),G=t.filter(H=>H.month===$),q=new Set(G.map(H=>H.category)),Y=t.filter(H=>H.isRecurring&&!q.has(H.category));return[...G,...Y].sort((H,ne)=>H.category.localeCompare(ne.category))},[t,y]),F=B.useMemo(()=>n.filter($=>$.targetAmount>0).sort(($,G)=>{const q=$.amount/$.targetAmount;return G.amount/G.targetAmount-q}),[n]),V=$=>{const G=new Date;if(G.getMonth()!==y.getMonth()||G.getFullYear()!==y.getFullYear())return null;const q=G.getDate(),Y=new Date(G.getFullYear(),G.getMonth()+1,0).getDate();return q===1?$:$/q*Y},z=B.useMemo(()=>{const $=new Map,G=new Date;for(let Y=0;Y<6;Y++){const H=new Date(G.getFullYear(),G.getMonth()-Y,1),ne=H.getFullYear(),he=H.getMonth(),W=`${ne}-${String(he+1).padStart(2,"0")}`;new Set(e.filter(ce=>{const Ne=new Date(ce.date);return ce.type==="expense"&&Ne.getFullYear()===ne&&Ne.getMonth()===he}).map(ce=>ce.category)).forEach(ce=>{let Ne=t.find(ae=>ae.category===ce&&ae.month===W);if(Ne||(Ne=t.find(ae=>ae.category===ce&&ae.isRecurring)),Ne){const ae=e.filter(Q=>{const X=new Date(Q.date);return Q.type==="expense"&&Q.category===ce&&X.getFullYear()===ne&&X.getMonth()===he}).reduce((Q,X)=>Q+X.amount,0),J=$.get(ce)||{totalSpent:0,totalLimit:0,count:0};$.set(ce,{totalSpent:J.totalSpent+ae,totalLimit:J.totalLimit+Ne.limit,count:J.count+1})}})}return Array.from($.entries()).map(([Y,H])=>{const ne=H.totalSpent/H.totalLimit*100;return{name:Y,adherence:ne,spent:H.totalSpent/H.count,limit:H.totalLimit/H.count}}).sort((Y,H)=>H.adherence-Y.adherence)},[t,e]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Planejamento"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm capitalize",children:"Defina limites e acompanhe suas metas."})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[f.jsx("button",{onClick:()=>h(!d),className:`p-2.5 rounded-lg transition-colors border ${d?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,title:"Ver Anlise de Performance",children:f.jsx(fd,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1",children:[f.jsx("button",{onClick:S,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:f.jsx(Kw,{className:"w-5 h-5"})}),f.jsxs("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center flex items-center justify-center gap-2",children:[f.jsx(Bo,{className:"w-4 h-4 text-pink-500"}),C(y)]}),f.jsx("button",{onClick:k,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:f.jsx(qg,{className:"w-5 h-5"})})]}),f.jsxs("button",{onClick:()=>{P($=>({...$,month:T()})),c(!u)},className:"flex items-center gap-2 bg-pink-600 text-white px-4 py-2.5 rounded-lg hover:bg-pink-700 transition-colors shadow-sm text-sm font-medium",children:[f.jsx(Mi,{className:"w-4 h-4"}),"Definir Teto"]})]})]}),d&&z.length>0&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in-down mb-6",children:[f.jsx("div",{className:"mb-6",children:f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Di,{className:"w-5 h-5 text-indigo-500"}),"Performance Histrica (ltimos 6 Meses)"]})}),f.jsx("div",{className:"h-[300px] w-full",children:f.jsx($o,{width:"100%",height:"100%",children:f.jsxs(xS,{data:z,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[f.jsx(Xl,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),f.jsx(ni,{type:"number",hide:!0}),f.jsx(ri,{dataKey:"name",type:"category",width:100,tick:{fill:"#64748b",fontSize:12,fontWeight:500},axisLine:!1,tickLine:!1}),f.jsx(Jt,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:$=>[`${$.toFixed(0)}%`,"Mdia de Uso"]}),f.jsx(zf,{x:100,stroke:"#ef4444",strokeDasharray:"3 3"}),f.jsx(ti,{dataKey:"adherence",radius:[0,4,4,0],barSize:20,children:z.map(($,G)=>f.jsx(ha,{fill:$.adherence>100?"#ef4444":$.adherence>85?"#f59e0b":"#10b981"},`cell-${G}`))})]})})})]}),u&&f.jsxs("form",{onSubmit:I,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[f.jsx("div",{className:"col-span-1 md:col-span-2",children:f.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Novo Limite de Gastos"})}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Categoria"}),f.jsx("select",{value:E.category,onChange:$=>P({...E,category:$.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500",children:uIe.map($=>f.jsx("option",{value:$,children:$},$))})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Valor Teto (R$)"}),f.jsx("input",{required:!0,type:"number",placeholder:"Ex: 1000.00",value:E.limit,onChange:$=>P({...E,limit:$.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500"})]}),f.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("input",{type:"checkbox",id:"isRecurringBudget",checked:E.isRecurring,onChange:$=>P({...E,isRecurring:$.target.checked}),className:"w-4 h-4 text-pink-600 rounded"}),f.jsxs("label",{htmlFor:"isRecurringBudget",className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex items-center gap-1 cursor-pointer",children:[f.jsx(Oo,{className:"w-4 h-4"})," Oramento Recorrente?"]})]}),E.isRecurring?f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[f.jsx(FB,{className:"w-3 h-3"})," Este limite ser aplicado automaticamente em todos os meses futuros."]}):f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 block mb-1",children:"Ms de Referncia"}),f.jsx("input",{type:"month",required:!E.isRecurring,value:E.month,onChange:$=>P({...E,month:$.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none w-full max-w-[200px]"})]})]}),f.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[f.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 font-medium",children:"Salvar Teto"})]})]}),f.jsxs("div",{className:"mb-10",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[f.jsx(Kp,{className:"w-5 h-5 text-rose-500"})," Tetos de Gastos"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.length===0?f.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[f.jsx(qs,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhum teto definido."})]}):j.map($=>{const G=R($.category),q=V(G),Y=Math.min(100,G/$.limit*100),H=q?Math.min(100,q/$.limit*100):0,ne=G>$.limit;let he="bg-emerald-500",W=f.jsx(Ox,{className:"w-5 h-5 text-emerald-600"});return Y>100?(he="bg-rose-500",W=f.jsx(Kp,{className:"w-5 h-5 text-rose-600"})):Y>85?(he="bg-rose-500",W=f.jsx(Yp,{className:"w-5 h-5 text-rose-500"})):Y>70&&(he="bg-amber-500",W=f.jsx(Yp,{className:"w-5 h-5 text-amber-500"})),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all relative group",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 rounded-lg bg-slate-100 dark:bg-slate-700",children:W}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:$.category}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[$.isRecurring?f.jsx(Oo,{className:"w-3 h-3"}):f.jsx(hd,{className:"w-3 h-3"}),$.isRecurring?"Mensal":"Especfico"]})]})]}),b===$.id?f.jsxs("div",{className:"flex items-center gap-1 animate-fade-in",children:[f.jsx("input",{autoFocus:!0,type:"number",className:"w-20 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600",value:w,onChange:le=>_(le.target.value),onKeyDown:le=>le.key==="Enter"&&N($.id)}),f.jsx("button",{onClick:()=>N($.id),className:"p-1 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:f.jsx(e6,{className:"w-3 h-3"})}),f.jsx("button",{onClick:()=>x(null),className:"p-1 bg-slate-100 text-slate-600 rounded hover:bg-slate-200",children:f.jsx(Dr,{className:"w-3 h-3"})})]}):f.jsxs("div",{className:"text-right group-hover:hidden",children:[f.jsx("p",{className:"text-xs text-slate-500",children:"Limite"}),f.jsx("p",{className:"font-bold text-slate-800 dark:text-white cursor-pointer hover:text-indigo-500",onClick:()=>M($),children:D($.limit)})]}),f.jsxs("div",{className:"hidden group-hover:flex gap-1 absolute top-4 right-4 bg-white dark:bg-slate-800 pl-2",children:[f.jsx("button",{onClick:()=>M($),className:"p-1.5 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 rounded",children:f.jsx(mD,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>o($.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded",children:f.jsx(au,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"space-y-2 relative",children:[f.jsxs("div",{className:"flex justify-between items-end text-sm",children:[f.jsxs("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:["Gasto: ",f.jsx("span",{className:ne?"text-rose-500 font-bold":"",children:D(G)})]}),f.jsxs("span",{className:"text-slate-400 text-xs",children:[Y.toFixed(0),"%"]})]}),f.jsxs("div",{className:"w-full h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden relative",children:[q&&q>G&&!ne&&f.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-200 dark:bg-slate-600 opacity-50 border-r-2 border-slate-400 dark:border-slate-400 transition-all duration-1000",style:{width:`${H}%`},title:`Previso de fechar o ms em ${D(q)}`}),f.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${he} relative z-10`,style:{width:`${Y}%`}})]}),f.jsxs("div",{className:"flex justify-between items-center mt-2",children:[q&&q>$.limit&&!ne&&f.jsxs("p",{className:"text-[10px] text-amber-600 dark:text-amber-400 flex items-center gap-1 font-semibold animate-pulse",children:[f.jsx(MB,{className:"w-3 h-3"})," Previso de estouro: ",D(q)]}),f.jsx("div",{className:"flex-1"}),f.jsx("p",{className:"text-xs text-right font-medium",children:ne?f.jsxs("span",{className:"text-rose-500",children:["Excedido: ",D(G-$.limit)]}):f.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["Restam: ",D($.limit-G)]})})]})]})]},$.id)})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[f.jsx(CA,{className:"w-5 h-5 text-yellow-500"})," Objetivos de Conquista"]}),f.jsxs("button",{onClick:()=>s(De.INVESTMENTS),className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 flex items-center gap-1 transition-colors",children:["Gerenciar Carteira ",f.jsx(Ww,{className:"w-3 h-3"})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.length===0?f.jsxs("div",{className:"col-span-full py-8 text-center bg-yellow-50/50 dark:bg-yellow-900/10 rounded-xl border border-dashed border-yellow-200 dark:border-yellow-800",children:[f.jsx(qs,{className:"w-10 h-10 text-yellow-400 mx-auto mb-2"}),f.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:'Defina uma "Meta Final" nos seus investimentos para v-los aqui.'}),f.jsx("button",{onClick:()=>s(De.INVESTMENTS),className:"mt-3 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-700 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Ir para Investimentos"})]}):F.map($=>{const G=Math.min(100,$.amount/$.targetAmount*100);return f.jsxs("div",{onClick:()=>s(De.INVESTMENTS),className:"bg-gradient-to-br from-white to-yellow-50 dark:from-slate-800 dark:to-slate-800/50 p-6 rounded-xl shadow-sm border border-yellow-200 dark:border-yellow-900/30 relative overflow-hidden cursor-pointer hover:shadow-md hover:scale-[1.02] transition-all group",children:[f.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(hD,{className:"w-4 h-4 text-slate-400"})}),f.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 rounded-lg bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400",children:f.jsx(Di,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:$.name}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Meta: ",D($.targetAmount)]})]})]}),f.jsx("div",{className:"text-right",children:f.jsxs("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[G.toFixed(0),"%"]})})]}),f.jsx("div",{className:"w-full h-4 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden relative z-10",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${G}%`},children:f.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full animate-[shimmer_2s_infinite]"})})}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-right relative z-10",children:["Faltam ",D($.targetAmount-$.amount)]}),f.jsx(CA,{className:"absolute -bottom-4 -right-4 w-32 h-32 text-yellow-500/5 rotate-12 pointer-events-none"})]},$.id)})})]})]})},dIe=({transactions:t,onUpdateTransaction:e,onDeleteTransaction:n,privacyMode:r})=>{const i=B.useMemo(()=>{const h=new Map;return t.filter(v=>v.type==="expense"&&v.isRecurring).forEach(v=>{const b=h.get(v.description);(!b||new Date(v.date)>new Date(b.date))&&h.set(v.description,v)}),Array.from(h.values()).sort((v,b)=>b.amount-v.amount)},[t]),o=i.reduce((h,y)=>h+y.amount,0),s=o*12,a=B.useMemo(()=>i.slice(0,10).map(h=>({name:h.description,amount:h.amount,annual:h.amount*12,color:h.amount>200?"#ef4444":h.amount>50?"#f59e0b":"#3b82f6"})),[i]),l=h=>r?"":`R$ ${h.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,u=h=>{confirm("Deseja parar de considerar este item como recorrente? Ele continuar como uma transao comum.")&&e(h,{isRecurring:!1})},c=h=>{const v=new Date(h).getDate(),b=new Date;let x=new Date(b.getFullYear(),b.getMonth(),v);x.setHours(0,0,0,0)<b.setHours(0,0,0,0)&&x.setMonth(x.getMonth()+1);const w=x.getTime()-b.getTime(),_=Math.ceil(w/(1e3*60*60*24));return _===0?{label:"Hoje",color:"text-rose-500 font-bold bg-rose-100 dark:bg-rose-900/30"}:_===1?{label:"Amanh",color:"text-amber-500 font-bold bg-amber-100 dark:bg-amber-900/30"}:{label:`em ${_} dias`,color:"text-slate-500 bg-slate-100 dark:bg-slate-700"}},d=({active:h,payload:y,label:v})=>{if(h&&y&&y.length){const b=y[0].payload;return f.jsxs("div",{className:"bg-white/95 dark:bg-slate-800/95 p-3 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[f.jsx("p",{className:"font-bold text-slate-800 dark:text-white mb-2 border-b border-slate-100 dark:border-slate-700 pb-1",children:b.name}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[f.jsx("span",{children:"Mensalidade:"}),f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:r?"":`R$ ${b.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]}),f.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[f.jsx("span",{children:"Custo Anual:"}),f.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:r?"":`R$ ${b.annual.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]})]})]})}return null};return f.jsxs("div",{className:"space-y-6 animate-fade-in",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Oo,{className:"w-7 h-7 text-indigo-600"}),"Gesto de Assinaturas"]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Gerencie seus gastos recorrentes e descubra o impacto anual das pequenas mensalidades."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg relative overflow-hidden",children:[f.jsxs("div",{className:"relative z-10",children:[f.jsx("p",{className:"text-indigo-200 text-sm font-medium mb-1 uppercase tracking-wider",children:"Custo Mensal Real"}),f.jsx("h3",{className:"text-3xl font-bold",children:l(o)}),f.jsxs("p",{className:"text-indigo-200 text-xs mt-2 opacity-80",children:[i.length," assinaturas ativas"]})]}),f.jsx(hd,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-6 rounded-xl shadow-sm relative overflow-hidden",children:[f.jsxs("div",{className:"relative z-10",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1 uppercase tracking-wider",children:"Impacto Anual"}),f.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:l(s)}),f.jsxs("p",{className:"text-emerald-500 text-xs mt-2 font-medium flex items-center gap-1",children:[f.jsx(Di,{className:"w-3 h-3"}),"Projeo de 12 meses"]})]}),f.jsx(Xp,{className:"absolute right-4 bottom-4 w-24 h-24 text-slate-100 dark:text-slate-700"})]})]}),a.length>0&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 mb-4",children:[f.jsx(fd,{className:"w-5 h-5 text-indigo-500"}),"Ranking de Custos (Top 10)"]}),f.jsx("div",{className:"h-[250px] w-full",children:f.jsx($o,{width:"100%",height:"100%",children:f.jsxs(xS,{data:a,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[f.jsx(Xl,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),f.jsx(ni,{type:"number",hide:!0}),f.jsx(ri,{dataKey:"name",type:"category",width:120,tick:{fill:"#64748b",fontSize:11,fontWeight:500},axisLine:!1,tickLine:!1}),f.jsx(Jt,{content:f.jsx(d,{}),cursor:{fill:"transparent"}}),f.jsx(ti,{dataKey:"amount",radius:[0,4,4,0],barSize:20,children:a.map((h,y)=>f.jsx(ha,{fill:h.color},`cell-${y}`))})]})})})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length===0?f.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[f.jsx(Oo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhuma assinatura encontrada."}),f.jsx("p",{className:"text-slate-400 text-sm",children:'Marque a opo "Recorrente" ao adicionar uma despesa.'})]}):i.map(h=>{const y=c(h.date);return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group relative",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"overflow-hidden mr-2",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-lg truncate mb-1",children:h.description}),f.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:h.category})]}),f.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[f.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 rounded-lg transition-colors",title:"Remover recorrncia",children:f.jsx(rD,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>n(h.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir assinatura",children:f.jsx(Dr,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"flex items-center justify-between mt-2 mb-4",children:f.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] uppercase font-bold px-2 py-1 rounded-md ${y.color}`,children:[f.jsx(Bo,{className:"w-3 h-3"}),"Renova ",y.label]})}),f.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-xs text-slate-400 block",children:"Mensal"}),f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount)})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"text-xs text-slate-400 block",children:"Anual"}),f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount*12)})]})]})]},h.id)})})]})},fIe=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],hIe=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Salrio","Renda Extra","Investimentos","Outros"],pIe=[{value:"credit_card",label:"Crdito"},{value:"debit_card",label:"Dbito"},{value:"pix",label:"PIX"},{value:"cash",label:"Dinheiro"},{value:"direct_debit",label:"Dbito Auto."}],mIe=t=>{let e=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//NEXO Finance//PT-BR
`;t.forEach(i=>{const o=i.date.replace(/-/g,"");e+=`BEGIN:VEVENT
`,e+=`DTSTART;VALUE=DATE:${o}
`,e+=`DTEND;VALUE=DATE:${o}
`,e+=`SUMMARY:${i.description} (${i.type==="income"?"+":"-"} R$ ${i.amount})
`,e+=`DESCRIPTION:Categoria: ${i.category} | Status: ${i.status}
`,e+=`END:VEVENT
`}),e+="END:VCALENDAR";const n=new Blob([e],{type:"text/calendar;charset=utf-8"}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download","nexo_agenda.ics"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},gIe=({transactions:t,onAddTransaction:e,privacyMode:n})=>{const[r,i]=B.useState(new Date),[o,s]=B.useState(new Date().getDate()),[a,l]=B.useState("all"),[u,c]=B.useState(!1),[d,h]=B.useState({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending"}),y=r.getFullYear(),v=r.getMonth(),b=(R,j)=>new Date(R,j+1,0).getDate(),x=(R,j)=>new Date(R,j,1).getDay(),w=b(y,v),_=x(y,v),E=B.useMemo(()=>{const R=t.filter($=>{const[G,q]=$.date.split("-").map(Number);return G===y&&q===v+1}),j=new Map;t.forEach($=>{if($.isRecurring){const G=j.get($.description);(!G||new Date($.date)>new Date(G.date))&&j.set($.description,$)}});const F=[],V=new Date;return new Date(y,v,1)>=new Date(V.getFullYear(),V.getMonth(),1)&&j.forEach($=>{if(!R.some(q=>q.description===$.description&&q.amount===$.amount)){const q=new Date($.date),Y=q.getDate(),H=Math.min(Y,w);q<new Date(y,v+1,0)&&F.push({...$,id:`ghost-${$.id}-${y}-${v}`,date:`${y}-${String(v+1).padStart(2,"0")}-${String(H).padStart(2,"0")}`,status:"pending",isGhost:!0})}}),[...R,...F].filter($=>a==="all"?!0:a==="pending"?$.status==="pending":$.type===a)},[t,y,v,w,a]),P=B.useMemo(()=>o===null?[]:E.filter(R=>parseInt(R.date.split("-")[2])===o),[E,o]),S=B.useMemo(()=>{let R=0;for(let j=1;j<=w;j++){const F=E.filter(V=>parseInt(V.date.split("-")[2])===j&&V.type==="expense").reduce((V,z)=>V+z.amount,0);F>R&&(R=F)}return R||1},[E,w]),k=()=>{i(new Date(y,v-1,1)),s(null)},C=()=>{i(new Date(y,v+1,1)),s(null)},T=()=>{o&&(h({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending"}),c(!0))},I=R=>{if(R.preventDefault(),!o)return;const j=`${y}-${String(v+1).padStart(2,"0")}-${String(o).padStart(2,"0")}`;e({description:d.description,amount:parseFloat(d.amount),type:d.type,category:d.category,date:j,status:d.status,paymentMethod:d.paymentMethod,isRecurring:!1}),c(!1)},N=R=>n?"":R>=1e3?(R/1e3).toFixed(1)+"k":R.toFixed(0),M=R=>n?"":`R$ ${R.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,D=[];for(let R=0;R<_;R++)D.push(f.jsx("div",{className:"h-28 bg-slate-50/30 dark:bg-slate-800/30 border border-slate-100 dark:border-slate-700/50"},`empty-${R}`));for(let R=1;R<=w;R++){const j=E.filter(Y=>parseInt(Y.date.split("-")[2])===R),F=j.filter(Y=>Y.type==="income").reduce((Y,H)=>Y+H.amount,0),V=j.filter(Y=>Y.type==="expense").reduce((Y,H)=>Y+H.amount,0),z=Math.min(1,V/S);let $="bg-white dark:bg-slate-800";V>0&&(z>.7?$="bg-rose-100 dark:bg-rose-900/40":z>.4?$="bg-rose-50 dark:bg-rose-900/20":$="bg-slate-50 dark:bg-slate-800");const G=new Date().getDate()===R&&new Date().getMonth()===v&&new Date().getFullYear()===y,q=o===R;D.push(f.jsxs("div",{onClick:()=>s(R),className:`h-28 p-1.5 border border-slate-100 dark:border-slate-700 relative cursor-pointer transition-all hover:brightness-95
          ${q?"ring-2 ring-inset ring-indigo-500 z-10":""}
          ${$}
        `,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("span",{className:`text-xs font-bold inline-flex w-6 h-6 items-center justify-center rounded-full ${G?"bg-indigo-600 text-white shadow-lg":"text-slate-500 dark:text-slate-400"}`,children:R}),j.some(Y=>Y.status==="pending")&&f.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse",title:"Pagamentos Pendentes"})]}),f.jsxs("div",{className:"mt-2 flex flex-col gap-0.5",children:[F>0&&f.jsxs("div",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100/50 dark:bg-emerald-900/30 px-1 rounded truncate",children:["+",N(F)]}),V>0&&f.jsxs("div",{className:"text-[10px] font-bold text-rose-600 dark:text-rose-400 px-1 rounded truncate",children:["-",N(V)]}),j.some(Y=>Y.isGhost)&&f.jsx("div",{className:"absolute bottom-1 right-1 opacity-50",children:f.jsx(Jw,{className:"w-3 h-3 text-slate-400"})})]})]},R))}return f.jsxs("div",{className:"space-y-6 animate-fade-in pb-20 md:pb-0 relative",children:[u&&f.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Nova Transao"}),f.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-semibold flex items-center gap-1",children:[f.jsx(hd,{className:"w-3 h-3"}),o," de ",r.toLocaleDateString("pt-BR",{month:"long"})]})]}),f.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-600",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"O que ?"}),f.jsxs("div",{className:"relative",children:[f.jsx(_B,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),f.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"Ex: Mercado, Conta de Luz...",value:d.description,onChange:R=>h({...d,description:R.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Valor (R$)"}),f.jsxs("div",{className:"relative",children:[f.jsx(Xp,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),f.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"0,00",value:d.amount,onChange:R=>h({...d,amount:R.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Tipo"}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-xl p-1",children:[f.jsx("button",{type:"button",onClick:()=>h({...d,type:"expense"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${d.type==="expense"?"bg-white dark:bg-slate-600 text-rose-600 shadow-sm":"text-slate-500"}`,children:"Sada"}),f.jsx("button",{type:"button",onClick:()=>h({...d,type:"income"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${d.type==="income"?"bg-white dark:bg-slate-600 text-emerald-600 shadow-sm":"text-slate-500"}`,children:"Entrada"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Categoria"}),f.jsxs("div",{className:"relative",children:[f.jsx(gD,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),f.jsx("select",{value:d.category,onChange:R=>h({...d,category:R.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:hIe.map(R=>f.jsx("option",{value:R,children:R},R))})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Pagamento"}),f.jsxs("div",{className:"relative",children:[f.jsx(Jp,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),f.jsx("select",{value:d.paymentMethod,onChange:R=>h({...d,paymentMethod:R.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:pIe.map(R=>f.jsx("option",{value:R.value,children:R.label},R.value))})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Status"}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${d.status==="paid"?"bg-emerald-50 border-emerald-500 text-emerald-700 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-700"}`,children:[f.jsx("input",{type:"radio",name:"status",className:"hidden",checked:d.status==="paid",onChange:()=>h({...d,status:"paid"})}),f.jsx(Mx,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-semibold",children:"Pago / Recebido"})]}),f.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${d.status==="pending"?"bg-amber-50 border-amber-500 text-amber-700 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[f.jsx("input",{type:"radio",name:"status",className:"hidden",checked:d.status==="pending",onChange:()=>h({...d,status:"pending"})}),f.jsx(IA,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-semibold",children:"Pendente"})]})]})]}),f.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 mt-4",children:[f.jsx(Mi,{className:"w-5 h-5"})," Adicionar Transao"]})]})]})}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Bo,{className:"w-7 h-7 text-indigo-600"}),"Agenda Financeira"]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Previso de gastos e controle de vencimentos."})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[f.jsx("button",{onClick:()=>mIe(E),className:"p-2 text-slate-500 hover:text-indigo-600 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800",title:"Exportar para Google Calendar / Outlook (.ics)",children:f.jsx(lD,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex-1 md:flex-none justify-center",children:[f.jsx("button",{onClick:k,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:f.jsx(Kw,{className:"w-5 h-5"})}),f.jsx("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center",children:r.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),f.jsx("button",{onClick:C,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:f.jsx(qg,{className:"w-5 h-5"})})]})]})]}),f.jsx("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 overflow-x-auto",children:[{id:"all",label:"Tudo",icon:cD},{id:"expense",label:"Sadas",icon:TA},{id:"income",label:"Entradas",icon:SA},{id:"pending",label:"Pendentes",icon:IA}].map(R=>f.jsxs("button",{onClick:()=>l(R.id),className:`flex-1 min-w-[80px] py-2 text-xs font-semibold rounded-lg transition-all flex items-center justify-center gap-2
                    ${a===R.id?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[f.jsx(R.icon,{className:"w-3 h-3"})," ",R.label]},R.id))}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"grid grid-cols-7 bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:fIe.map(R=>f.jsx("div",{className:"py-3 text-center text-xs font-bold uppercase text-slate-500 dark:text-slate-400",children:R},R))}),f.jsx("div",{className:"grid grid-cols-7",children:D})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-0 overflow-hidden flex flex-col h-full min-h-[400px]",children:[f.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:o?`${o} de ${r.toLocaleDateString("pt-BR",{month:"long"})}`:"Resumo do Ms"}),o&&f.jsxs("button",{onClick:T,className:"mt-3 w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[f.jsx(Mi,{className:"w-4 h-4"})," Adicionar neste dia"]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[o&&P.length===0&&f.jsxs("div",{className:"text-center py-10",children:[f.jsx(hd,{className:"w-12 h-12 text-slate-200 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma movimentao."})]}),!o&&f.jsxs("div",{className:"text-center py-10",children:[f.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:f.jsx(Bo,{className:"w-8 h-8 text-indigo-500"})}),f.jsx("p",{className:"text-slate-500 font-medium",children:"Selecione um dia"}),f.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Clique no calendrio para ver detalhes ou adicionar contas."})]}),P.map((R,j)=>f.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${R.isGhost?"bg-slate-50 dark:bg-slate-800 border-dashed border-indigo-300 dark:border-indigo-700":"bg-white dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded-full ${R.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"}`,children:R.type==="income"?f.jsx(SA,{className:"w-4 h-4"}):f.jsx(TA,{className:"w-4 h-4"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-sm line-clamp-1",children:R.description}),R.isGhost&&f.jsx("span",{className:"text-[9px] bg-indigo-100 text-indigo-600 px-1.5 rounded uppercase font-bold",children:"Previsto"})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:R.category})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:`font-bold text-sm ${R.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-300"}`,children:M(R.amount)}),R.type==="expense"&&f.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${R.status==="pending"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:R.status==="pending"?"Pendente":"Pago"})]})]},R.id||j))]})]})]})]})},yIe=({data:t,privacyMode:e})=>{const[n,r]=B.useState([]),[i,o]=B.useState(""),[s,a]=B.useState(!1),[l,u]=B.useState(!1),c=B.useRef(null),d=B.useRef(null);B.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const x=window.SpeechRecognition||window.webkitSpeechRecognition;d.current=new x,d.current.continuous=!1,d.current.lang="pt-BR",d.current.interimResults=!1,d.current.onresult=w=>{const _=w.results[0][0].transcript;o(_),u(!1)},d.current.onerror=w=>{console.error("Speech error",w),u(!1)},d.current.onend=()=>{u(!1)}}},[]);const h=()=>{var x;(x=c.current)==null||x.scrollIntoView({behavior:"smooth"})};B.useEffect(()=>{h()},[n,s]);const y=()=>{var x;if(l)(x=d.current)==null||x.stop(),u(!1);else if(d.current)try{d.current.start(),u(!0)}catch(w){console.error(w)}else alert("Seu navegador no suporta reconhecimento de voz.")},v=async x=>{const w=i;if(!w.trim())return;const _={id:crypto.randomUUID(),role:"user",content:w,timestamp:new Date};r(S=>[...S,_]),o(""),a(!0);const E=crypto.randomUUID(),P={id:E,role:"assistant",content:"",timestamp:new Date};r(S=>[...S,P]);try{const S=GZ(w,n,t);let k="";for await(const C of S)k+=C,r(T=>T.map(I=>I.id===E?{...I,content:k}:I))}catch{r(k=>k.map(C=>C.id===E?{...C,content:"Desculpe, tive um erro ao processar sua resposta."}:C))}finally{a(!1)}},b=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),v())};return f.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-purple-600 p-3 rounded-xl shadow-lg shadow-indigo-500/20",children:f.jsx(Ds,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Assistente Inteligente"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Pergunte sobre seus gastos, investimentos ou pea conselhos."})]})]}),f.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[n.length===0&&f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 space-y-4 opacity-60",children:[f.jsx(Rx,{className:"w-16 h-16"}),f.jsxs("p",{className:"text-sm",children:["Estou analisando seus dados em tempo real.",f.jsx("br",{}),"Como posso ajudar hoje?"]})]}),n.map(x=>f.jsx("div",{className:`flex w-full ${x.role==="user"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] gap-3 ${x.role==="user"?"flex-row-reverse":"flex-row"}`,children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${x.role==="user"?"bg-slate-200 dark:bg-slate-700":"bg-indigo-600"}`,children:x.role==="user"?f.jsx(u6,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"}):f.jsx(Rx,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{className:`p-4 rounded-2xl shadow-sm text-sm whitespace-pre-line leading-relaxed
                      ${x.role==="user"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white rounded-tr-none":"bg-indigo-600 text-white rounded-tl-none prose prose-invert max-w-none"}`,children:[x.content,s&&x.content===""&&f.jsxs("span",{className:"inline-flex gap-1",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce"}),f.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"100ms"}}),f.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"200ms"}})]})]})]})},x.id)),f.jsx("div",{ref:c})]}),f.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"relative flex items-center gap-2",children:[f.jsx("button",{onClick:y,className:`p-3 rounded-xl transition-all ${l?"bg-rose-500 text-white animate-pulse shadow-lg shadow-rose-500/30":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,title:"Falar comando",children:l?f.jsx(a6,{className:"w-5 h-5"}):f.jsx(WB,{className:"w-5 h-5"})}),f.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),onKeyDown:b,placeholder:l?"Ouvindo...":"Digite uma mensagem...",className:"flex-1 bg-slate-100 dark:bg-slate-700 dark:text-white border-0 rounded-xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 outline-none",disabled:s}),f.jsx("button",{onClick:()=>v(),disabled:!i.trim()||s,className:"p-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-indigo-500/20",children:f.jsx(n6,{className:"w-5 h-5"})})]}),f.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2",children:"A IA pode cometer erros. Verifique informaes importantes."})]})]})]})},vIe=["Serasa Limpa Nome","Acordo Certo","Desenrola Brasil","SPC Brasil","Boa Vista (Consumidor Positivo)","Direto com Banco/Credor","QueroQuitar","Pessoal/Famlia","Outros"],xIe=({debts:t,onAdd:e,onUpdate:n,onDelete:r,onAddTransaction:i,privacyMode:o,quickActionSignal:s})=>{const[a,l]=B.useState(!1),[u,c]=B.useState("all"),[d,h]=B.useState({isOpen:!1,debtId:""}),[y,v]=B.useState({date:new Date().toISOString().split("T")[0],amount:"",installments:1}),[b,x]=B.useState({isOpen:!1,debtId:"",currentValue:0}),[w,_]=B.useState("1"),[E,P]=B.useState({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""});B.useEffect(()=>{s&&Date.now()-s<2e3&&(l(!0),P({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}))},[s]);const S=V=>{const z=new Date(V);return(new Date().getTime()-z.getTime())/(1e3*60*60*24*365.25)>=5},k=B.useMemo(()=>{let V=[...t];return u==="active"?V=V.filter(z=>!S(z.dueDate)):u==="prescribed"&&(V=V.filter(z=>S(z.dueDate))),V.sort((z,$)=>{const G=H=>H.status==="paid"?500:H.status==="agreement"?1:H.status==="negotiating"?2:S(H.dueDate)?4:3,q=G(z),Y=G($);return q!==Y?q-Y:$.currentAmount-z.currentAmount})},[t,u]),C=V=>{V.preventDefault();const z=E.targetAmount?parseFloat(E.targetAmount):0,$=E.platform==="Outros"?E.customPlatform:E.platform;e({creditor:E.creditor,originalAmount:parseFloat(E.originalAmount),currentAmount:parseFloat(E.currentAmount),targetAmount:z,dueDate:E.dueDate,status:E.status,platform:$,notes:E.notes}),P({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}),l(!1)},T=(V,z)=>{if(z==="agreement"&&V.status!=="agreement"){h({isOpen:!0,debtId:V.id});const $=V.targetAmount>0?V.targetAmount:V.currentAmount;v({date:new Date().toISOString().split("T")[0],amount:$.toString(),installments:1})}else n(V.id,{status:z})},I=V=>{V.preventDefault();const z=t.find(H=>H.id===d.debtId);if(!z)return;const $=parseFloat(y.amount),G=Math.max(1,Math.floor(y.installments)),q=$/G;n(z.id,{status:"agreement",agreedAmount:$});const Y=new Date(y.date);for(let H=0;H<G;H++){const ne=new Date(Y);ne.setMonth(Y.getMonth()+H);const he=G>1?`Acordo: ${z.creditor} (${H+1}/${G})`:`Acordo: ${z.creditor}`;i({description:he,amount:parseFloat(q.toFixed(2)),type:"expense",category:"Outros",date:ne.toISOString().split("T")[0],status:"pending",paymentMethod:"pix",debtId:z.id})}alert(`Acordo registrado! ${G>1?`${G} parcelas agendadas`:"Pagamento agendado"}. A dvida ser quitada automaticamente quando todas as parcelas forem pagas.`),h({isOpen:!1,debtId:""})},N=V=>{x({isOpen:!0,debtId:V.id,currentValue:V.currentAmount}),_("1")},M=()=>{const V=t.find(z=>z.id===b.debtId);if(V){const z=parseFloat(w),$=V.currentAmount*(1+z/100);n(V.id,{currentAmount:$})}x({isOpen:!1,debtId:"",currentValue:0})},D=V=>o?"":`R$ ${V.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,R=t.filter(V=>V.status!=="paid").reduce((V,z)=>V+z.currentAmount,0),j=t.filter(V=>V.status!=="paid").reduce((V,z)=>V+z.targetAmount,0),F=t.filter(V=>V.status!=="paid"&&V.targetAmount>0).reduce((V,z)=>V+(z.currentAmount-z.targetAmount),0);return f.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[b.isOpen&&f.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 animate-scale-in",children:[f.jsx("div",{className:"flex justify-between items-center mb-4",children:f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Di,{className:"w-5 h-5 text-rose-500"})," Atualizar Juros"]})}),f.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"O efeito bola de neve  real. Atualize o valor para manter o controle."}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg mb-4 flex justify-between items-center",children:[f.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Valor Atual"}),f.jsx("span",{className:"font-mono font-bold text-slate-700 dark:text-white",children:D(b.currentValue)})]}),f.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[f.jsx("button",{onClick:()=>_("1"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${w==="1"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+1%"}),f.jsx("button",{onClick:()=>_("2"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${w==="2"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+2%"}),f.jsx("button",{onClick:()=>_("5"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${w==="5"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+5%"}),f.jsxs("div",{className:"relative w-20",children:[f.jsx("input",{type:"number",value:w,onChange:V=>_(V.target.value),className:"w-full py-2 pl-2 pr-4 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 text-xs font-bold text-center outline-none focus:border-rose-500"}),f.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-slate-400",children:"%"})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>x({isOpen:!1,debtId:"",currentValue:0}),className:"flex-1 py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-bold",children:"Cancelar"}),f.jsx("button",{onClick:M,className:"flex-1 py-2.5 bg-rose-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-rose-500/20",children:"Aplicar"})]})]})}),d.isOpen&&f.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-emerald-500/30 animate-scale-in",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4 text-emerald-600 dark:text-emerald-400",children:[f.jsx(Ih,{className:"w-8 h-8"}),f.jsx("h3",{className:"text-xl font-bold",children:"Oficializar Acordo"})]}),f.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-6",children:"Qual foi o valor final negociado? Vamos atualizar o card e agendar o(s) pagamento(s)."}),f.jsxs("form",{onSubmit:I,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Total Fechado (R$)"}),f.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"Valor total a pagar",value:y.amount,onChange:V=>v({...y,amount:V.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white font-bold text-lg outline-none focus:ring-2 focus:ring-emerald-500"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"1 Parcela"}),f.jsx("input",{type:"date",required:!0,value:y.date,onChange:V=>v({...y,date:V.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"N Parcelas"}),f.jsxs("div",{className:"relative",children:[f.jsx(Jw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"number",required:!0,min:"1",max:"60",value:y.installments,onChange:V=>v({...y,installments:parseInt(V.target.value)}),className:"w-full p-3 pl-9 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]})]})]}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>h({isOpen:!1,debtId:""}),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 rounded-lg font-medium",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30",children:"Gerar Parcelas"})]})]})]})}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(md,{className:"w-7 h-7 text-rose-600"}),"Gesto de Dvidas (Limpa Nome)"]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Controle suas pendncias e foque no que realmente importa."})]}),f.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors shadow-sm",children:[f.jsx(Mi,{className:"w-4 h-4"}),"Registrar Dvida"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-rose-100 dark:border-rose-900/30 shadow-sm",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Total da Dvida (Banco)"}),f.jsx("h3",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:D(R)}),f.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Valor cheio com juros"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-emerald-100 dark:border-emerald-900/30 shadow-sm",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Valor para Quitao (Alvo)"}),f.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:D(j)}),f.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Soma das metas definidas"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 text-white p-6 rounded-xl shadow-lg",children:[f.jsx("p",{className:"text-indigo-100 text-xs font-semibold uppercase",children:"Economia Potencial"}),f.jsx("h3",{className:"text-2xl font-bold",children:D(F)}),f.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Baseado nas suas metas"})]})]}),a&&f.jsxs("form",{onSubmit:C,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-rose-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[f.jsx("div",{className:"col-span-1 md:col-span-2",children:f.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Registrar Nova Pendncia"})}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Instituio / Credor"}),f.jsx("input",{required:!0,type:"text",placeholder:"Ex: Banco X, Loja Y",value:E.creditor,onChange:V=>P({...E,creditor:V.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Original (R$)"}),f.jsx("input",{required:!0,type:"number",value:E.originalAmount,onChange:V=>P({...E,originalAmount:V.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Atual c/ Juros (R$)"}),f.jsx("input",{required:!0,type:"number",value:E.currentAmount,onChange:V=>P({...E,currentAmount:V.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Data Vencimento Original"}),f.jsx("input",{required:!0,type:"date",value:E.dueDate,onChange:V=>P({...E,dueDate:V.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Importante para calcular a prescrio."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Meta de Acordo (Opcional)"}),f.jsx("input",{type:"number",placeholder:"Deixe em branco se no houver meta",value:E.targetAmount,onChange:V=>P({...E,targetAmount:V.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-emerald-500"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Plataforma de Negociao"}),f.jsx("select",{value:E.platform,onChange:V=>P({...E,platform:V.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none mb-2",children:vIe.map(V=>f.jsx("option",{value:V,children:V},V))}),E.platform==="Outros"&&f.jsx("div",{className:"animate-fade-in",children:f.jsx("input",{type:"text",placeholder:"Digite o nome da plataforma ou pessoa...",value:E.customPlatform,onChange:V=>P({...E,customPlatform:V.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500",autoFocus:!0})})]}),f.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[f.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 font-medium",children:"Salvar Dvida"})]})]}),f.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[f.jsxs("button",{onClick:()=>c("all"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="all"?"bg-white dark:bg-slate-700 text-rose-600 dark:text-rose-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[f.jsx(Dx,{className:"w-4 h-4"}),"Todas"]}),f.jsxs("button",{onClick:()=>c("active"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="active"?"bg-white dark:bg-slate-700 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[f.jsx(rD,{className:"w-4 h-4"}),"Ativas"]}),f.jsxs("button",{onClick:()=>c("prescribed"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="prescribed"?"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[f.jsx(wB,{className:"w-4 h-4"}),"Prescritas"]})]}),f.jsx("div",{className:"flex flex-col gap-4",children:t.length===0?f.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[f.jsx(za,{className:"w-12 h-12 text-emerald-500 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-800 dark:text-white font-medium",children:"Nome Limpo!"}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma dvida registrada."})]}):k.length===0?f.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[f.jsx(Dx,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Nenhuma dvida encontrada neste filtro."})]}):k.map(V=>{const z=S(V.dueDate),$=V.status==="paid",G=V.status==="agreement",q=V.targetAmount&&V.targetAmount>0,Y=V.agreedAmount&&V.agreedAmount>0,H=Y?V.agreedAmount:V.targetAmount,ne=q||Y?(V.currentAmount-H)/V.currentAmount*100:0;return f.jsxs("div",{className:`p-6 rounded-xl border transition-all relative overflow-hidden group ${$?"bg-slate-50 border-slate-200 opacity-75 grayscale-[0.8] dark:bg-slate-900 dark:border-slate-700":G?"bg-gradient-to-r from-emerald-50 to-white border-emerald-300 dark:from-emerald-900/10 dark:to-slate-800 dark:border-emerald-800 shadow-md ring-1 ring-emerald-500/20":z?"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700":"bg-white border-rose-100 dark:bg-slate-800 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-rose-300"}`,children:[$&&f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 pointer-events-none opacity-80 rotate-[-15deg]",children:f.jsxs("div",{className:"border-4 border-slate-400 text-slate-400 text-6xl font-black px-4 py-1 rounded-lg uppercase tracking-widest flex items-center gap-2",children:[f.jsx(sD,{className:"w-12 h-12"})," RESOLVIDO"]})}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-4 relative z-0",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[G?f.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[f.jsx(Ih,{className:"w-3 h-3"})," ACORDO FECHADO"]}):V.status==="negotiating"?f.jsxs("span",{className:"bg-amber-100 text-amber-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[f.jsx(Ih,{className:"w-3 h-3"})," EM NEGOCIAO"]}):z?f.jsxs("span",{className:"bg-slate-200 text-slate-600 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[f.jsx(AA,{className:"w-3 h-3"})," PRESCRITA"]}):$?f.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[f.jsx(za,{className:"w-3 h-3"})," QUITADA"]}):f.jsxs("span",{className:"bg-rose-100 text-rose-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[f.jsx(Yp,{className:"w-3 h-3"})," ATIVA"]}),V.platform&&f.jsxs("span",{className:"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1 border border-indigo-100 dark:border-indigo-800",children:[f.jsx(jB,{className:"w-3 h-3"})," ",V.platform]}),f.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1 ml-auto md:ml-0",children:[f.jsx(hd,{className:"w-3 h-3"}),new Date(V.dueDate).toLocaleDateString("pt-BR")]})]}),f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:V.creditor}),f.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-slate-500",children:"Valor Original"}),f.jsx("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:D(V.originalAmount)})]}),f.jsx("div",{className:"flex items-center text-slate-400",children:f.jsx(Ww,{className:"w-4 h-4"})}),f.jsxs("div",{className:"group/value cursor-pointer",onClick:()=>!$&&!G&&N(V),title:"Clique para atualizar juros",children:[f.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:["Valor Atual",!$&&!G&&f.jsx(Di,{className:"w-3 h-3 text-rose-500 opacity-50 group-hover/value:opacity-100"})]}),f.jsx("p",{className:`font-bold transition-colors ${$?"text-slate-500":z?"text-slate-600 dark:text-slate-400":"text-rose-600 group-hover/value:text-rose-700"}`,children:D(V.currentAmount)})]})]})]}),f.jsx("div",{className:`p-3 rounded-lg border min-w-[200px] flex flex-col justify-center ${G?"bg-white border-emerald-200 shadow-sm":"bg-slate-50 dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:G&&Y?f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-xs text-emerald-500 font-bold mb-1 flex items-center gap-1",children:[f.jsx(za,{className:"w-3 h-3"})," Valor Acordado"]}),f.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:D(V.agreedAmount)}),f.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Economia de ",ne.toFixed(0),"%"]})]}):q?f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-1",children:[f.jsx(qs,{className:"w-3 h-3 text-slate-400"})," Meta de Acordo"]}),f.jsx("p",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:D(V.targetAmount)}),f.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Desconto Alvo: ",ne.toFixed(0),"%"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:"text-xs text-slate-400 font-medium mb-1 flex items-center gap-1",children:[f.jsx(VB,{className:"w-3 h-3"})," Meta"]}),f.jsx("p",{className:"text-sm font-semibold text-slate-400 dark:text-slate-500 italic",children:"Sem meta definida"})]})}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("select",{value:V.status,onChange:he=>T(V,he.target.value),className:`text-xs border rounded-lg p-1.5 outline-none font-medium cursor-pointer ${G?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200"}`,children:[f.jsx("option",{value:"open",children:"Em Aberto"}),f.jsx("option",{value:"negotiating",children:"Em Negociao"}),f.jsx("option",{value:"agreement",children:"Acordo Fechado"}),f.jsx("option",{value:"paid",children:"Quitado"})]}),f.jsx("button",{onClick:()=>r(V.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors self-end",title:"Excluir Registro",children:f.jsx(au,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 text-xs flex items-start gap-2",children:$?f.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1 font-medium",children:[f.jsx(za,{className:"w-4 h-4"})," Dvida liquidada com sucesso. Parabns pela organizao!"]}):G?f.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-2 rounded w-full",children:[f.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 flex items-center gap-1 font-semibold",children:[f.jsx(Bo,{className:"w-4 h-4"})," Acordo Firmado: ",D(V.agreedAmount||0)]}),f.jsxs("p",{className:"text-emerald-600/80 dark:text-emerald-400/80 mt-1 pl-5",children:["No esquea de pagar na data combinada. ",V.agreedAmount&&V.agreedAmount>0?"As parcelas j foram lanadas no seu fluxo.":""]})]}):V.status==="negotiating"?f.jsxs("p",{className:"text-amber-600 dark:text-amber-400 flex items-center gap-1",children:[f.jsx(Ih,{className:"w-4 h-4"})," Voc iniciou contatos. Mantenha a presso para conseguir o melhor desconto."]}):z?f.jsxs("p",{className:"text-slate-500 flex items-center gap-1",children:[f.jsx(AA,{className:"w-4 h-4"})," Dvida antiga (+5 anos). No afeta score, negocie apenas se tiver sobra de caixa."]}):f.jsxs("p",{className:"text-rose-600 dark:text-rose-400 flex items-center gap-1 font-medium",children:[f.jsx(md,{className:"w-4 h-4"})," Prioridade Alta! Esta dvida est ativa e impactando seu crdito. Tente negociar."]})})]},V.id)})})]})},Qh=["Hortifruti","Carnes","Laticnios","Mercearia","Padaria","Bebidas","Limpeza","Higiene","Outros"],bIe=({items:t,onAdd:e,onUpdate:n,onDelete:r,onClearList:i,onFinishShopping:o,shoppingBudget:s=0,onUpdateBudget:a,hasApiKey:l=!1,privacyMode:u,quickActionSignal:c})=>{const[d,h]=B.useState(""),[y,v]=B.useState("Outros"),[b,x]=B.useState(!1),[w,_]=B.useState(!1),[E,P]=B.useState(""),[S,k]=B.useState(!1),[C,T]=B.useState(!1),[I,N]=B.useState(s.toString()),[M,D]=B.useState("Alimentos"),[R,j]=B.useState("debit_card"),F=B.useMemo(()=>t.reduce((W,le)=>W+le.actualPrice*le.quantity,0),[t]),V=B.useMemo(()=>{const W={};return Qh.forEach(le=>W[le]=[]),t.forEach(le=>{const ce=le.category||"Outros";W[ce]||(W[ce]=[]),W[ce].push(le)}),W},[t]);B.useEffect(()=>{if(c){const W=document.getElementById("new-item-input");W&&W.focus()}},[c]);const z=W=>{W.preventDefault(),d.trim()&&(e({name:d.trim(),quantity:1,actualPrice:0,isChecked:!1,category:y}),h(""),v("Outros"))},$=async W=>{if(W.preventDefault(),!E.trim())return;k(!0),(await VZ(E)).forEach(ce=>{e({...ce,actualPrice:0,isChecked:!1})}),k(!1),_(!1),P("")},G=(W,le,ce)=>{const Ne=Math.max(1,le+ce);n(W,{quantity:Ne})},q=()=>{if(F===0){alert("O valor total est zerado. Adicione preos aos itens para lanar a despesa.");return}o(F,R,M),x(!1)},Y=()=>{const W=parseFloat(I);isNaN(W)||a(W),T(!1)},H=W=>u?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,ne=s>0?F/s*100:0;let he="bg-emerald-500";return ne>100?he="bg-rose-500":ne>85&&(he="bg-amber-500"),f.jsxs("div",{className:"space-y-6 animate-fade-in relative pb-32 md:pb-0",children:[b&&f.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-emerald-500/30 animate-scale-in",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Jp,{className:"w-6 h-6 text-emerald-500"})," Finalizar Compra"]}),f.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl mb-6 text-center border border-emerald-100 dark:border-emerald-800",children:[f.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 uppercase font-bold mb-1",children:"Valor Final a Lanar"}),f.jsx("p",{className:"text-3xl font-bold text-emerald-700 dark:text-emerald-300",children:H(F)})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Categoria da Despesa"}),f.jsxs("select",{value:M,onChange:W=>D(W.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[f.jsx("option",{value:"Alimentos",children:"Alimentos"}),f.jsx("option",{value:"Casa",children:"Casa"}),f.jsx("option",{value:"Lazer",children:"Lazer"}),f.jsx("option",{value:"Pets",children:"Pets"}),f.jsx("option",{value:"Outros",children:"Outros"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Forma de Pagamento"}),f.jsxs("select",{value:R,onChange:W=>j(W.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[f.jsx("option",{value:"credit_card",children:"Carto de Crdito"}),f.jsx("option",{value:"debit_card",children:"Carto de Dbito"}),f.jsx("option",{value:"cash",children:"Dinheiro"}),f.jsx("option",{value:"pix",children:"PIX"}),f.jsx("option",{value:"ticket",children:"Vale Alimentao/Refeio"})]})]}),f.jsxs("button",{onClick:q,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 mt-4",children:[f.jsx(Mx,{className:"w-5 h-5"})," Confirmar e Lanar"]})]})]})}),w&&f.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-purple-200 dark:border-purple-800 animate-scale-in",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Ds,{className:"w-5 h-5 text-purple-600"})," Assistente de Compras"]}),f.jsx("button",{onClick:()=>_(!1),className:"text-slate-400 hover:text-slate-600",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:'O que vamos comprar? Digite uma receita (ex: "Strogonoff para 4") ou um evento (ex: "Churrasco fim de semana") e eu gero a lista.'}),f.jsxs("form",{onSubmit:$,children:[f.jsx("input",{autoFocus:!0,type:"text",value:E,onChange:W=>P(W.target.value),placeholder:"Ex: Ingredientes para bolo de cenoura...",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-purple-500 mb-4"}),f.jsxs("button",{type:"submit",disabled:S||!E,className:"w-full py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold shadow-md disabled:opacity-50 flex items-center justify-center gap-2",children:[S?f.jsx("span",{className:"animate-spin",children:""}):f.jsx(IB,{className:"w-5 h-5"}),"Gerar Lista"]})]})]})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Qp,{className:"w-7 h-7 text-indigo-600"}),"Lista de Compras"]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Organize sua ida ao mercado."})]}),f.jsxs("button",{onClick:()=>_(!0),disabled:!l,className:`hidden md:flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wide transition-all shadow-sm ${l?"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[f.jsx(Ds,{className:"w-4 h-4"})," Gerar com IA"]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex justify-between items-end mb-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1",children:"Total Calculado"}),f.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:H(F)})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1 flex items-center justify-end gap-1 cursor-pointer hover:text-indigo-500",onClick:()=>{T(!0),N(s.toString())},children:["Teto de Gastos (Viagem) ",f.jsx(gD,{className:"w-3 h-3"})]}),C?f.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[f.jsx("span",{className:"text-sm font-bold text-slate-500",children:"R$"}),f.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-right font-bold border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:I,onChange:W=>N(W.target.value),onKeyDown:W=>W.key==="Enter"&&Y(),onBlur:Y})]}):f.jsx("p",{className:"text-xl font-bold text-slate-600 dark:text-slate-400 cursor-pointer hover:text-indigo-500",onClick:()=>{T(!0),N(s.toString())},children:s>0?H(s):"Definir Teto"})]})]}),s>0&&f.jsxs("div",{className:"relative w-full h-4 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:[f.jsx("div",{className:`h-full transition-all duration-500 ${he}`,style:{width:`${Math.min(100,ne)}%`}}),ne>100&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("span",{className:"text-[9px] font-bold text-white drop-shadow-md animate-pulse flex items-center gap-1",children:[f.jsx(Yp,{className:"w-3 h-3"})," ACIMA DO ORAMENTO"]})})]})]})]}),f.jsxs("form",{onSubmit:z,className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-1 flex gap-2",children:[f.jsx("input",{id:"new-item-input",type:"text",value:d,onChange:W=>h(W.target.value),placeholder:"Adicionar item...",className:"flex-1 p-3 pl-4 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",autoComplete:"off"}),f.jsx("select",{value:y,onChange:W=>v(W.target.value),className:"hidden md:block w-32 p-3 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm text-sm",children:Qh.map(W=>f.jsx("option",{value:W,children:W},W))})]}),f.jsx("button",{type:"submit",disabled:!d.trim(),className:"px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f.jsx(Mi,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"md:hidden overflow-x-auto pb-2 -mt-4",children:f.jsx("div",{className:"flex gap-2 px-1",children:Qh.map(W=>f.jsx("button",{type:"button",onClick:()=>v(W),className:`px-3 py-1.5 rounded-full text-xs font-bold border whitespace-nowrap ${y===W?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:W},W))})}),f.jsx("div",{className:"space-y-6",children:t.length===0?f.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700",children:[f.jsx(Qp,{className:"w-16 h-16 mb-4 opacity-20"}),f.jsx("p",{children:"Sua lista est vazia."}),l&&f.jsx("p",{className:"text-sm mt-2 text-purple-500 cursor-pointer hover:underline",onClick:()=>_(!0),children:"Experimente usar a IA para criar uma lista!"})]}):Qh.map(W=>{const le=V[W];return!le||le.length===0?null:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 px-4 py-2 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[f.jsx(BB,{className:"w-3 h-3"})," ",W]}),f.jsx("span",{className:"text-[10px] font-bold bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-1.5 py-0.5 rounded-full",children:le.length})]}),f.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:le.map(ce=>f.jsxs("div",{className:`p-4 flex flex-col sm:flex-row sm:items-center gap-4 transition-colors ${ce.isChecked?"bg-slate-50/50 dark:bg-slate-700/30":""}`,children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[f.jsx("button",{onClick:()=>n(ce.id,{isChecked:!ce.isChecked}),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0 ${ce.isChecked?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:f.jsx(Mx,{className:"w-4 h-4"})}),f.jsx("span",{className:`font-medium text-lg truncate ${ce.isChecked?"text-slate-400 line-through":"text-slate-700 dark:text-slate-200"}`,children:ce.name})]}),f.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto",children:[f.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[f.jsx("button",{onClick:()=>G(ce.id,ce.quantity,-1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:f.jsx(YB,{className:"w-4 h-4"})}),f.jsx("span",{className:"w-8 text-center font-bold text-slate-700 dark:text-white text-sm",children:ce.quantity}),f.jsx("button",{onClick:()=>G(ce.id,ce.quantity,1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:f.jsx(Mi,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold",children:"R$"}),f.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:ce.actualPrice===0?"":ce.actualPrice,onChange:Ne=>n(ce.id,{actualPrice:parseFloat(Ne.target.value)||0}),className:`w-24 pl-8 pr-2 py-2 rounded-lg border outline-none font-bold text-right transition-colors ${ce.actualPrice>0?"border-emerald-300 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500"}`})]}),f.jsx("button",{onClick:()=>r(ce.id),className:"p-2 text-slate-300 hover:text-rose-500 transition-colors",children:f.jsx(au,{className:"w-5 h-5"})})]})]},ce.id))})]},W)})}),f.jsxs("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:hidden z-30 flex gap-2 w-[90%] max-w-sm",children:[f.jsx("button",{onClick:()=>_(!0),disabled:!l,className:"bg-white dark:bg-slate-800 text-purple-600 p-4 rounded-full shadow-lg border border-purple-100 dark:border-purple-900 disabled:opacity-50",children:f.jsx(Ds,{className:"w-6 h-6"})}),f.jsxs("button",{onClick:()=>x(!0),disabled:t.length===0,className:"flex-1 bg-slate-900 text-white rounded-full shadow-xl font-bold flex items-center justify-between px-6 hover:scale-105 transition-transform disabled:opacity-70 disabled:scale-100",children:[f.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[f.jsx("span",{className:"text-[10px] text-emerald-400 uppercase font-bold",children:"Total"}),f.jsx("span",{className:"text-lg",children:H(F)})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 px-3 py-1.5 rounded-lg",children:["Finalizar ",f.jsx(Ww,{className:"w-4 h-4"})]})]})]})]})},_Ie={age:30,retirementAge:60,riskProfile:"moderate"},G2={conservative:.03,moderate:.05,aggressive:.07},wIe=({data:t,onSaveProfile:e,privacyMode:n,hasApiKey:r})=>{const[i,o]=B.useState(t.wealthProfile||_Ie),[s,a]=B.useState(!t.wealthProfile),[l,u]=B.useState(null),[c,d]=B.useState(!1),h=B.useMemo(()=>t.investments.reduce((S,k)=>S+k.amount,0),[t.investments]),y=B.useMemo(()=>t.debts.filter(S=>S.status!=="paid").reduce((S,k)=>S+k.currentAmount,0),[t.debts]),v=h-y,b=B.useMemo(()=>{const S=t.transactions.filter(T=>T.type==="income").reduce((T,I)=>T+I.amount,0),k=t.transactions.filter(T=>T.type==="expense").reduce((T,I)=>T+I.amount,0);if(S===0&&k===0)return{income:5e3,expense:4e3,savings:1e3};const C=S-k;return{income:S,expense:k>0?k:S*.8,savings:C}},[t.transactions]),x=i.monthlyContributionOverride!==void 0?i.monthlyContributionOverride:Math.max(0,b.savings),w=B.useMemo(()=>{const S=[],k=new Date().getFullYear(),C=i.retirementAge-i.age+10,T=G2[i.riskProfile],I=x*12,N=b.expense*12;let M=v,D=null;for(let R=0;R<=C;R++){const j=k+R,F=i.age+R,V=M*.04;!D&&V>=N&&(D=j),S.push({year:j,age:F,patrimonio:Math.round(M),rendaPassiva:Math.round(V/12),custoVida:Math.round(b.expense)}),F<i.retirementAge?M=M*(1+T)+I:M=M*(1+T)}return{chartData:S,freedomYear:D}},[i,v,x,b.expense]),_=()=>{e(i),a(!1)},E=async()=>{d(!0);const S=await BZ(t.investments,i.riskProfile,i.age);u(S),d(!1)},P=S=>n?"":`R$ ${S.toLocaleString("pt-BR",{maximumFractionDigits:0})}`;return f.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-slate-200 dark:border-slate-700 pb-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg shadow-lg shadow-yellow-500/20 text-white",children:f.jsx(OB,{className:"w-6 h-6"})}),"NEXO Private"]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Planejamento patrimonial e alocao estratgica de ativos."})]}),!s&&f.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Ajustar Perfil"})]}),s&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-l-4 border-yellow-500 animate-scale-in",children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[f.jsx(jx,{className:"w-5 h-5 text-yellow-500"})," Parmetros da Simulao"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Atual"}),f.jsx("input",{type:"number",value:i.age,onChange:S=>o({...i,age:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Aposentadoria"}),f.jsx("input",{type:"number",value:i.retirementAge,onChange:S=>o({...i,retirementAge:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Perfil de Risco"}),f.jsxs("select",{value:i.riskProfile,onChange:S=>o({...i,riskProfile:S.target.value}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600",children:[f.jsx("option",{value:"conservative",children:"Conservador"}),f.jsx("option",{value:"moderate",children:"Moderado"}),f.jsx("option",{value:"aggressive",children:"Arrojado"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Aporte Mensal (Simulado)"}),f.jsx("input",{type:"number",placeholder:`Atual: R$ ${b.savings.toFixed(0)}`,value:i.monthlyContributionOverride||"",onChange:S=>o({...i,monthlyContributionOverride:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]})]}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{onClick:_,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-6 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity",children:"Atualizar Projeo"})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 bg-slate-900 text-white p-6 rounded-xl shadow-2xl relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),f.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[f.jsx(Di,{className:"w-5 h-5 text-emerald-400"}),"Liberdade Financeira"]}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Cruzamento entre Renda Passiva e Custo de Vida."})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold",children:"Ano da Liberdade"}),f.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:w.freedomYear||"Em construo..."})]})]}),f.jsx("div",{className:"h-[300px] w-full",children:f.jsx($o,{width:"100%",height:"100%",children:f.jsxs(iIe,{data:w.chartData,margin:{top:10,right:10,left:0,bottom:0},children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorPassive",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),f.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),f.jsx(Xl,{strokeDasharray:"3 3",vertical:!1,stroke:"#334155"}),f.jsx(ni,{dataKey:"year",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),f.jsx(ri,{hide:!0,domain:["auto","auto"]}),f.jsx(Jt,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"},formatter:S=>[P(S),""]}),f.jsx(zf,{y:b.expense,stroke:"#f43f5e",strokeDasharray:"3 3",label:{value:"Custo Vida",fill:"#f43f5e",fontSize:10}}),f.jsx(os,{type:"monotone",dataKey:"rendaPassiva",stroke:"#10b981",fillOpacity:1,fill:"url(#colorPassive)",name:"Renda Passiva"})]})})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 flex flex-col justify-center",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Patrimnio Lquido Atual"}),f.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:P(v)})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ativos Investidos"}),f.jsx("span",{className:"font-semibold text-emerald-600",children:P(h)})]}),f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Dvidas Totais"}),f.jsx("span",{className:"font-semibold text-rose-600",children:P(y)})]}),f.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-700 my-2"}),f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Aporte Mensal"}),f.jsx("span",{className:"font-semibold text-indigo-600",children:P(x)})]}),f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Rentabilidade Real (Proj.)"}),f.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[(G2[i.riskProfile]*100).toFixed(1),"% a.a."]})]})]}),y>h&&f.jsxs("div",{className:"mt-6 bg-rose-50 dark:bg-rose-900/20 p-3 rounded-lg flex items-start gap-2",children:[f.jsx(i6,{className:"w-5 h-5 text-rose-600 shrink-0"}),f.jsx("p",{className:"text-xs text-rose-800 dark:text-rose-300",children:"Ateno: Seu patrimnio est negativo. A prioridade do planejamento deve ser a quitao de dvidas antes da acumulao."})]})]})]}),f.jsxs("div",{className:"mt-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(oD,{className:"w-6 h-6 text-purple-600"}),"Alocao Inteligente (IA)"]}),f.jsxs("button",{onClick:E,disabled:!r||c,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold text-sm shadow-md",children:[c?f.jsx("span",{className:"animate-spin",children:""}):f.jsx(Ds,{className:"w-4 h-4"}),l?"Atualizar Anlise":"Gerar Estratgia Private"]})]}),!r&&f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-8 rounded-xl text-center border border-dashed border-slate-300 dark:border-slate-600",children:[f.jsx(jx,{className:"w-10 h-10 text-slate-400 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Configure sua Chave API para desbloquear a inteligncia de alocao de ativos."})]}),r&&l&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Diagnstico do Portflio"}),f.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed mb-6",children:l.analysisText}),f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Plano de Ao Ttico"}),f.jsx("div",{className:"space-y-3",children:l.actionItems.map((S,k)=>f.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:`
                                      w-10 h-10 rounded-full flex items-center justify-center shrink-0 font-bold text-xs
                                      ${S.type==="buy"?"bg-emerald-100 text-emerald-700":S.type==="sell"?"bg-rose-100 text-rose-700":"bg-blue-100 text-blue-700"}
                                  `,children:S.type==="buy"?"COMPRA":S.type==="sell"?"VENDA":"MANTER"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm",children:S.title}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:S.description})]})]},k))})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 self-start",children:"Atual vs. Ideal (Modelo)"}),f.jsx("div",{className:"h-[300px] w-full",children:f.jsx($o,{width:"100%",height:"100%",children:f.jsxs(rIe,{cx:"50%",cy:"50%",outerRadius:"80%",data:l.suggestedAllocation.map(S=>{const k=l.currentAllocation.find(C=>C.name===S.name);return{subject:S.name,A:k?k.value:0,B:S.value,fullMark:100}}),children:[f.jsx(pF,{stroke:"#94a3b8"}),f.jsx(Ou,{dataKey:"subject",tick:{fill:"#64748b",fontSize:10}}),f.jsx(Ru,{angle:30,domain:[0,100],tick:!1}),f.jsx(Gl,{name:"Sua Carteira",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),f.jsx(Gl,{name:"Ideal (IA)",dataKey:"B",stroke:"#10b981",fill:"#10b981",fillOpacity:.3}),f.jsx(Jr,{}),f.jsx(Jt,{})]})})}),f.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Comparativo de % de alocao por classe de ativo."})]})]})]})]})},EIe=({user:t,isGuest:e,mobileMenuOpen:n,setMobileMenuOpen:r,currentView:i,onNavigate:o,onLogout:s,privacyMode:a,setPrivacyMode:l,darkMode:u,setDarkMode:c,isFullscreen:d,toggleFullscreen:h,hasKey:y,onOpenKeyModal:v,onOpenDonateModal:b,onExportBackup:x,onImportBackup:w,onFactoryReset:_,canInstall:E,onInstall:P})=>{var T,I;const S=B.useRef(null),k=N=>{o(N),r(!1)},C=({view:N,icon:M,label:D,customClass:R=""})=>f.jsxs("button",{onClick:()=>k(N),className:`flex w-full items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm font-medium ${R} ${i===N?"bg-indigo-600 text-white shadow-md shadow-indigo-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[f.jsx(M,{className:`w-5 h-5 ${i!==N&&R?"text-purple-400 group-hover:text-white":""}`}),f.jsx("div",{className:"flex-1 flex justify-between items-center",children:f.jsx("span",{children:D})})]});return f.jsxs("nav",{className:`
         fixed md:sticky top-0 left-0 h-screen z-50 w-72 md:w-64 bg-slate-900 border-r border-slate-800 
         transform transition-transform duration-300 ease-in-out shadow-2xl flex flex-col
         ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}
       `,children:[f.jsxs("div",{className:"flex items-center justify-between p-4 md:p-4 border-b border-slate-800 shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-indigo-600 p-2 rounded-xl shadow-lg shadow-indigo-900/50",children:f.jsx(Yw,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-white tracking-tight leading-none",children:"NEXO"}),f.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:"Financial Hub"})]})]}),f.jsx("button",{onClick:()=>r(!1),className:"md:hidden text-slate-400 hover:text-white",children:f.jsx(Dr,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"p-4 shrink-0",children:f.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-slate-800/50 rounded-lg border border-slate-700/50 backdrop-blur-sm",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center border border-slate-600 overflow-hidden text-xs text-white",children:t!=null&&t.photoURL?f.jsx("img",{src:t.photoURL,alt:"User"}):((T=t==null?void 0:t.email)==null?void 0:T.substring(0,2).toUpperCase())||"CV"}),f.jsxs("div",{className:"overflow-hidden flex-1 min-w-0",children:[f.jsx("p",{className:"text-xs font-bold text-white truncate",title:(t==null?void 0:t.email)||"Convidado",children:((I=t==null?void 0:t.email)==null?void 0:I.split("@")[0])||"Convidado"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-emerald-500":"bg-amber-500"}`}),f.jsx("p",{className:"text-[10px] text-slate-400",children:t?"Online (Cloud)":"Offline (Local)"})]})]}),f.jsx("button",{onClick:s,className:"text-slate-400 hover:text-rose-500",title:"Sair",children:f.jsx(GB,{className:"w-4 h-4"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 flex flex-col no-scrollbar",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"px-2 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Menu Principal"}),f.jsx(C,{view:De.DASHBOARD,icon:UB,label:"Dashboard"}),f.jsx(C,{view:De.CALENDAR,icon:Bo,label:"Agenda"}),f.jsx(C,{view:De.TRANSACTIONS,icon:ZB,label:"Transaes"}),f.jsx(C,{view:De.BUDGETS,icon:qs,label:"Metas"}),f.jsx(C,{view:De.SUBSCRIPTIONS,icon:Oo,label:"Assinaturas"}),f.jsx(C,{view:De.INVESTMENTS,icon:hD,label:"Investir"}),f.jsx(C,{view:De.DEBTS,icon:md,label:"Limpa Nome"}),f.jsx(C,{view:De.SHOPPING_LIST,icon:Qp,label:"Lista de Compras"}),f.jsx(C,{view:De.WEALTH_PLANNER,icon:fD,label:"Planejamento",customClass:"text-amber-400"})]}),f.jsx("div",{className:"mt-6 pt-4 border-t border-slate-800",children:f.jsx("button",{onClick:()=>y?k(De.AI_ASSISTANT):v(),className:`w-full relative group overflow-hidden rounded-xl p-[1px] transition-all duration-300 ${i===De.AI_ASSISTANT?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 shadow-lg shadow-purple-500/20":"bg-slate-700/50 hover:bg-gradient-to-r hover:from-indigo-500 hover:via-purple-500 hover:to-pink-500"}`,children:f.jsxs("div",{className:"relative flex items-center gap-3 px-3 py-3 rounded-[11px] bg-slate-900 transition-colors h-full",children:[f.jsx("div",{className:`p-1.5 rounded-lg ${i===De.AI_ASSISTANT?"bg-indigo-500/20":"bg-slate-800 group-hover:bg-slate-800"}`,children:f.jsx(HB,{className:`w-5 h-5 ${i===De.AI_ASSISTANT?"text-indigo-400":"text-slate-400 group-hover:text-white"}`})}),f.jsxs("div",{className:"flex-1 text-left",children:[f.jsx("p",{className:`text-sm font-bold ${i===De.AI_ASSISTANT?"text-white":"text-slate-300 group-hover:text-white"}`,children:"NEXO AI"}),f.jsx("p",{className:"text-[10px] text-slate-500 group-hover:text-slate-400",children:"Assistente Virtual"})]}),!y&&f.jsx(pd,{className:"w-3 h-3 text-rose-500 animate-pulse"})]})})})]}),f.jsxs("div",{className:"mt-auto p-4 border-t border-slate-800 bg-slate-900 shrink-0",children:[E&&f.jsxs("button",{onClick:P,className:"w-full mb-4 flex items-center justify-center gap-2 p-2 rounded-lg bg-emerald-600 text-white text-xs font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-500/20",children:[f.jsx(iD,{className:"w-3 h-3"})," Instalar App (PWA)"]}),f.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Configuraes & Dados"}),f.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[f.jsx("button",{onClick:h,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:d?"Sair da Tela Cheia":"Tela Cheia",children:d?f.jsx(KB,{className:"w-5 h-5"}):f.jsx(zB,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>l(!a),className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:a?"Mostrar Valores":"Ocultar Valores",children:a?f.jsx(NB,{className:"w-5 h-5"}):f.jsx(RB,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>c(!u),className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:u?"Modo Claro":"Modo Escuro",children:u?f.jsx(l6,{className:"w-5 h-5"}):f.jsx(JB,{className:"w-5 h-5"})}),f.jsx("button",{onClick:v,className:`flex items-center justify-center p-2 rounded-lg transition-all border border-slate-800 hover:border-slate-700 ${y?"text-emerald-400 hover:bg-slate-800":"text-rose-400 hover:bg-slate-800 animate-pulse"}`,title:"Configurar Chave API",children:f.jsx(pd,{className:"w-5 h-5"})}),f.jsx("button",{onClick:x,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-blue-400 transition-all border border-slate-800 hover:border-slate-700",title:"Baixar Backup (Exportar)",children:f.jsx(LB,{className:"w-5 h-5"})}),f.jsxs("label",{className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-blue-400 transition-all border border-slate-800 hover:border-slate-700 cursor-pointer",title:"Restaurar Backup (Importar)",children:[f.jsx($B,{className:"w-5 h-5"}),f.jsx("input",{type:"file",ref:S,className:"hidden",accept:".json",onChange:w})]}),f.jsx("button",{onClick:_,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-rose-500 transition-all border border-slate-800 hover:border-slate-700",title:"Resetar App (Fbrica)",children:f.jsx(au,{className:"w-5 h-5"})}),f.jsx("button",{onClick:b,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-pink-500 transition-all border border-slate-800 hover:border-slate-700",title:"Apoiar Projeto",children:f.jsx(dD,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"pt-4 mt-3 border-t border-slate-800 text-center",children:[f.jsx("p",{className:"text-[10px] text-slate-500 font-mono",children:"v2.1.8 Stable"}),f.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-slate-400 hover:text-indigo-400 transition-colors flex items-center justify-center gap-1.5 mt-1",children:[f.jsx(pD,{className:"w-3 h-3"})," Alexandre Magno S. Linhares"]})]})]})]})},TIe=({showWelcome:t,isDonateModalOpen:e,isKeyModalOpen:n,userKeyInput:r,hasKey:i,PIX_KEY:o,PIX_NAME:s,setShowWelcome:a,setIsDonateModalOpen:l,setIsKeyModalOpen:u,setUserKeyInput:c,handleSaveKey:d,handleRemoveKey:h,handleFinishWelcome:y,copyPix:v})=>f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl border border-slate-200 dark:border-slate-700 animate-scale-in my-8",children:[f.jsx("div",{className:"bg-slate-900 p-8 text-white relative overflow-hidden rounded-t-2xl",children:f.jsxs("div",{className:"relative z-10",children:[f.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Bem-vindo ao NEXO"}),f.jsx("p",{className:"text-slate-300 text-lg",children:"Seu novo comando central financeiro."})]})}),f.jsxs("div",{className:"p-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[f.jsx(jx,{className:"w-5 h-5 text-indigo-500"})," Privacidade Total"]}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Seus dados financeiros no so vendidos. No modo Offline, tudo fica no seu navegador."})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[f.jsx(Rx,{className:"w-5 h-5 text-purple-500"})," Inteligncia Artificial"]}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Conecte sua chave do Gemini para ter um consultor financeiro pessoal."})]})]}),f.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800 p-4 rounded-xl mb-8",children:[f.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"J possui uma chave de API do Gemini? (Opcional)"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"password",value:r,onChange:b=>c(b.target.value),placeholder:"Cole sua chave AIza...",className:"flex-1 p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 outline-none"}),f.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:["Obter Chave ",f.jsx(uD,{className:"w-3 h-3"})]})]})]}),f.jsxs("button",{onClick:y,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:["Comear Agora ",f.jsx(qg,{className:"w-5 h-5"})]})]})]})}),e&&f.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-slate-200 dark:border-slate-700 animate-scale-in text-center relative overflow-hidden",children:[f.jsx("button",{onClick:()=>l(!1),className:"absolute top-2 right-2 p-2 text-slate-400 hover:text-slate-600",children:f.jsx(Dr,{className:"w-5 h-5"})}),f.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(DB,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"Apoie o Projeto"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"O NEXO  desenvolvido de forma independente. Considere apoiar! "}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6 relative group cursor-pointer",onClick:v,children:[f.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Chave Pix (CPF)"}),f.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 break-all select-all",children:o}),f.jsx("div",{className:"absolute inset-0 bg-black/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl",children:f.jsxs("span",{className:"bg-white dark:bg-slate-800 text-xs font-bold px-2 py-1 rounded shadow flex items-center gap-1",children:[f.jsx(aD,{className:"w-3 h-3"})," Copiar"]})})]}),f.jsxs("p",{className:"text-xs text-slate-400 mb-6",children:["Nome: ",s]})]})}),n&&f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-200 dark:border-slate-700 animate-scale-in flex flex-col max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(pd,{className:"w-6 h-6 text-indigo-500"})," Configurar Chave API"]}),f.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx(Dr,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg text-sm text-indigo-800 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800",children:[f.jsxs("p",{className:"font-bold flex items-center gap-1 mb-1",children:[f.jsx(Ds,{className:"w-3 h-3"})," Por que preciso disso?"]}),f.jsx("p",{children:"O Google Gemini  o crebro por trs da IA do NEXO. Para us-lo gratuitamente, voc precisa gerar sua prpria chave de acesso."})]}),f.jsxs("ol",{className:"list-decimal list-inside text-sm text-slate-600 dark:text-slate-400 space-y-2 ml-1",children:[f.jsxs("li",{children:["Acesse o ",f.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-600 font-bold hover:underline",children:"Google AI Studio"}),"."]}),f.jsx("li",{children:"Faa login com sua conta Google."}),f.jsxs("li",{children:["Clique em ",f.jsx("strong",{children:"Create API Key"}),"."]}),f.jsx("li",{children:'Copie o cdigo gerado (comea com "AIza...") e cole abaixo.'})]}),f.jsx("input",{type:"password",value:r,onChange:b=>c(b.target.value),placeholder:"Cole sua chave aqui (AIza...)",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:d,disabled:!r,className:"flex-1 px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg text-sm font-bold shadow-lg shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Salvar e Conectar"}),f.jsx("button",{onClick:h,disabled:!i,className:"px-4 py-2 bg-rose-100 text-rose-600 hover:bg-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:hover:bg-rose-900/50 rounded-lg text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Remover"})]})]})]})})]}),SIe={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,unlockedBadges:[],walletBalance:0},AIe=(t,e)=>{const[n,r]=B.useState(SIe);return B.useEffect(()=>{if(t&&!e){const T=uH(t.uid,I=>{r(N=>({...N,...I}))});return()=>T()}},[t,e]),B.useEffect(()=>{t&&!e&&n.transactions.length>0&&n.walletBalance===void 0&&(console.log("Migrando para sistema de Saldo Otimizado..."),dH(t.uid))},[t,e,n.transactions.length,n.walletBalance]),B.useEffect(()=>{(t||e)&&(async()=>{const I=new Date,N=I.getMonth(),M=I.getFullYear(),D=new Map;n.transactions.forEach(j=>{if(j.isRecurring){const F=D.get(j.description);(!F||new Date(j.date)>new Date(F.date))&&D.set(j.description,j)}});const R=[];if(D.forEach((j,F)=>{if(!n.transactions.some(z=>{const $=new Date(z.date);return z.description===F&&z.amount===j.amount&&$.getMonth()===N&&$.getFullYear()===M})){const $=new Date(j.date).getDate(),G=new Date(M,N+1,0).getDate(),q=Math.min($,G),Y=new Date(M,N,q);R.push({...j,id:crypto.randomUUID(),date:Y.toISOString().split("T")[0],status:"pending",isRecurring:!0})}}),R.length>0)if(t)for(const j of R)await YI(t.uid,j);else r(j=>({...j,transactions:[...j.transactions,...R]}))})()},[t,e,n.transactions]),{data:n,setData:r,actions:{addTransaction:async T=>{const I={...T,id:crypto.randomUUID()};t?await YI(t.uid,I):r(N=>({...N,transactions:[...N.transactions,I]}))},updateTransaction:async(T,I)=>{t?await JI(t.uid,T,I):r(N=>({...N,transactions:N.transactions.map(M=>M.id===T?{...M,...I}:M)}))},deleteTransaction:async T=>{t?await cH(t.uid,T):r(I=>({...I,transactions:I.transactions.filter(N=>N.id!==T)}))},toggleTransactionStatus:async T=>{const I=n.transactions.find(M=>M.id===T);if(!I)return;const N=I.status==="paid"?"pending":"paid";if(t){if(await JI(t.uid,T,{status:N}),I.debtId){const M=n.debts.find(D=>D.id===I.debtId);if(M){const j=n.transactions.filter(F=>F.debtId===I.debtId).every(F=>F.id===T?N==="paid":F.status==="paid")?"paid":"agreement";M.status!==j&&await XI(t.uid,M.id,{status:j})}}}else r(M=>{const D=M.transactions.map(j=>j.id===T?{...j,status:N}:j);let R=M.debts;if(I.debtId){const V=D.filter(z=>z.debtId===I.debtId).every(z=>z.status==="paid")?"paid":"agreement";R=M.debts.map(z=>z.id===I.debtId?{...z,status:V}:z)}return{...M,transactions:D,debts:R}})},addInvestment:async T=>{const I={...T,id:crypto.randomUUID()};t?await fH(t.uid,I):r(N=>({...N,investments:[...N.investments,I]}))},updateInvestment:async(T,I)=>{t?await hH(t.uid,T,I):r(N=>({...N,investments:N.investments.map(M=>M.id===T?{...M,...I}:M)}))},deleteInvestment:async T=>{t?await pH(t.uid,T):r(I=>({...I,investments:I.investments.filter(N=>N.id!==T)}))},addBudget:async T=>{const I={...T,id:crypto.randomUUID()};t?await mH(t.uid,I):r(N=>({...N,budgets:[...N.budgets||[],I]}))},updateBudget:async(T,I)=>{t?await gH(t.uid,T,I):r(N=>({...N,budgets:N.budgets.map(M=>M.id===T?{...M,...I}:M)}))},deleteBudget:async T=>{t?await yH(t.uid,T):r(I=>({...I,budgets:I.budgets.filter(N=>N.id!==T)}))},addDebt:async T=>{const I={...T,id:crypto.randomUUID()};t?await vH(t.uid,I):r(N=>({...N,debts:[...N.debts||[],I]}))},updateDebt:async(T,I)=>{t?await XI(t.uid,T,I):r(N=>({...N,debts:N.debts.map(M=>M.id===T?{...M,...I}:M)}))},deleteDebt:async T=>{t?await xH(t.uid,T):r(I=>({...I,debts:I.debts.filter(N=>N.id!==T)}))},addShoppingItem:async T=>{const I={...T,id:crypto.randomUUID()};t?await bH(t.uid,I):r(N=>({...N,shoppingList:[...N.shoppingList||[],I]}))},updateShoppingItem:async(T,I)=>{t?await _H(t.uid,T,I):r(N=>({...N,shoppingList:N.shoppingList.map(M=>M.id===T?{...M,...I}:M)}))},deleteShoppingItem:async T=>{t?await wH(t.uid,T):r(I=>({...I,shoppingList:I.shoppingList.filter(N=>N.id!==T)}))},clearShoppingList:async()=>{t?await EH(t.uid):r(T=>({...T,shoppingList:[]}))},setShoppingBudget:async T=>{t?await TH(t.uid,T):r(I=>({...I,shoppingBudget:T}))},unlockBadge:T=>{n.unlockedBadges.includes(T)||(t?SH(t.uid,T,n.unlockedBadges):r(I=>({...I,unlockedBadges:[...I.unlockedBadges,T]})))},saveWealthProfile:async T=>{t?await AH(t.uid,T):r(I=>({...I,wealthProfile:T}))}}}},z2="028.268.001-24",IIe="Alexandre Magno dos Santos Linhares",CIe=()=>{const[t,e]=B.useState(null),[n,r]=B.useState(!1),[i,o]=B.useState(!0),{data:s,setData:a,actions:l}=AIe(t,n),[u,c]=B.useState(De.DASHBOARD),[d,h]=B.useState(!1),[y,v]=B.useState(!1),[b,x]=B.useState(!1),[w,_]=B.useState(!1),[E,P]=B.useState(null),[S,k]=B.useState(0),[C,T]=B.useState(!1),[I,N]=B.useState(""),[M,D]=B.useState(!1),[R,j]=B.useState(!1),[F,V]=B.useState(!1);B.useRef(null),B.useEffect(()=>{const Q=X=>{X.preventDefault(),P(X)};return window.addEventListener("beforeinstallprompt",Q),()=>window.removeEventListener("beforeinstallprompt",Q)},[]);const z=async()=>{if(!E)return;E.prompt();const{outcome:Q}=await E.userChoice;P(null)};B.useEffect(()=>{const Q=W7(Ha,async X=>{if(e(X),o(!1),X){r(!1);const ve=KI("guest_user");ve.transactions.length>0&&confirm("Encontramos dados no modo convidado. Deseja migrar para sua conta na nuvem?")&&(await QI(X.uid,ve),localStorage.removeItem("finansmart_data_v2_guest_user"))}});return()=>Q()},[]),B.useEffect(()=>{!i&&n&&lH(s,"guest_user")},[s,n,i]);const $=()=>{r(!0);const Q=KI("guest_user");a(Q)},G=async()=>{n?(r(!1),a({transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],unlockedBadges:[]})):await K7(Ha)};B.useEffect(()=>{D(Mk()),Mk()&&N(vu()||""),!localStorage.getItem("nexo_welcome_seen")&&(t||n)&&V(!0)},[t,n]);const q=()=>{I.trim()&&(Ok(I.trim()),D(!0),T(!1),alert("Chave API salva no seu navegador com sucesso!"))},Y=()=>{$Z(),N(""),D(!1),T(!1)},H=()=>{I.trim()&&(Ok(I.trim()),D(!0)),localStorage.setItem("nexo_welcome_seen","true"),V(!1)},ne=()=>{navigator.clipboard.writeText(z2),alert("Chave Pix copiada!")};B.useEffect(()=>{y?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);const he=()=>{document.fullscreenElement?(document.exitFullscreen&&document.exitFullscreen(),x(!1)):(document.documentElement.requestFullscreen().catch(Q=>console.error(Q)),x(!0))},W=()=>{confirm(` ATENO: Isso apagar TODOS os dados, configuraes e chave API deste navegador.

Deseja realmente resetar o app para o estado de fbrica?`)&&(localStorage.clear(),window.location.reload())},le=()=>{const Q=JSON.stringify(s),X="data:application/json;charset=utf-8,"+encodeURIComponent(Q),ve=document.createElement("a");ve.setAttribute("href",X),ve.setAttribute("download","nexo_backup.json"),ve.click()},ce=Q=>{var _e;const X=(_e=Q.target.files)==null?void 0:_e[0];if(!X)return;const ve=new FileReader;ve.onload=async Ce=>{var Ve;try{const vt=JSON.parse((Ve=Ce.target)==null?void 0:Ve.result);confirm("Isso substituir seus dados atuais. Tem certeza?")&&(t?await QI(t.uid,vt):a(vt),alert("Backup restaurado com sucesso!"))}catch{alert("Erro ao ler arquivo de backup.")}},ve.readAsText(X)},Ne=Q=>{c(Q),_(!1),setTimeout(()=>k(Date.now()),50)},ae=async(Q,X,ve)=>{const _e={description:`Compra de Mercado (${new Date().toLocaleDateString()})`,amount:Q,type:"expense",category:ve,date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:X,isRecurring:!1};await l.addTransaction(_e),await l.clearShoppingList(),alert("Compra finalizada! Despesa registrada com sucesso."),c(De.TRANSACTIONS)},J=()=>{switch(u){case De.DASHBOARD:return f.jsx($2,{data:s,privacyMode:d,onUnlockBadge:l.unlockBadge});case De.TRANSACTIONS:return f.jsx(aIe,{transactions:s.transactions,budgets:s.budgets,onAdd:l.addTransaction,onUpdate:l.updateTransaction,onDelete:l.deleteTransaction,onToggleStatus:l.toggleTransactionStatus,onNavigate:Q=>c(Q),privacyMode:d,hasApiKey:M,quickActionSignal:S});case De.INVESTMENTS:return f.jsx(lIe,{investments:s.investments,onAdd:l.addInvestment,onUpdate:l.updateInvestment,onDelete:l.deleteInvestment,onNavigate:Q=>c(Q),privacyMode:d,hasApiKey:M,quickActionSignal:S});case De.SHOPPING_LIST:return f.jsx(bIe,{items:s.shoppingList||[],onAdd:l.addShoppingItem,onUpdate:l.updateShoppingItem,onDelete:l.deleteShoppingItem,onClearList:l.clearShoppingList,onFinishShopping:ae,shoppingBudget:s.shoppingBudget,onUpdateBudget:l.setShoppingBudget,hasApiKey:M,privacyMode:d,quickActionSignal:S});case De.BUDGETS:return f.jsx(cIe,{budgets:s.budgets||[],transactions:s.transactions,investments:s.investments||[],onAdd:l.addBudget,onUpdate:l.updateBudget,onDelete:l.deleteBudget,onNavigate:Q=>c(Q),privacyMode:d,quickActionSignal:S});case De.SUBSCRIPTIONS:return f.jsx(dIe,{transactions:s.transactions,onUpdateTransaction:l.updateTransaction,onDeleteTransaction:l.deleteTransaction,privacyMode:d});case De.CALENDAR:return f.jsx(gIe,{transactions:s.transactions,onAddTransaction:l.addTransaction,privacyMode:d});case De.DEBTS:return f.jsx(xIe,{debts:s.debts||[],onAdd:l.addDebt,onUpdate:l.updateDebt,onDelete:l.deleteDebt,onAddTransaction:l.addTransaction,privacyMode:d,quickActionSignal:S});case De.AI_ASSISTANT:return f.jsx(yIe,{data:s,privacyMode:d});case De.WEALTH_PLANNER:return f.jsx(wIe,{data:s,onSaveProfile:l.saveWealthProfile,privacyMode:d,hasApiKey:M});default:return f.jsx($2,{data:s,privacyMode:d,onUnlockBadge:l.unlockBadge})}};return i?f.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:f.jsx(Hg,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):!t&&!n?f.jsx(zZ,{onGuestLogin:$}):f.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans text-slate-900 dark:text-slate-100 transition-colors duration-300",children:[w&&f.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm animate-fade-in",onClick:()=>_(!1)}),f.jsx(EIe,{user:t,isGuest:n,mobileMenuOpen:w,setMobileMenuOpen:_,currentView:u,onNavigate:Q=>c(Q),onLogout:G,privacyMode:d,setPrivacyMode:h,darkMode:y,setDarkMode:v,isFullscreen:b,toggleFullscreen:he,hasKey:M,onOpenKeyModal:()=>T(!0),onOpenDonateModal:()=>j(!0),onExportBackup:le,onImportBackup:ce,onFactoryReset:W,canInstall:!!E,onInstall:z}),f.jsxs("main",{className:"flex-1 p-4 md:p-8 pt-20 md:pt-8 pb-8 overflow-y-auto h-screen scroll-smooth",children:[f.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 bg-slate-900 p-4 border-b border-slate-800 z-30 flex items-center justify-between shadow-md",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>_(!0),className:"text-slate-300 hover:text-white p-1",children:f.jsx(qB,{className:"w-6 h-6"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:f.jsx(Yw,{className:"w-4 h-4 text-white"})}),f.jsx("span",{className:"font-bold text-white tracking-tight",children:"NEXO"})]})]}),f.jsxs("div",{className:"flex gap-4 items-center",children:[E&&f.jsx("button",{onClick:z,className:"text-emerald-400 hover:text-white animate-pulse",title:"Instalar Aplicativo",children:f.jsx(iD,{className:"w-5 h-5"})}),f.jsxs("button",{onClick:()=>T(!0),className:`${M?"text-emerald-400":"text-rose-500"} hover:text-white relative`,children:[f.jsx(pd,{className:"w-5 h-5"}),!M&&f.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2.5 w-2.5",children:[f.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),f.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-rose-500"})]})]})]})]}),f.jsxs("div",{className:"max-w-7xl mx-auto animate-fade-in",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[f.jsxs("button",{onClick:()=>Ne(De.TRANSACTIONS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-blue-100 dark:border-blue-900/30 hover:border-blue-300 transition-all group",children:[f.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/40 p-2.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors text-blue-600 dark:text-blue-400",children:f.jsx(Lx,{className:"w-5 h-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Nova"}),f.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Transao"})]})]}),f.jsxs("button",{onClick:()=>Ne(De.SHOPPING_LIST),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-emerald-100 dark:border-emerald-900/30 hover:border-emerald-300 transition-all group",children:[f.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/40 p-2.5 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors text-emerald-600 dark:text-emerald-400",children:f.jsx(Qp,{className:"w-5 h-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Calculadora"}),f.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Mercado"})]})]}),f.jsxs("button",{onClick:()=>Ne(De.DEBTS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-rose-100 dark:border-rose-900/30 hover:border-rose-300 transition-all group",children:[f.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/40 p-2.5 rounded-lg group-hover:bg-rose-600 group-hover:text-white transition-colors text-rose-600 dark:text-rose-400",children:f.jsx(md,{className:"w-5 h-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Registrar"}),f.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Dvida"})]})]}),f.jsxs("button",{onClick:()=>Ne(De.BUDGETS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-pink-100 dark:border-pink-900/30 hover:border-pink-300 transition-all group",children:[f.jsx("div",{className:"bg-pink-100 dark:bg-pink-900/40 p-2.5 rounded-lg group-hover:bg-pink-600 group-hover:text-white transition-colors text-pink-600 dark:text-pink-400",children:f.jsx(qs,{className:"w-5 h-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Definir"}),f.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Meta/Limite"})]})]})]}),J()]})]}),f.jsx(TIe,{showWelcome:F,isDonateModalOpen:R,isKeyModalOpen:C,userKeyInput:I,hasKey:M,PIX_KEY:z2,PIX_NAME:IIe,setShowWelcome:V,setIsDonateModalOpen:j,setIsKeyModalOpen:T,setUserKeyInput:N,handleSaveKey:q,handleRemoveKey:Y,handleFinishWelcome:H,copyPix:ne})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const b3=document.getElementById("root");if(!b3)throw new Error("Could not find root element to mount to");const kIe=V0.createRoot(b3);kIe.render(f.jsx(U.StrictMode,{children:f.jsx(CIe,{})}));
